<!DOCTYPE html>
<!-- saved from url=(0105)https://preview.flourish.studio/8020357/K2S8EMEtHEbKMu-fP-GtPQ23-rRp9qT61ShXVyKmqVSgvpEfORv2vlhiof56m_II/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!--<base target="_blank">--><base href="." target="_blank">
		<link rel="stylesheet" type="text/css" href="./S11打野_files/style.css">
	<title>S11打野</title><style>body.fl-cursor-custom,body.fl-cursor-custom *{cursor:none!important}body.fl-cursor-pointer,body.fl-cursor-pointer *{cursor:pointer!important}body.fl-cursor-default .fl-annotations .fl-annotations-cursor,body.fl-cursor-pointer .fl-annotations .fl-annotations-cursor{visibility:hidden}.fl-annotations{position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,0);cursor:pointer;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;-webkit-transition:opacity .25s;transition:opacity .25s}.fl-annotations,.fl-annotations.is-dragging,.fl-annotations.is-dragging *{pointer-events:none}.flourish-popup{z-index:100000}.fl-project-editor{font-family:Source Sans Pro,sans-serif;color:#333;margin:0;font-size:16px;height:100%;-webkit-font-smoothing:antialiased}.fl-project-editor *{box-sizing:border-box}.fl-project-editor .no-select{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fl-project-editor h1,.fl-project-editor h2,.fl-project-editor h3,.fl-project-editor h4,.fl-project-editor p{margin:0;font-weight:400}.fl-project-editor input,.fl-project-editor select,.fl-project-editor textarea{font-family:Source Sans Pro,sans-serif}.fl-project-editor a:link,.fl-project-editor a:visited{color:inherit;text-decoration:none}.fl-project-editor a:active,.fl-project-editor a:hover{opacity:.75}.fl-project-editor header{display:block;position:absolute;top:0;left:0;width:100%}.fl-project-editor main{display:block;position:absolute;top:80px;left:0;width:100%;height:calc(100vh - 80px);overflow-y:auto;-webkit-transition:height .5s ease,top .5s ease;transition:height .5s ease,top .5s ease}@media(min-width:420px){.fl-project-editor main{top:92px;height:calc(100vh - 92px)}}.fl-project-editor .hide-editor-bar main{top:50px;height:calc(100vh - 50px)}@media(min-width:420px){.fl-project-editor .hide-editor-bar main{top:62px;height:calc(100vh - 62px)}}.fl-project-editor .user-nav{float:right;padding-top:0;display:none}@media(min-width:820px){.fl-project-editor .user-nav{display:block;margin-top:13px;height:36px}.fl-project-editor .user-nav .dropdown-head #current-picture{height:36px;width:36px;border-radius:9999px;margin-left:10px}.fl-project-editor .user-nav .dropdown-list{left:auto;right:-5px;margin-top:-5px}}.fl-project-editor .visualisation-editor{overflow-x:hidden}.fl-project-editor .visualisation-editor .template-chooser.visible+.tab-panes{display:none}.fl-project-editor .visualisation-editor .tab-panes{height:100%;width:100%}.fl-project-editor .visualisation-editor .tab-panes #visualisation,.fl-project-editor .visualisation-editor .tab-panes .row-inner,.fl-project-editor .visualisation-editor .tab-panes .row.editor,.fl-project-editor .visualisation-editor .tab-panes .tab-pane{height:100%}.fl-project-editor .visualisation-editor .tab-panes #visualisation .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row-inner .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row.editor .editor-core,.fl-project-editor .visualisation-editor .tab-panes .tab-pane .editor-core{position:relative}@media (min-width:820px){.fl-project-editor .visualisation-editor .tab-panes #visualisation .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row-inner .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row.editor .editor-core,.fl-project-editor .visualisation-editor .tab-panes .tab-pane .editor-core{min-height:100%;padding-bottom:40px}}.fl-project-editor .visualisation-editor .tab-panes .tab-pane .side-panel{display:none}.fl-project-editor .visualisation-editor .tab-panes .tab-pane.active .side-panel{display:block}.fl-project-editor .visualisation-editor .tab-panes .tab-pane:not(.active) #spreadsheet-container input{display:none}.fl-project-editor .story-editor,.fl-project-editor .visualisation-editor{background:#f9f9f9}.fl-project-editor .row.editor{padding:0}.no-template .fl-project-editor .row.editor{display:none}.fl-project-editor .row.editor .row-inner{max-width:none;padding:0 10px}.fl-project-editor .row.editor #visibility-status .label,.fl-project-editor .row.editor .blueprint-tag{display:inline-block;margin-left:2px}.fl-project-editor .row.editor #story,.fl-project-editor .row.editor #visualisation{height:100%;width:100%;-webkit-transition:height .5s ease;transition:height .5s ease;position:relative}.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{width:100%;height:auto;overflow:visible;-webkit-transition:width .5s ease;transition:width .5s ease;position:relative;text-align:center}.fl-project-editor .row.editor #story .editor-core .preview-holder,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder{width:100%;height:100%;padding-right:4px;min-width:100px;min-height:100px;-webkit-transition:margin-left .5s ease,width .5s ease,opacity 1s;transition:margin-left .5s ease,width .5s ease,opacity 1s;position:relative;background:#fff;display:inline-block;box-shadow:0 0 2px rgba(0,0,0,.2)}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview{max-height:100%;overflow-y:auto;min-width:100px;text-align:right;border:none;background:#fff;display:block;width:100%;height:100%}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview iframe{width:100vw;border:none;position:relative}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview #blank-slide,.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview #blank-slide,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview iframe{height:100%;width:100%;min-width:100px;border:none;-webkit-box-flex:1;flex:1}.fl-project-editor .row.editor #story .editor-core .preview-holder .loading-spinner,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder .loading-spinner{position:absolute;left:50%;top:50%;width:27px;height:27px;opacity:0;pointer-events:none;z-index:5;margin-top:-13.5px;margin-left:-13.5px}.fl-project-editor .row.editor #story .editor-core .preview-holder .unsupported-notice,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder .unsupported-notice{position:absolute;top:0;left:0;right:0;bottom:0;background-color:#f9f9f9;padding:20px;z-index:10}.fl-project-editor .row.editor #story .editor-core #resize-overlay,.fl-project-editor .row.editor #visualisation .editor-core #resize-overlay{position:absolute;top:0;left:0;width:100%;height:100%;display:none}.fl-project-editor .row.editor #story .editor-core #resize-overlay.dragging,.fl-project-editor .row.editor #visualisation .editor-core #resize-overlay.dragging{display:block}.fl-project-editor .row.editor #story .editor-core #resize-handle-container,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container{position:absolute;width:4px;bottom:0;top:0;right:0;margin-bottom:0;display:none;z-index:100;-webkit-transition:width .2s;transition:width .2s}.fl-project-editor .row.editor #story .editor-core #resize-handle-container #resize-handle,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container #resize-handle{cursor:ew-resize;position:absolute;width:4px;bottom:0;top:0;right:0;background:#eee;-webkit-transition:width .1s,background .1s;transition:width .1s,background .1s}.fl-project-editor .row.editor #story .editor-core #resize-handle-container #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container #resize-handle:after{display:block;content:"";position:absolute;top:0;bottom:0;left:-4px;background:transparent;right:0;width:auto}.fl-project-editor .row.editor #story .editor-core #resize-handle-container .resize-handle-icon,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container .resize-handle-icon{position:absolute;right:3px;top:50%;margin-top:-15px;opacity:.8;pointer-events:none;-webkit-transition:right .1s;transition:right .1s;display:none}.fl-project-editor .row.editor #story .editor-core #resize-handle-container>i,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container>i{position:absolute;top:5px;left:5px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover{width:6px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover #resize-handle,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover #resize-handle{width:6px;background:#ddd}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover #resize-handle:after{left:-10px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover .resize-handle-icon,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover .resize-handle-icon{right:2px;display:block}.fl-project-editor .row.editor #story .editor-core #resize-handle-container.dragging #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container.dragging #resize-handle:after{left:-200px;right:0}@media(min-width:770px){.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{padding:0}.fl-project-editor .row.editor #story .editor-core #resize-handle-container,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container{display:block}}@media(min-width:820px){.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{padding:0 10px 0 0}}.fl-project-editor .row.editor #visualisation{padding:10px 0 0}.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview{-webkit-transform-origin:left top;transform-origin:left top}.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview.mini-preview{z-index:1000;opacity:1;box-shadow:none;-webkit-animation:fadeIn .5s;animation:fadeIn .5s;overflow:hidden;pointer-events:none}@-webkit-keyframes fadeIn{0%{opacity:0}1%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}1%{opacity:0}to{opacity:1}}@media(min-width:820px){.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview{width:100%}}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe{height:calc(100% - 64px)}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview.nav-style-none iframe{height:100%}@media(min-width:820px){.fl-project-editor .row.editor #story .editor-core{max-width:calc(100% - 220px);margin-left:220px;min-height:calc(100vh - 94px)}}.fl-project-editor .row.editor.mobile #story .editor-core .preview-holder,.fl-project-editor .row.editor.mobile #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.mobile #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.mobile #visualisation .editor-core .preview-holder iframe{width:320px}.fl-project-editor .row.editor.mobile.landscape #story .editor-core .preview-holder,.fl-project-editor .row.editor.mobile.landscape #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.mobile.landscape #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.mobile.landscape #visualisation .editor-core .preview-holder iframe{width:500px}.fl-project-editor .row.editor.tablet #story .editor-core .preview-holder,.fl-project-editor .row.editor.tablet #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.tablet #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.tablet #visualisation .editor-core .preview-holder iframe{width:768px}.fl-project-editor .row.editor.tablet.landscape #story .editor-core .preview-holder,.fl-project-editor .row.editor.tablet.landscape #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.tablet.landscape #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.tablet.landscape #visualisation .editor-core .preview-holder iframe{width:1024px}@media(min-width:820px){.fl-project-editor .row.editor #visualisation .editor-core{max-width:calc(100% - 350px)}}.fl-project-editor .project-header{padding:0 10px;position:absolute;top:2px;left:48px;right:0;width:auto}@media(min-width:420px){.fl-project-editor .project-header{left:60px}.fl-project-editor .project-header:after{clear:both;display:block;content:""}}@media(min-width:620px){.fl-project-editor .project-header{height:60px;z-index:110}}.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .blueprint-tag,.fl-project-editor .project-header .read-only{text-align:left;margin:-1px 0 0 3px;height:auto;line-height:1em;display:inline-block;border-radius:3px;vertical-align:top}@media(min-width:420px){.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .blueprint-tag,.fl-project-editor .project-header .read-only{font-size:11px;padding:2px 3px 1px}}.fl-project-editor .project-header #visibility-status{cursor:pointer}.fl-project-editor .project-header #visibility-status:hover{color:#333}.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .read-only{color:#aaa;font-weight:400;padding:1px 3px 2px;background:#eee}.fl-project-editor .project-header #visibility-status.public,.fl-project-editor .project-header .read-only.public{background:#ffdc98;color:#000}.fl-project-editor .project-header #visibility-status.public:hover,.fl-project-editor .project-header .read-only.public:hover{background:#eec26d;color:#000}.fl-project-editor .project-header .blueprint-tag{font-size:9px;font-weight:700;background:#2886b2;color:#fff;text-transform:uppercase;padding:1px 5px 2px;cursor:default}.fl-project-editor .project-header .project-settings{margin-left:10px;font-size:14px;font-weight:400;line-height:0;vertical-align:top;margin-bottom:-3px;display:inline-block;margin-top:-2px;z-index:110;height:auto}.fl-project-editor .project-header .project-settings .dropdown-head{padding-right:5px;padding-left:5px;padding-bottom:10px;font-size:16px}.fl-project-editor .project-header .project-settings .dropdown-list{margin-right:0}@media(min-width:420px){.fl-project-editor .project-header .project-settings{top:0;margin-top:-4px;padding-top:19px}}@media(min-width:620px){.fl-project-editor .project-header .project-settings{padding-top:18px}}.fl-project-editor .project-header .has-name+.project-settings{margin-left:0}.fl-project-editor .project-header .name{position:relative;vertical-align:top;font-weight:400;font-style:italic;height:23px;margin-left:0;width:auto;display:inline-block;font-size:16px;z-index:110;margin-top:3px}@media(min-width:420px){.fl-project-editor .project-header .name{margin-top:5px;height:26px}}@media(min-width:620px){.fl-project-editor .project-header .name{font-size:18px}}@media(min-width:820px){.fl-project-editor .project-header .name{font-size:18px}}.fl-project-editor .project-header .name input{font-size:1em;font-size:inherit;border:none;border-bottom:1px solid #ccc;border-radius:0;background:#fff;font-style:italic;padding:0;display:inline-block;color:#aaa;position:absolute;left:0;top:0;box-sizing:content-box;outline:none;height:23px}@media(min-width:420px){.fl-project-editor .project-header .name input{height:26px}}.fl-project-editor .project-header .name .name-width-setter{font-size:inherit;padding:0;display:inline-block;opacity:0;pointer-events:none;max-width:140px;min-width:40px;white-space:pre}@media(min-width:420px){.fl-project-editor .project-header .name .name-width-setter{max-width:240px}}@media(min-width:620px){.fl-project-editor .project-header .name .name-width-setter{max-width:340px}}@media(min-width:820px){.fl-project-editor .project-header .name .name-width-setter{max-width:340px}}.fl-project-editor .project-header .name.not-editable input{border-color:transparent;color:#333;top:0;background:transparent;font-style:normal}.fl-project-editor .project-header .name.has-name .name-width-setter,.fl-project-editor .project-header .name.has-name input{font-style:normal;background:none}.fl-project-editor .project-header .name.has-name input{color:#333;border-color:#ccc;top:0;font-style:normal}.fl-project-editor .project-header .name.has-name .name-overlay{display:block;top:0}.fl-project-editor .project-header .name .name-overlay{display:none;content:"";position:absolute;left:125px;top:0;width:20px;height:100%;background:-webkit-gradient(linear,left top,right top,from(hsla(0,0%,100%,0)),color-stop(80%,#fff));background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff 80%)}@media(min-width:420px){.fl-project-editor .project-header .name .name-overlay{left:225px}}@media(min-width:620px){.fl-project-editor .project-header .name .name-overlay{left:325px}}@media(min-width:820px){.fl-project-editor .project-header .name .name-overlay{left:325px}}.fl-project-editor .project-header .project-author{color:#aaa;font-weight:400;top:30px;font-size:11px;line-height:1em;position:absolute}@media(min-width:420px){.fl-project-editor .project-header .project-author{top:38px;font-size:12px}}@media(min-width:820px){.fl-project-editor .project-header .project-author{font-size:12px}}.fl-project-editor .project-header .project-author+.dropdown .dropdown-head{display:inline-block}.fl-project-editor .project-header .project-author+.dropdown .badge{top:-14px}.fl-project-editor .project-header .project-author+.dropdown .dropdown-list .badge{position:absolute;right:10px;top:12px;pointer-events:none}.fl-project-editor .project-header #export-btn-group{float:right;margin-bottom:0;margin-right:0;margin-top:9px}.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{width:30px;height:30px;padding:0;text-align:center}.fl-project-editor .project-header #export-btn-group #story-btn span,.fl-project-editor .project-header #export-btn-group .export-btn span{display:none}.fl-project-editor .project-header #export-btn-group #story-btn i,.fl-project-editor .project-header #export-btn-group .export-btn i{margin-right:0}@media(min-width:420px){.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{width:30px;height:30px}}@media(min-width:820px){.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{padding:0 8px;height:36px;width:auto}.fl-project-editor .project-header #export-btn-group #story-btn span,.fl-project-editor .project-header #export-btn-group .export-btn span{display:inline}.fl-project-editor .project-header #export-btn-group #story-btn i,.fl-project-editor .project-header #export-btn-group .export-btn i{margin-right:3px}}.fl-project-editor .project-header #export-btn-group #create-btn{height:36px;line-height:34px}.visualisation-editor.no-template .fl-project-editor .project-header #export-btn-group{display:none}.fl-project-editor .project-header #export-btn-group #story-btn-form{display:inline-block}.fl-project-editor .project-header #export-btn-group #story-btn{border:1px solid #ddd;background-color:#eee;color:#333;font-family:Source Sans Pro;margin-right:8px;overflow:visible}@media(min-width:420px){.fl-project-editor .project-header #export-btn-group{margin-top:15px}}@media(min-width:820px){.fl-project-editor .project-header #export-btn-group{margin-top:12px}}.fl-project-editor .row.editor-bar{background:#e3e3e3;height:30px;font-size:12px;padding:0 10px}.fl-project-editor .row.editor-bar #visualisation-tabs{z-index:110;width:calc(100% - 120px);margin-left:60px;text-align:center}.fl-project-editor .row.editor-bar #visualisation-tabs button{font-size:12px;line-height:1em}.fl-project-editor .row.editor-bar #visualisation-tabs button i{margin-right:3px;font-size:11px}.fl-project-editor .row.editor-bar #visibility-status,.fl-project-editor .row.editor-bar .read-only{display:inline-block;float:left;font-weight:700;color:#aaa;margin-top:7px}.fl-project-editor .row.editor-bar .confirm-saved{float:right;margin-top:8px;margin-left:0;width:60px}@media(min-width:820px){.fl-project-editor .row.editor-bar #visualisation-tabs{width:calc(100% - 380px);margin-left:0}}.fl-project-editor .tab-data .tab-preview{position:fixed;z-index:2}.fl-project-editor .tab-data #preview-menu{opacity:0;pointer-events:none}.fl-project-editor .side-panel{text-align:left;position:relative;background:#f9f9f9;line-height:1.1;margin-left:0;padding:10px 0 1px;width:100%}.fl-project-editor .side-panel.closed{margin-left:-300px}.fl-project-editor .side-panel .side-panel-inner{margin-bottom:87px;background:#fff}@media(min-width:820px){.fl-project-editor .side-panel .side-panel-inner{border:none;background:transparent}}.fl-project-editor .side-panel .side-panel-close{position:absolute;top:15px;right:10px;font-size:1.25em;width:1.5em;height:1.5em;padding:.1em;text-align:center;border:1px solid rgba(0,0,0,.4);border-radius:3px;background:#eaeaea;-webkit-transition:right .5s ease;transition:right .5s ease;z-index:1}.fl-project-editor .side-panel .side-panel-close.opener{right:calc(-1.5em + 1px);border-bottom-left-radius:0;border-top-left-radius:0}.fl-project-editor .side-panel .side-panel-close:hover{opacity:1}.fl-project-editor .side-panel .side-panel-close:hover i{opacity:.7}.fl-project-editor .side-panel#slides-panel{height:100%;padding:0;background:#fff;margin-top:20px}.fl-project-editor .side-panel#slides-panel .side-panel-scrollbox{padding:0 15px 10px}@media(min-width:820px){.fl-project-editor .side-panel#slides-panel{max-width:200px;right:auto;position:absolute;top:0;margin-top:0;border-right:1px solid #ddd}}.fl-project-editor .side-panel .side-panel-scrollbox{width:100%;height:100%;padding:10px 10px 20px;overflow-y:scroll}.fl-project-editor .side-panel .side-panel-scrollbox .side-panel-inner{width:100%}@media(min-width:1220px){.fl-project-editor .side-panel .side-panel-scrollbox{padding:20px}}.fl-project-editor .side-panel h1{margin:1em 0 .5em;font-size:.9em;opacity:.5;cursor:default}.fl-project-editor .side-panel h2{font-size:13px;letter-spacing:0;font-weight:500;margin:0 0 .6em;position:relative;color:#333;word-wrap:break-word}.fl-project-editor .side-panel .toplevel-settings-block{padding:0 5px 20px}.fl-project-editor .side-panel .toplevel-settings-block .settings-option{display:inline-block}.fl-project-editor .side-panel .toplevel-settings-block .settings-option:first-child{margin-top:9px}.fl-project-editor .side-panel .settings-divider{margin:1rem -10px 0;clear:both;width:calc(100% + 20px);height:1px;background:#eee}.fl-project-editor .side-panel .settings-subhead{text-transform:uppercase;font-size:.7rem;font-weight:700;color:#999;padding:.5rem 5px .25rem;margin:0;width:100%}.fl-project-editor .side-panel .settings-block{margin:0;display:inline-block;width:100%;background-color:#fff;padding:0 10px;min-height:24px}.fl-project-editor .side-panel .settings-block h2{margin:0 -10px;font-size:.8rem;padding:.75em 30px;font-weight:700;background-color:#f5f5f5;border-top:1px solid #ddd;cursor:pointer;color:#535e65}.fl-project-editor .side-panel .settings-block h2:focus{outline:none}.fl-project-editor .side-panel .settings-block h2:focus,.fl-project-editor .side-panel .settings-block h2:hover{background:#e8e8e8}.fl-project-editor .side-panel .settings-block h2:after{content:"";width:.6rem;height:.8rem;position:absolute;left:15px;background-repeat:no-repeat;background-position:50%;background-image:url(data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJjYXJldC1yaWdodCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTkyIDUxMiIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLWNhcmV0LXJpZ2h0IGZhLXctNiBmYS0zeCI+PHBhdGggZmlsbD0iIzUzNWU2NSIgZD0iTTAgMzg0LjY2MlYxMjcuMzM4YzAtMTcuODE4IDIxLjU0My0yNi43NDEgMzQuMTQyLTE0LjE0MmwxMjguNjYyIDEyOC42NjJjNy44MSA3LjgxIDcuODEgMjAuNDc0IDAgMjguMjg0TDM0LjE0MiAzOTguODA0QzIxLjU0MyA0MTEuNDA0IDAgNDAyLjQ4IDAgMzg0LjY2MnoiLz48L3N2Zz4=)}.fl-project-editor .side-panel .settings-block .settings-divider,.fl-project-editor .side-panel .settings-block .settings-option,.fl-project-editor .side-panel .settings-block .settings-subhead{display:none}.fl-project-editor .side-panel .settings-block input::-webkit-contacts-auto-fill-button{visibility:hidden;display:none!important;pointer-events:none;position:absolute;right:0}.fl-project-editor .side-panel .settings-block.open{padding-bottom:1rem}.fl-project-editor .side-panel .settings-block.open h2:after{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fl-project-editor .side-panel .settings-block.open .settings-option{display:inline-block}.fl-project-editor .side-panel .settings-block.open .settings-option.hidden{display:none}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker{vertical-align:top;line-height:0;position:relative}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker:hover:not(.is-null) .cancel-setting{-webkit-transform:translateX(27px);transform:translateX(27px)}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker.is-null .color-wrapper input{opacity:0}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting{width:30px;border:1px solid #ddd;background:#fff;position:absolute;padding:0;height:30px;vertical-align:top;left:0;-webkit-transition:-webkit-transform .2s;transition:-webkit-transform .2s;transition:transform .2s;transition:transform .2s,-webkit-transform .2s}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting svg{margin-left:2px;width:8px;height:8px;pointer-events:none;-webkit-transition:opacity .2s;transition:opacity .2s}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting:focus{border:1px solid #ddd}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting:hover svg{opacity:.4}.fl-project-editor .side-panel .settings-block.open .settings-divider,.fl-project-editor .side-panel .settings-block.open .settings-subhead{display:block}.fl-project-editor .side-panel .settings-block.open h2+.settings-divider{background:transparent;margin-top:.25rem}.fl-project-editor .side-panel .settings-block.hidden{display:none}.fl-project-editor .side-panel h3{font-size:.8rem;line-height:1.2em;font-weight:400;margin-top:0;margin-bottom:3px;color:#333;display:inline-block;cursor:default;overflow:hidden;vertical-align:top;background:#fff;text-overflow:ellipsis}.fl-project-editor .side-panel p{font-size:12px;margin-top:0;font-weight:300}.fl-project-editor .side-panel .settings-option{position:relative;margin-top:.75rem;display:none;vertical-align:bottom;width:100%;padding:0 5px}.fl-project-editor .side-panel .settings-option label{font-size:13px;display:inline-block;vertical-align:top;width:100%}.fl-project-editor .side-panel .settings-option label .help-tip{margin-left:3px;color:#d0d0d0;font-style:normal}.fl-project-editor .side-panel .settings-option label .help-tip:hover{color:#aaa}.fl-project-editor .side-panel .settings-option label:hover{z-index:2;position:relative}.fl-project-editor .side-panel .settings-option label:hover h3{padding-right:1px}.fl-project-editor .side-panel .settings-option button,.fl-project-editor .side-panel .settings-option input,.fl-project-editor .side-panel .settings-option select,.fl-project-editor .side-panel .settings-option textarea{border-radius:3px;border:1px solid #ddd;padding:.2em .1em .2em .3em;min-height:30px;font-size:13px;display:block;outline:none;-webkit-transition:border .2s linear;transition:border .2s linear;max-width:100%}.fl-project-editor .side-panel .settings-option button:focus,.fl-project-editor .side-panel .settings-option input:focus,.fl-project-editor .side-panel .settings-option select:focus,.fl-project-editor .side-panel .settings-option textarea:focus{border:1px solid #777}.fl-project-editor .side-panel .settings-option ::-webkit-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option :-ms-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option ::-ms-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option .autocomplete .dropdown-list .dropdown-item{font-size:13px;padding:10px 10px 10px 6px}.fl-project-editor .side-panel .settings-option .color-wrapper{width:30px;height:30px;overflow:hidden;border-radius:3px;position:relative;display:inline-block;background-color:#fff}.fl-project-editor .side-panel .settings-option .color-wrapper input{-webkit-transform:scale(10);transform:scale(10);position:absolute}.fl-project-editor .side-panel .settings-option .color-wrapper:before{display:block;position:absolute;content:"";top:0;bottom:-10px;left:0;width:1px;pointer-events:none;background:rgba(0,0,0,.1);-webkit-transform-origin:top;transform-origin:top;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.fl-project-editor .side-panel .settings-option .color-wrapper:after{display:block;position:absolute;content:"";border:1px solid rgba(0,0,0,.1);left:0;right:0;top:0;bottom:0;pointer-events:none}.fl-project-editor .side-panel .settings-option .color-wrapper:invalid{box-shadow:none}.fl-project-editor .side-panel .settings-option .single-button{background:#eee;color:#333;width:100%;border:none;padding:0;cursor:pointer;-webkit-transition:background-color .2s linear;transition:background-color .2s linear}.fl-project-editor .side-panel .settings-option .single-button:hover{background-color:#e0e0e0}.fl-project-editor .side-panel .settings-option .single-button:focus{border:none}.fl-project-editor .side-panel .settings-option .buttons-container{display:-webkit-box;display:flex}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]{width:0;height:0;opacity:0;margin:0;display:inline-block;display:none}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label{font-size:13px;background:#eee;color:#333;display:inline-block;height:30px;cursor:pointer;text-align:center;padding-top:8px;border-right:1px solid #fff;border-bottom:1px solid #fff;background-size:cover;background-position:50% 50%;-webkit-transition:background-color .2s linear;transition:background-color .2s linear}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label i{color:#555}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label img{margin-top:-8px}.fl-project-editor .side-panel .settings-option .buttons-container.large input[type=radio]+label{height:60px}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:not([disabled])+label:hover{background-color:#e0e0e0}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:disabled+label{cursor:default}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label{background-color:#ccdee6;cursor:default;position:relative}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label:hover{background-color:#ccdee6}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label:after{width:100%;height:2px;background:#2886b2;bottom:0;position:absolute;content:"";left:0}.fl-project-editor .side-panel .settings-option input[data-autocomplete]+.fa{position:absolute;right:10px;margin-top:-21px;font-size:12px;pointer-events:none}.fl-project-editor .side-panel .settings-option select{width:100%;height:30px}.fl-project-editor .side-panel .settings-option.option-type-color input{padding:0;background:#fff}.fl-project-editor .side-panel .settings-option.option-type-color,.fl-project-editor .side-panel .settings-option.option-type-number,.fl-project-editor .side-panel .settings-option.option-type-rows{width:50%}.fl-project-editor .side-panel .settings-option.option-type-color.width-quarter input,.fl-project-editor .side-panel .settings-option.option-type-number.width-quarter input,.fl-project-editor .side-panel .settings-option.option-type-rows.width-quarter input{width:100%}.fl-project-editor .side-panel .settings-option.option-type-color input,.fl-project-editor .side-panel .settings-option.option-type-number input,.fl-project-editor .side-panel .settings-option.option-type-rows input{width:calc((100% - 10px)/2);min-width:40px}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons).settings-buttons>label{height:auto}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input{display:none}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons)>label:first-child{position:absolute;padding-left:37px;padding-top:7px;width:auto;right:5px;left:5px}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider{position:relative;cursor:pointer;width:33px;height:30px;background:transparent;padding-left:0;padding-top:0}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:hover:after{border-color:#bbb}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:before{position:absolute;content:"";height:12px;width:33px;top:9px;left:0;border-radius:6px;background-color:#ddd;-webkit-transition:.1s;transition:.1s}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:after{position:absolute;content:"";height:24px;width:24px;left:0;bottom:3px;border-radius:50%;background-color:#fff;border:1px solid #ddd;box-sizing:border-box;-webkit-transition:.1s;transition:.1s}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:before{background:#ccdee6}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:after{left:9px;background:#2886b2;border-color:#2886b2}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:hover:after{background-color:#2886b2;border-color:#2886b2}.fl-project-editor .side-panel .settings-option.option-type-code textarea,.fl-project-editor .side-panel .settings-option.option-type-string input,.fl-project-editor .side-panel .settings-option.option-type-text textarea,.fl-project-editor .side-panel .settings-option.option-type-url input{width:100%}.fl-project-editor .side-panel .settings-option.option-type-code textarea.size-large,.fl-project-editor .side-panel .settings-option.option-type-text textarea.size-large{height:50vh}.fl-project-editor .side-panel .settings-option.option-type-code label{width:calc(100% - 18px)}.fl-project-editor .side-panel .settings-option.option-type-code .wrap-control{font-size:.7em;color:#999;-webkit-transform:scaleY(-1);transform:scaleY(-1);margin-bottom:.3em;display:inline-block;vertical-align:bottom;-webkit-transition:-webkit-transform .1s ease;transition:-webkit-transform .1s ease;transition:transform .1s ease;transition:transform .1s ease,-webkit-transform .1s ease}.fl-project-editor .side-panel .settings-option.option-type-code .wrap-control.selected{-webkit-transform:scale(-1);transform:scale(-1);cursor:pointer}.fl-project-editor .side-panel .settings-option.option-type-code textarea{font-family:monospace;font-size:13px}.fl-project-editor .side-panel .settings-option.option-type-font input.font-menu{width:100%;outline:none}.fl-project-editor .side-panel .settings-option.option-type-colors input{width:100%;margin:0;z-index:1;cursor:pointer}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item{display:-webkit-box;display:flex;-webkit-box-align:stretch;align-items:stretch;min-height:30px;overflow:hidden}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches em,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item em{font-style:normal;color:#777;display:block;padding:8px;pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches span,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span{display:inline-block;height:30px;-webkit-box-flex:1;flex:1}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches span:nth-child(n+13):nth-child(-n+99),.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span:nth-child(n+13):nth-child(-n+99){display:none}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches{padding:0;position:absolute;left:4px;right:26px;z-index:0;pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item{padding:2px 0!important;width:100%}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item label{position:absolute;top:6px;left:8px;color:hsla(0,0%,98%,.9);pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span{pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors.custom input{opacity:0}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches{-webkit-box-align:start;align-items:flex-start}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span{max-width:28px;pointer-events:auto;-webkit-transition:-webkit-transform .1s;transition:-webkit-transform .1s;transition:transform .1s;transition:transform .1s,-webkit-transform .1s;-webkit-transform-origin:center center;transform-origin:center center}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span:hover{-webkit-transform:scale(1.2);transform:scale(1.2)}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span.fa{font-size:24px;color:#ccc;margin-left:4px}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span.fa:before{position:relative;top:2px}.fl-project-editor .side-panel .settings-option.hidden{display:none}.fl-project-editor .side-panel .settings-option.width-full{width:100%!important}.fl-project-editor .side-panel .settings-option.width-half{width:50%!important}.fl-project-editor .side-panel .settings-option.width-quarter{width:25%!important}.fl-project-editor .side-panel .settings-option.width-three-quarters{width:75%!important}.fl-project-editor .side-panel .settings-option .description-link{cursor:pointer;color:#dd4141}.fl-project-editor .side-panel .detailed-settings h2{margin-bottom:.75rem}.fl-project-editor .side-panel .detailed-settings h2:after{content:""}.fl-project-editor .side-panel .palette{max-height:calc(100vh - 210px);overflow-y:auto;padding:1px}.fl-project-editor .side-panel .palette .swatch-color,.fl-project-editor .side-panel .palette button,.fl-project-editor .side-panel .palette input[type=color]{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;display:inline-block;width:28px;height:28px;padding:0;margin:1px;border:none;outline:none;background:transparent}.fl-project-editor .side-panel .palette .swatch-color.fa-plus-square:before,.fl-project-editor .side-panel .palette button.fa-plus-square:before,.fl-project-editor .side-panel .palette input[type=color].fa-plus-square:before{font-size:32px;color:#ddd;margin-left:1px}.fl-project-editor .side-panel .palette .swatch-color.fa-times,.fl-project-editor .side-panel .palette button.fa-times,.fl-project-editor .side-panel .palette input[type=color].fa-times{position:absolute;right:0;opacity:0;color:#aaa}.fl-project-editor .side-panel .palette .swatch-color.fa-times:hover,.fl-project-editor .side-panel .palette button.fa-times:hover,.fl-project-editor .side-panel .palette input[type=color].fa-times:hover{color:#888}.fl-project-editor .side-panel .palette .swatch-color::-webkit-color-swatch-wrapper,.fl-project-editor .side-panel .palette button::-webkit-color-swatch-wrapper,.fl-project-editor .side-panel .palette input[type=color]::-webkit-color-swatch-wrapper{padding:0}.fl-project-editor .side-panel .palette .swatch-color::-webkit-color-swatch,.fl-project-editor .side-panel .palette button::-webkit-color-swatch,.fl-project-editor .side-panel .palette input[type=color]::-webkit-color-swatch{border:none}.fl-project-editor .side-panel .palette [draggable]{cursor:move;cursor:grab;cursor:-webkit-grab}.fl-project-editor .side-panel .palette [draggable]:active{cursor:grabbing;cursor:-webkit-grabbing}.fl-project-editor .side-panel .palette .swatch-handle{display:block;width:15px;height:28px;color:#ddd;position:absolute;left:1px;top:7px;text-align:center;font-size:18px;font-weight:700;line-height:5.5px;pointer-events:none}.fl-project-editor .side-panel .palette input[type=text]{width:120px;width:calc(100% - 52px);background:transparent;padding:5px 8px;border-width:0;margin:0}.fl-project-editor .side-panel .palette p{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin:0;padding:5px 5px 5px 20px;border-bottom:1px solid #eee}.fl-project-editor .side-panel .palette p:first-child{border-top:1px solid #eee}.fl-project-editor .side-panel .palette p:hover button.fa-times{opacity:.5}.fl-project-editor .side-panel .palette p:hover [draggable]:before{opacity:1}.fl-project-editor .side-panel .side-panel-top{border-top:none;border-bottom:1px solid rgba(0,0,0,.1);margin-top:0;padding:17px 10px 20px;font-size:1em}.fl-project-editor .side-panel .side-panel-top.shadow{box-shadow:3px 3px 5px rgba(0,0,0,.1)}.fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .side-panel-icon-btn{color:#fff;background:#9a9a9a;padding:7px 0 0;border-radius:9999px;width:30px;height:30px;text-align:center;margin:0}.fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .separator{margin:0 .4em;height:1em;border-left:1px solid rgba(0,0,0,.25);display:inline-block;vertical-align:middle}#story .fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .separator{margin:0 .25em}.fl-project-editor .side-panel .current-template{margin:0;opacity:0;-webkit-transition:opacity .2s;transition:opacity .2s;position:relative;padding:10px 10px 0;min-height:56px;border-bottom:1px solid #ddd}.fl-project-editor .side-panel .current-template h1{padding-right:76px;opacity:1;font-size:12px;font-weight:400;min-height:36px;margin:0;padding-top:3px}.fl-project-editor .side-panel .current-template h1>span{display:block;font-weight:700;font-size:16px}.fl-project-editor .side-panel .current-template h3{margin-top:.7em}.fl-project-editor .side-panel .current-template h3 i{margin-left:.2em;color:rgba(0,0,0,.5)}.fl-project-editor .side-panel .current-template .current-template-title{position:relative}.fl-project-editor .side-panel .current-template .current-template-title .current-template-version{margin-left:4px;font-size:12px}.fl-project-editor .side-panel .current-template .current-template-thumbnail{position:absolute;right:-10px;top:-10px;width:76px;height:calc(100% + 19px);background-size:cover;background-position:50%;background-repeat:no-repeat}.fl-project-editor .side-panel .current-template .current-template-thumbnail:after{width:20px;height:100%;position:absolute;left:0;right:0;background:-webkit-gradient(linear,left top,right top,from(#fff),to(hsla(0,0%,100%,0)));background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0));content:"";display:block}.fl-project-editor .side-panel .template-theme button#reset-to-theme:disabled{color:#d3d3d3}@media (min-width:620px) and (max-width:819px){.fl-project-editor .side-panel .side-panel-inner{max-width:500px;margin:20px auto}}@media(min-width:820px){.fl-project-editor .side-panel{max-width:size(3.5);position:fixed;right:0;top:93px;background:#fff;overflow-y:auto;height:calc(100vh - 93px);border-left:1px solid #ddd}.fl-project-editor .side-panel .current-template{padding-top:0;min-height:46px}}.fl-project-editor .tab-preview #visualisation .editor-core{overflow:visible!important}.fl-project-editor .tab-preview.active #visualisation .editor-core{overflow:auto!important}.fl-project-editor body.full-screen .row.editor #story,.fl-project-editor body.full-screen .row.editor #visualisation{position:fixed!important;top:0!important;left:0!important;width:100%!important;height:100%!important}.fl-project-editor body.full-screen .row.editor #story .editor-core #preview,.fl-project-editor body.full-screen .row.editor #visualisation .editor-core #preview{width:100%!important}.fl-project-editor body.full-screen .row.editor #story #exit-full-screen,.fl-project-editor body.full-screen .row.editor #visualisation #exit-full-screen{display:block}.fl-project-editor body.loading .loading-spinner{opacity:1!important;-webkit-animation-name:spin;animation-name:spin;-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-transform-origin:center center;transform-origin:center center}.fl-project-editor body.loading .content{min-height:100vh}.fl-project-editor body.loading .preview-holder{pointer-events:none;background-color:#f3f3f3}.fl-project-editor body.loading .preview-holder #preview{background:transparent!important}.fl-project-editor body.loading .preview-holder iframe{opacity:.1}.fl-project-editor body.loading #blank-slide,.fl-project-editor body.loading .row.data{opacity:0;pointer-events:none}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.fl-project-editor #private-publishing{display:inline-block;padding-right:15px;margin-top:10px;width:100%}.fl-project-editor #private-publishing+input{width:100%;padding:5px}.fl-project-editor #private-publishing+input.hidden{display:none}.fl-project-editor #private-publishing+input.error{border-color:#dd4141}.fl-project-editor #private-publishing.upgrade-btn{width:auto;color:#999}.fl-project-editor #private-publishing.upgrade-btn:after{top:4px}.fl-annotations-source-element{position:absolute;left:-3rem;width:3rem;height:3rem;z-index:9999;background:#333;background-position:50%;background-size:40%;background-repeat:no-repeat;border:none;border-radius:100% 0 0 100%;top:.25rem;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg data-prefix='fas' data-icon='pencil-alt' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z'/%3E%3C/svg%3E")}.fl-annotations-add-element,.fl-annotations-source-element{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;pointer-events:all}.fl-annotations-add-element{display:block;border:none;margin:1rem;border-radius:2rem;color:#fff;font-weight:700;text-align:center;padding-left:1.5rem;padding-right:0;font-size:1rem;height:2.5rem;line-height:2.5rem;background:#333;background-position:.5rem;background-size:1.5rem;background-repeat:no-repeat;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 36 36'%3E%3Cstyle%3E.fl-annotations-cursor rect{fill:%23fff}%3C/style%3E%3Cg xmlns='http://www.w3.org/2000/svg' class='fl-annotations-cursor' transform='translate(18 18)'%3E%3Ccircle r='16' style='transition:stroke .25s' fill='none' stroke='%23fff' stroke-width='2' stroke-dasharray='4,4'/%3E%3Cpath fill='%23FFF' d='M-1-6h2V6h-2z'/%3E%3Cpath fill='%23FFF' d='M-6-1H6v2H-6z'/%3E%3C/g%3E%3C/svg%3E")}.fl-annotations .fl-annotations-node{pointer-events:none}.fl-annotations .fl-annotations-node.fl-connector-popup,.fl-annotations.is-editing .fl-annotations-node{pointer-events:all}.fl-annotations .fl-annotations-node.fl-marker text,.fl-annotations .fl-annotations-node.fl-point text{fill:#fff;text-anchor:middle;dominant-baseline:middle;alignment-baseline:middle;font-size:.8rem;font-weight:800}.fl-annotations .fl-annotations-node.fl-marker.selected circle{fill:#333}.fl-annotations .fl-notch{fill:none;stroke-dasharray:4,4;pointer-events:none}.fl-annotations.is-editing .fl-notch{pointer-events:all}.fl-annotations .fl-annotations-node .fl-connector,.fl-annotations .fl-annotations-node text,.fl-annotations.is-editing.is-dragging .fl-notch{pointer-events:none}.fl-annotations .fl-annotations-inline a,.fl-annotations.is-editing .fl-annotations-inline{pointer-events:all}.fl-annotations .fl-annotations-cursor{visibility:hidden;pointer-events:none}.fl-annotations.is-edit-add .fl-annotations-cursor{visibility:visible}.fl-annotations .fl-annotations-cursor circle{fill:none;stroke:#eee;stroke-width:2px;stroke-dasharray:4,4;-webkit-transition:stroke .25s;transition:stroke .25s}.fl-annotations .fl-annotations-cursor.is-valid circle{stroke:#333;-webkit-animation:cursorRotate 5s linear 0s infinite normal;animation:cursorRotate 5s linear 0s infinite normal}.fl-annotations .fl-annotations-cursor line{stroke:#eee;stroke-width:2px;-webkit-transition:stroke .25s;transition:stroke .25s}.fl-annotations .fl-annotations-cursor.is-valid line{stroke:#333}.fl-annotations .fl-annotations-cursor.inner-outline circle,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline circle{stroke-dasharray:6,2;stroke-dashoffset:1}.fl-annotations .fl-annotations-cursor.inner-outline circle,.fl-annotations .fl-annotations-cursor.inner-outline line,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline circle,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline line{stroke:#fff;stroke-width:4px}@-webkit-keyframes cursorRotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cursorRotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.fl-project-editor .fl-annotation-list{list-style-type:none;margin:0;padding:1rem;border-bottom:1px solid #eee}.fl-project-editor .fl-annotation-list:empty{padding:0}.fl-annotation-list-wrap{background:#fff;margin:0;font-size:.8rem;max-height:10rem;overflow:auto;position:relative;box-shadow:inset 0 -10px 10px -10px rgba(0,0,0,.25);-webkit-transition:box-shadow .5s;transition:box-shadow .5s}.fl-annotation-list-wrap.scroll-end{box-shadow:inset 0 -10px 10px -10px transparent}.fl-project-editor .fl-annotation-list>li{display:-webkit-box;display:flex;position:relative;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;list-style-type:none;line-height:1.35rem;color:#b1b1b1;cursor:pointer}.fl-project-editor .fl-annotation-list .drop-overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;display:none}.fl-project-editor .fl-annotation-list.dragging .drop-overlay{display:-webkit-box;display:flex}.fl-project-editor .fl-annotation-list .drop-above,.fl-project-editor .fl-annotation-list .drop-below{-webkit-box-flex:1;flex-grow:1}.fl-project-editor .fl-annotation-list .drop-above{border-top:1px solid #fff}.fl-project-editor .fl-annotation-list .drop-below{border-bottom:1px solid #fff}.fl-project-editor .fl-annotation-list .drop-above.dropping{border-top:1px solid #666}.fl-project-editor .fl-annotation-list .drop-below.dropping{border-bottom:1px solid #666}.fl-project-editor .fl-annotation-list>li .text{display:block;overflow:hidden;text-overflow:ellipsis;-webkit-box-flex:1;flex-grow:1;white-space:nowrap}.fl-project-editor .fl-annotation-list>li .icon{display:none;margin-left:.5rem;color:#333;opacity:0;flex-shrink:0}.fl-project-editor .fl-annotation-list>li.selected .icon,.fl-project-editor .fl-annotation-list>li:hover .icon{display:inline-block;margin-left:.5rem;opacity:.5}.fl-project-editor .fl-annotation-list>li .icon:hover{opacity:1}.fl-project-editor .fl-annotation-list>li:hover{color:#000}.fl-project-editor .fl-annotation-list>li:before{content:"";width:.75rem;height:.75rem;display:inline-block;background:#b1b1b1;vertical-align:middle;margin-right:.5rem;border-radius:100%;flex-shrink:0}.fl-project-editor .fl-annotation-list>li.selected{cursor:default}.fl-project-editor .fl-annotation-list>li.selected:before{background:#333}.fl-project-editor .fl-annotation-list>li.selected .text{color:#333}.fl-annotation-list li.drag-over{background:red}.icon-pencil{width:10px;height:10px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguNjYgNC4wODZMOS43NTYgMi45OUEuODA5LjgwOSAwIDAwMTAgMi4zOTZhLjg0NS44NDUgMCAwMC0uMjQ0LS42TDguMjA1LjI1QS44Mi44MiAwIDAwNy42MDQgMGEuNzg0Ljc4NCAwIDAwLS41OTQuMjVMNS45MTQgMS4zNCA4LjY2IDQuMDg2ek0yLjc0NiAxMGw1LjQ5Mi01LjQ5Mi0yLjc0Ni0yLjc0NkwwIDcuMjU0VjEwaDIuNzQ2em0tLjYzNC0zLjIzNGMtLjA5NyAwLS4xNDUtLjA0OS0uMTQ1LS4xNDYgMC0uMDQ0LjAxNS0uMDguMDQ2LS4xMTJsMy41NzgtMy41NzdhLjE1My4xNTMgMCAwMS4xMTItLjA0N2MuMDk3IDAgLjE0NS4wNDkuMTQ1LjE0NmEuMTUzLjE1MyAwIDAxLS4wNDYuMTEyTDIuMjI0IDYuNzE5YS4xNTMuMTUzIDAgMDEtLjExMi4wNDd6bS4yODQgMi4zOUgxLjY5VjguMzFILjg0NXYtLjcwNmwuNi0uNiAxLjU1MiAxLjU1LS42MDEuNjAxeiIgZmlsbD0iIzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+")}.icon-clone{width:10px;height:10px;background-image:url('data:image/svg+xml;charset=utf-8,<svg aria-hidden="true" data-prefix="fas" data-icon="clone" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-clone fa-w-16 fa-3x"><path fill="currentColor" d="M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z"/></svg>')}.icon-trash{width:10px;height:10px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEiIGhlaWdodD0iMTEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguMjg2IDEwLjg1N2MuMjk0IDAgLjU0Ny0uMTM1Ljc1Ni0uNDA1LjIxLS4yNy4zMTUtLjU5LjMxNS0uOTZ2LTYuMzVIMTBjLjA2MyAwIC4xMTQtLjAyLjE1NC0uMDYuMDQtLjA0LjA2LS4wOS4wNi0uMTUzVjIuNWEuMjA5LjIwOSAwIDAwLS4wNi0uMTU0LjIwOS4yMDkgMCAwMC0uMTU0LS4wNkg3LjkzbC0uNDY4LTEuMTE5QS45MjguOTI4IDAgMDA3LjEuNzQ2Ljk0NS45NDUgMCAwMDYuNTcxLjU3SDQuNDNhLjk0NS45NDUgMCAwMC0uNTMuMTc1LjkyOC45MjggMCAwMC0uMzYxLjQyMWwtLjQ2OSAxLjExOUgxYS4yMDkuMjA5IDAgMDAtLjE1NC4wNi4yMDkuMjA5IDAgMDAtLjA2LjE1NHYuNDI5YzAgLjA2Mi4wMi4xMTMuMDYuMTU0LjA0LjA0LjA5Mi4wNi4xNTQuMDZoLjY0M3Y2LjM3NWMwIC4zNy4xMDUuNjg2LjMxNS45NDcuMjEuMjYyLjQ2Mi4zOTIuNzU2LjM5Mmg1LjU3MnpNNyAyLjI4Nkg0bC4zMjgtLjc4NGEuMTg5LjE4OSAwIDAxLjExNC0uMDczaDIuMTIzYS4xODkuMTg5IDAgMDEuMTE0LjA3M0w3IDIuMjg2ek00IDkuMTQzaC0uNDI5YS4yMDkuMjA5IDAgMDEtLjE1NC0uMDYuMjA5LjIwOSAwIDAxLS4wNi0uMTU0VjQuMjE0YzAtLjA2Mi4wMi0uMTE0LjA2LS4xNTQuMDQtLjA0LjA5Mi0uMDYuMTU0LS4wNkg0Yy4wNjMgMCAuMTE0LjAyLjE1NC4wNi4wNC4wNC4wNi4wOTIuMDYuMTU0VjguOTNjMCAuMDYyLS4wMi4xMTMtLjA2LjE1NGEuMjA5LjIwOSAwIDAxLS4xNTQuMDZ6bTEuNzE0IDBoLS40MjhhLjIwOS4yMDkgMCAwMS0uMTU0LS4wNi4yMDkuMjA5IDAgMDEtLjA2LS4xNTRWNC4yMTRjMC0uMDYyLjAyLS4xMTQuMDYtLjE1NC4wNC0uMDQuMDkxLS4wNi4xNTQtLjA2aC40MjhjLjA2MyAwIC4xMTQuMDIuMTU0LjA2LjA0LjA0LjA2LjA5Mi4wNi4xNTRWOC45M2MwIC4wNjItLjAyLjExMy0uMDYuMTU0YS4yMDkuMjA5IDAgMDEtLjE1NC4wNnptMS43MTUgMEg3YS4yMDkuMjA5IDAgMDEtLjE1NC0uMDYuMjA5LjIwOSAwIDAxLS4wNi0uMTU0VjQuMjE0YzAtLjA2Mi4wMi0uMTE0LjA2LS4xNTQuMDQtLjA0LjA5MS0uMDYuMTU0LS4wNmguNDI5Yy4wNjIgMCAuMTEzLjAyLjE1NC4wNi4wNC4wNC4wNi4wOTIuMDYuMTU0VjguOTNjMCAuMDYyLS4wMi4xMTMtLjA2LjE1NGEuMjA5LjIwOSAwIDAxLS4xNTQuMDZ6IiBmaWxsPSIjMzMzIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=")}.fl-project-editor .side-panel .help-tip{display:inline-block;position:relative;width:.7rem;height:.7rem;-webkit-transform:translateY(1px);transform:translateY(1px);opacity:.6;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtcXVlc3Rpb24tY2lyY2xlIGZhLXctMTYgZmEtM3giPjxwYXRoIGZpbGw9IiNhYWEiIGQ9Ik01MDQgMjU2YzAgMTM2Ljk5Ny0xMTEuMDQzIDI0OC0yNDggMjQ4UzggMzkyLjk5NyA4IDI1NkM4IDExOS4wODMgMTE5LjA0MyA4IDI1NiA4czI0OCAxMTEuMDgzIDI0OCAyNDh6TTI2Mi42NTUgOTBjLTU0LjQ5NyAwLTg5LjI1NSAyMi45NTctMTE2LjU0OSA2My43NTgtMy41MzYgNS4yODYtMi4zNTMgMTIuNDE1IDIuNzE1IDE2LjI1OGwzNC42OTkgMjYuMzFjNS4yMDUgMy45NDcgMTIuNjIxIDMuMDA4IDE2LjY2NS0yLjEyMiAxNy44NjQtMjIuNjU4IDMwLjExMy0zNS43OTcgNTcuMzAzLTM1Ljc5NyAyMC40MjkgMCA0NS42OTggMTMuMTQ4IDQ1LjY5OCAzMi45NTggMCAxNC45NzYtMTIuMzYzIDIyLjY2Ny0zMi41MzQgMzMuOTc2QzI0Ny4xMjggMjM4LjUyOCAyMTYgMjU0Ljk0MSAyMTYgMjk2djRjMCA2LjYyNyA1LjM3MyAxMiAxMiAxMmg1NmM2LjYyNyAwIDEyLTUuMzczIDEyLTEydi0xLjMzM2MwLTI4LjQ2MiA4My4xODYtMjkuNjQ3IDgzLjE4Ni0xMDYuNjY3IDAtNTguMDAyLTYwLjE2NS0xMDItMTE2LjUzMS0xMDJ6TTI1NiAzMzhjLTI1LjM2NSAwLTQ2IDIwLjYzNS00NiA0NiAwIDI1LjM2NCAyMC42MzUgNDYgNDYgNDZzNDYtMjAuNjM2IDQ2LTQ2YzAtMjUuMzY1LTIwLjYzNS00Ni00Ni00NnoiLz48L3N2Zz4=)}.fl-project-editor .side-panel .help-tip:hover{opacity:1}.fl-project-editor .side-panel .help-tip:after{content:attr(data-popup-body);position:absolute;bottom:100%;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}.fl-annotations-tip{font-family:Source Sans Pro,sans-serif;max-width:15rem;background:#fff;color:#333;box-shadow:0 0 8px rgba(0,0,0,.2);border-radius:.5rem;padding:.625rem;font-size:.72rem;line-height:1.25em;position:absolute;z-index:999999;pointer-events:none}.fl-annotations-tip:after{content:"";position:absolute;bottom:-8px;left:50%;margin-left:-8px;width:0;height:0;border-color:#fff transparent transparent;border-style:solid;border-width:8px 8px 0}.fl-annotations-tip.hidden{display:none}.fl-disable-selection,.fl-disable-selection *{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.fl-project-editor{z-index:100000;overflow-y:auto;width:18rem;background:#fff;box-shadow:0 -2px 5px 0 rgba(0,0,0,.2);height:100vh;overflow:auto}.fl-project-editor .side-panel .side-panel-inner{margin:0;max-width:none}.fl-project-editor .side-panel{padding:0;background:transparent;height:auto;position:static;overflow:none}.fl-annotation-settings{border-top:1px solid #eee}.fl-annotation-contents :first-child{margin-top:0}.fl-annotation-contents :last-child{margin-bottom:0}.fl-annotation-contents a{color:inherit;-webkit-text-stroke-color:inherit}.fl-annotation-contents img{-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none;pointer-events:none}.empty-annotation-message{padding:1rem;font-size:1rem;text-align:center;color:#aaa}.fl-project-editor .fl-annotation-settings .settings-block,.fl-project-editor .fl-annotation-settings .toplevel-settings-block{display:none}.fl-project-editor.active-annotation .fl-annotation-settings .settings-block,.fl-project-editor.active-annotation .fl-annotation-settings .toplevel-settings-block{display:block}.fl-project-editor.active-annotation .fl-annotation-settings .empty-annotation-message{display:none}@media screen and (min-width:521px){.fl-annotations-add-element{display:none}}@media screen and (max-width:520px){.fl-project-editor{right:0;position:absolute}.is-edit-settings .fl-annotations-add-element,.is-edit-settings.is-editing .fl-annotations-source-element{left:-21rem}}</style><style id="flourish-page-styles" type="text/css">html { font-size:62.5%; }

@media(min-width: 380px) {
html { font-size:75%; }
}

@media(min-width: 580px) {
html { font-size:87.5%; }
}

@media(min-width: 1080px) {
html { font-size:100%; }
}

@media(min-width: 1280px) {
html { font-size:120%; }
}

</style><style type="text/css">.flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }</style><style class="fl-ui-styles-controls">.fl-control.hidden {
	display: none;
}

.fl-control {
	vertical-align: middle;
	position: relative;
	font-size: 1rem;
	font-weight: bold;
}

.fl-controls-title {
	font-size: 1rem;
	font-weight: bold;
	vertical-align: middle;
}

.fl-control.fl-control .button {
	padding: 0.4rem 0.8rem;
}

.fl-control .list-item {
	padding: 0.5rem;
}

.fl-control-dropdown .main {
	padding: 0.4rem 0.6000000000000001rem;
}

.fl-control-slider .slider-end-labels {
	font-size: 1rem;
	font-weight: bold;
}

.fl-control-slider {
	padding: 0.4rem 0;
}

</style><style class="fl-ui-styles-button">.fl-control-buttons.fl-control.hidden {
	display: none;
}

.fl-control-buttons.fl-control .button {
	overflow: hidden;
	white-space: nowrap;
	box-sizing: content-box;
	margin: 0 2px 0 0 !important;
	background-color: #ffffff;
	color: #333333;
	border: 1px solid rgba(51, 51, 51, 0.25);
	border-radius: 3px;
}

.fl-control-buttons.fl-control .button:hover {
	background-color: #ffffff;
	color: #333333;
}

.fl-control-buttons.fl-control .button.selected {
	background-color: #2886b2;
	color: #ffffff;
}

.fl-control-buttons.grouped.fl-control .button {
	border-right: none;
	border-radius: 0;
	margin: 0;
}

.fl-control-buttons.grouped.fl-control .button:first-child {
	border-radius: 3px 0 0 3px;
}

.fl-control-buttons.grouped.fl-control .button:last-child {
	border-radius: 0 3px 3px 0;
	border-right: 1px solid rgba(51, 51, 51, 0.25);
}

.fl-control-buttons.grouped.fl-control.fixed-width:not(.hidden) {
	width: undefined%;
}

</style><style class="fl-ui-styles-dropdown">.fl-control-dropdown .heading {
	margin-bottom: 0.4em;
}

.fl-control-dropdown {
	pointer-events: all;
}

.fl-control-dropdown .main {
	display: inline-block;
	cursor: pointer;
	overflow: hidden;
	white-space: nowrap;
	position: relative;
	background-color: #ffffff;
	color: #333333;
	border: 1px solid transparent;
	border-bottom: 1px solid rgba(51, 51, 51, 0.25);
}

.fl-control-dropdown .main .symbol {
	float: right;
}

.fl-control-dropdown .main .symbol div {
	border-top-color: #333333 !important;
}

.fl-control-dropdown .main .current {
	line-height: 1em;
	height: 100%;
	max-width: 88%;
	display: inline-block;
	overflow: hidden;
	vertical-align: top;
}

.fl-control-dropdown .list {
	top: 2px;
	min-width: 100%;
	padding: 2px;
	display: none;
	max-height: 200px;
	overflow-y: auto;
	box-shadow: 0 1px 4px rgba(0, 0, 0, .1);
	margin-top: 2px;
}

.fl-control-dropdown .list .list-item {
	line-height: 1em;
	cursor: pointer;
	font-weight: normal;
	color: #333333;
}

.fl-control-dropdown.open .list {
	display: block;
	border: 1px solid rgba(51, 51, 51, 0.25);
	background-color: #ffffff;
	z-index: 1;
	animation: dropdown-out 200ms;
}

.fl-control-dropdown .list-item:hover {
	opacity: 0.6;
}

.fl-control-dropdown .list-item.selected, .fl-control-dropdown .list-item.selected:hover {
	opacity: 1;
	cursor: default;
}

.fl-control-dropdown .main {
	padding-left: 0;
	padding-right: 0.1rem;
}

</style><style id="popup-styles" type="text/css">.flourish-popup { pointer-events: none; }.flourish-popup .flourish-popup-content { pointer-events: auto; }.flourish-popup h1 { margin: 0; font-size: inherit; }.flourish-popup h2 { font-weight: normal; font-size: inherit; margin: 0; }.flourish-popup h2 .name { font-weight: bold; }.flourish-popup ul { padding: 0; margin: 0; }.flourish-popup li { font-size: inherit; list-style: none; }</style><style type="text/css" class="flourish-controls">.fl-controls-container {
	display: inline-block;
	line-height: 1em;
}

.fl-controls-title {
	display: inline-block;
	margin: 0px 0.5em 0px 0px;
}

.fl-controls-container, .fl-controls-container * {
	box-sizing: border-box;
}

.slider-holder {
	margin-bottom: 20px;
}

.fl-controls-slider, .slider-play {
	pointer-events: all;
	display: inline-block;
	vertical-align: middle;
}

.slider-play svg {
	height: 100%;
	width: 100%;
	cursor:  pointer;
}

.slider-play:hover {
	opacity: 0.6;
}

.fl-control-slider {
	width: 100%;
	bottom: 0;
}

.fl-control {
	position: relative;
}

.fl-control.hidden {
	display: none;
}

.fl-control .button {
	display: inline-block;
	background: #eee;
	padding: 0.5em;
	margin-right: 0.25em;
	margin-bottom: 0.25em;
	line-height: 1em;
}

.fl-control.grouped:not(.hidden) {
	display: inline-table;
	table-layout: fixed;
}

.fl-control.grouped:not(.hidden) .button {
	display: table-cell;
	margin: 0;
	text-align: center;
}

.fl-control .button.selected {
	background: #ddd;
}

.fl-control-dropdown {
	line-height: 1em;
}

.fl-control-dropdown .list {
	display: none;
	position: absolute;
	background-color: white;
	z-index: 100;
	border: 1px solid #eee;
}

.fl-control-dropdown .list .list-item {
	text-align: start;
	cursor: pointer;
	padding: 0.5rem;
}

.fl-control-dropdown.open .list {
	display: block;
}

.fl-control-dropdown .main {
	position: relative;
	text-align: start;
	display: flex;
	justify-content: space-between;
}

.fl-control-dropdown .symbol {
	float: right;
}

.fl-control-dropdown .symbol div {
	border-top-color: #333333;
}

</style><style id="legend-styles" type="text/css">.fl-legend-container.interactive .fl-legend-item:hover { opacity: 0.75; cursor: pointer; }</style><link rel="stylesheet" href="./S11打野_files/css" class="layout-font"></head>
	<body class="template" style="background-color: rgb(255, 255, 255); background-size: cover; background-repeat: no-repeat; background-position: center center; font-family: &quot;Source Sans Pro&quot;;">
	

<script>window.Flourish = {"static_prefix":"static","environment":"preview","is_read_only":true};</script><script>var template=function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e){return t(e={exports:{}},e.exports),e.exports}function _(t){try{return!!t()}catch(t){return!0}}function u(t){if(null==t)throw T("Can't call method on "+t);return t}function r(t,e){return arguments.length<2?(n=D[t],N(n)?n:void 0):D[t]&&D[t][e];var n}function f(e,n){try{K(D,e,{value:n,configurable:!0,writable:!0})}catch(t){D[e]=n}return n}function w(t){return rt(u(t))}function o(t){return"Symbol("+(void 0===t?"":t)+")_"+lt(++at+st,36)}function l(t){var e;return ot(ct,t)&&(B||"string"==typeof ct[t])||(e="Symbol."+t,B&&ot(ut,t)?ct[t]=ut[t]:ct[t]=(H&&ft?ft:dt)(e)),ct[t]}function d(t){return t=gt(t,"string"),G(t)?t:t+""}var i=function(t){return t&&t.Math==Math&&t},D=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")(),S=!_(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),a=Function.prototype.call,I=a.bind?a.bind(a):function(){return a.apply(a,arguments)},s={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,h={f:c&&!s.call({1:2},1)?function(t){t=c(this,t);return!!t&&t.enumerable}:s},E=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},p=Function.prototype,g=p.bind,m=p.call,y=g&&g.bind(m),v=g?function(t){return t&&y(m,t)}:function(t){return t&&function(){return m.apply(t,arguments)}},b=v({}.toString),x=v("".slice),M=function(t){return x(b(t),8,-1)},k=D.Object,j=v("".split),A=_(function(){return!k("z").propertyIsEnumerable(0)})?function(t){return"String"==M(t)?j(t,""):k(t)}:k,T=D.TypeError,z=function(t){return A(u(t))},N=function(t){return"function"==typeof t},L=function(t){return"object"==typeof t?null!==t:N(t)},C=v({}.isPrototypeOf),O=r("navigator","userAgent")||"",P=D.process,R=D.Deno,F=P&&P.versions||R&&R.version,Y=F&&F.v8,U=Cn=!(Cn=Y?0<(In=Y.split("."))[0]&&In[0]<4?1:+(In[0]+In[1]):Cn)&&O&&(!(In=O.match(/Edge\/(\d+)/))||74<=In[1])&&(In=O.match(/Chrome\/(\d+)/))?+In[1]:Cn,B=!!Object.getOwnPropertySymbols&&!_(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&U&&U<41}),H=B&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Z=D.Object,G=H?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return N(e)&&C(e.prototype,Z(t))},q=D.String,Q=function(t){try{return q(t)}catch(t){return"Object"}},W=D.TypeError,V=function(t){if(N(t))return t;throw W(Q(t)+" is not a function")},X=function(t,e){e=t[e];return null==e?void 0:V(e)},$=D.TypeError,J=function(t,e){var n,r;if("string"===e&&N(n=t.toString)&&!L(r=I(n,t)))return r;if(N(n=t.valueOf)&&!L(r=I(n,t)))return r;if("string"!==e&&N(n=t.toString)&&!L(r=I(n,t)))return r;throw $("Can't convert object to primitive value")},K=Object.defineProperty,tt="__core-js_shared__",et=D[tt]||f(tt,{}),nt=n(function(t){(t.exports=function(t,e){return et[t]||(et[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.1",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),rt=D.Object,it=v({}.hasOwnProperty),ot=Object.hasOwn||function(t,e){return it(w(t),e)},at=0,st=Math.random(),lt=v(1..toString),ct=nt("wks"),ut=D.Symbol,ft=ut&&ut.for,dt=H?ut:ut&&ut.withoutSetter||o,ht=D.TypeError,pt=l("toPrimitive"),gt=function(t,e){if(!L(t)||G(t))return t;var n=X(t,pt);if(n){if(n=I(n,t,e=void 0===e?"default":e),!L(n)||G(n))return n;throw ht("Can't convert object to primitive value")}return J(t,e=void 0===e?"number":e)},_t=D.document,mt=L(_t)&&L(_t.createElement),yt=function(t){return mt?_t.createElement(t):{}},vt=!S&&!_(function(){return 7!=Object.defineProperty(yt("div"),"a",{get:function(){return 7}}).a}),bt=Object.getOwnPropertyDescriptor,xt={f:S?bt:function(t,e){if(t=z(t),e=d(e),vt)try{return bt(t,e)}catch(t){}if(ot(t,e))return E(!I(h.f,t,e),t[e])}},wt=D.String,Mt=D.TypeError,kt=function(t){if(L(t))return t;throw Mt(wt(t)+" is not an object")},jt=D.TypeError,At=Object.defineProperty,Tt={f:S?At:function(t,e,n){if(kt(t),e=d(e),kt(n),vt)try{return At(t,e,n)}catch(t){}if("get"in n||"set"in n)throw jt("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},zt=S?function(t,e,n){return Tt.f(t,e,E(1,n))}:function(t,e,n){return t[e]=n,t},Nt=v(Function.toString);N(et.inspectSource)||(et.inspectSource=function(t){return Nt(t)});var Dt,St,It,Et,Lt,Ct,Ot,Pt,Rt=et.inspectSource,Ft=D.WeakMap,Yt=N(Ft)&&/native code/.test(Rt(Ft)),Ut=nt("keys"),Bt=function(t){return Ut[t]||(Ut[t]=o(t))},Ht={},Zt="Object already initialized",Gt=D.TypeError,qt=D.WeakMap;Ot=Yt||et.state?(Dt=et.state||(et.state=new qt),St=v(Dt.get),It=v(Dt.has),Et=v(Dt.set),Lt=function(t,e){if(It(Dt,t))throw new Gt(Zt);return e.facade=t,Et(Dt,t,e),e},Ct=function(t){return St(Dt,t)||{}},function(t){return It(Dt,t)}):(Pt=Bt("state"),Ht[Pt]=!0,Lt=function(t,e){if(ot(t,Pt))throw new Gt(Zt);return e.facade=t,zt(t,Pt,e),e},Ct=function(t){return ot(t,Pt)?t[Pt]:{}},function(t){return ot(t,Pt)});function Qt(t,e){return(t=ae(t))<0?se(t+e,0):le(t,e)}function Wt(t){return ue(t.length)}function Vt(t,e){var n,r=z(t),i=0,o=[];for(n in r)!ot(Ht,n)&&ot(r,n)&&pe(o,n);for(;e.length>i;)ot(r,n=e[i++])&&(~he(o,n)||pe(o,n));return o}function Xt(t,e){for(var n=be(e),r=Tt.f,i=xt.f,o=0;o<n.length;o++){var a=n[o];ot(t,a)||r(t,a,i(e,a))}}function $t(t,e){var n,r,i,o=t.target,a=t.global,s=t.stat,l=a?D:s?D[o]||f(o,{}):(D[o]||{}).prototype;if(l)for(n in e){if(r=e[n],i=t.noTargetGet?(i=ze(l,n))&&i.value:l[n],!Te(a?n:o+(s?".":"#")+n,t.forced)&&void 0!==i){if(typeof r==typeof i)continue;Xt(r,i)}(t.sham||i&&i.sham)&&zt(r,"sham",!0),re(l,n,r,t)}}var Jt={set:Lt,get:Ct,has:Ot,enforce:function(t){return Ot(t)?Ct(t):Lt(t,{})},getterFor:function(n){return function(t){var e;if(!L(t)||(e=Ct(t)).type!==n)throw Gt("Incompatible receiver, "+n+" required");return e}}},Kt=Function.prototype,te=S&&Object.getOwnPropertyDescriptor,ee=ot(Kt,"name"),ne={EXISTS:ee,PROPER:ee&&"something"===function(){}.name,CONFIGURABLE:ee&&(!S||te(Kt,"name").configurable)},re=n(function(t){var l=ne.CONFIGURABLE,e=Jt.get,c=Jt.enforce,u=String(String).split("String");(t.exports=function(t,e,n,r){var i=!!r&&!!r.unsafe,o=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet,s=r&&void 0!==r.name?r.name:e;N(n)&&("Symbol("===String(s).slice(0,7)&&(s="["+String(s).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!ot(n,"name")||l&&n.name!==s)&&zt(n,"name",s),(r=c(n)).source||(r.source=u.join("string"==typeof s?s:""))),t!==D?(i?!a&&t[e]&&(o=!0):delete t[e],o?t[e]=n:zt(t,e,n)):o?t[e]=n:f(e,n)})(Function.prototype,"toString",function(){return N(this)&&e(this).source||Rt(this)})}),ie=Math.ceil,oe=Math.floor,ae=function(t){t=+t;return t!=t||0==t?0:(0<t?oe:ie)(t)},se=Math.max,le=Math.min,ce=Math.min,ue=function(t){return 0<t?ce(ae(t),9007199254740991):0},fe=function(s){return function(t,e,n){var r,i=z(t),o=Wt(i),a=Qt(n,o);if(s&&e!=e){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===e)return s||a||0;return!s&&-1}},de={includes:fe(!0),indexOf:fe(!1)},he=de.indexOf,pe=v([].push),ge=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_e=ge.concat("length","prototype"),me={f:Object.getOwnPropertyNames||function(t){return Vt(t,_e)}},ye={f:Object.getOwnPropertySymbols},ve=v([].concat),be=r("Reflect","ownKeys")||function(t){var e=me.f(kt(t)),n=ye.f;return n?ve(e,n(t)):e},xe=/#|\.prototype\./,we=function(t,e){t=ke[Me(t)];return t==Ae||t!=je&&(N(e)?_(e):!!e)},Me=we.normalize=function(t){return String(t).replace(xe,".").toLowerCase()},ke=we.data={},je=we.NATIVE="N",Ae=we.POLYFILL="P",Te=we,ze=xt.f,Ne=Object.keys||function(t){return Vt(t,ge)},De=Object.assign,Se=Object.defineProperty,Ie=v([].concat),Ee=!De||_(function(){if(S&&1!==De({b:1},De(Se({},"a",{enumerable:!0,get:function(){Se(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=De({},t)[n]||Ne(De({},e)).join("")!=r})?function(t,e){for(var n=w(t),r=arguments.length,i=1,o=ye.f,a=h.f;i<r;)for(var s,l=A(arguments[i++]),c=o?Ie(Ne(l),o(l)):Ne(l),u=c.length,f=0;f<u;)s=c[f++],S&&!I(a,l,s)||(n[s]=l[s]);return n}:De;$t({target:"Object",stat:!0,forced:Object.assign!==Ee},{assign:Ee});var Le=h.f,Ce=v(Le),Oe=v([].push),Pe=function(s){return function(t){for(var e,n=z(t),r=Ne(n),i=r.length,o=0,a=[];o<i;)e=r[o++],S&&!Ce(n,e)||Oe(a,s?[e,n[e]]:n[e]);return a}},Re={entries:Pe(!0),values:Pe(!1)}.values;$t({target:"Object",stat:!0},{values:function(t){return Re(t)}});var Fe=_(function(){Ne(1)});$t({target:"Object",stat:!0,forced:Fe},{keys:function(t){return Ne(w(t))}}),"function"!=typeof Object.values&&(Object.values=function(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}),Object.assign||(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e});var Ye={};Ye[l("toStringTag")]="z";var Ue="[object z]"===String(Ye),Be=l("toStringTag"),He=D.Object,Ze="Arguments"==M(function(){return arguments}()),Ge=Ue?M:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=He(t),Be))?t:Ze?M(e):"Object"==(t=M(e))&&N(e.callee)?"Arguments":t};Ue||re(Object.prototype,"toString",Ue?{}.toString:function(){return"[object "+Ge(this)+"]"},{unsafe:!0});var qe=D.String,Qe=function(t){if("Symbol"===Ge(t))throw TypeError("Cannot convert a Symbol value to a string");return qe(t)},We="\t\n\v\f\r                　\u2028\u2029\ufeff",Ve=v("".replace),Xe="["+We+"]",$e=RegExp("^"+Xe+Xe+"*"),Je=RegExp(Xe+Xe+"*$"),Ke=function(e){return function(t){t=Qe(u(t));return 1&e&&(t=Ve(t,$e,"")),t=2&e?Ve(t,Je,""):t}},tn={start:Ke(1),end:Ke(2),trim:Ke(3)},en=ne.PROPER,i=function(t){return _(function(){return We[t]()||"​᠎"!=="​᠎"[t]()||en&&We[t].name!==t})},nn=tn.trim;$t({target:"String",proto:!0,forced:i("trim")},{trim:function(){return nn(this)}});function rn(t,e){return V(t),void 0===e?t:fn?fn(t,e):function(){return t.apply(e,arguments)}}function on(){}function an(t){if(!N(t))return!1;try{return pn(on,hn,t),!0}catch(t){return!1}}function sn(t,e){return new(xn(t))(0===e?0:e)}function ln(e){if(e&&e.forEach!==jn)try{zt(e,"forEach",jn)}catch(t){e.forEach=jn}}var cn,un={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},s=yt("span").classList,p=s&&s.constructor&&s.constructor.prototype,g=p===Object.prototype?void 0:p,fn=v(v.bind),dn=Array.isArray||function(t){return"Array"==M(t)},hn=[],pn=r("Reflect","construct"),gn=/^\s*(?:class|function)\b/,_n=v(gn.exec),mn=!gn.exec(on),yn=!pn||_(function(){var t;return an(an.call)||!an(Object)||!an(function(){t=!0})||t})?function(t){if(!N(t))return!1;switch(Ge(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return mn||!!_n(gn,Rt(t))}:an,vn=l("species"),bn=D.Array,xn=function(t){var e;return dn(t)&&(e=t.constructor,(yn(e)&&(e===bn||dn(e.prototype))||L(e)&&null===(e=e[vn]))&&(e=void 0)),void 0===e?bn:e},wn=v([].push),P=function(d){var h=1==d,p=2==d,g=3==d,_=4==d,m=6==d,y=7==d,v=5==d||m;return function(t,e,n,r){for(var i,o,a=w(t),s=A(a),l=rn(e,n),c=Wt(s),u=0,r=r||sn,f=h?r(t,c):p||y?r(t,0):void 0;u<c;u++)if((v||u in s)&&(o=l(i=s[u],u,a),d))if(h)f[u]=o;else if(o)switch(d){case 3:return!0;case 5:return i;case 6:return u;case 2:wn(f,i)}else switch(d){case 4:return!1;case 7:wn(f,i)}return m?-1:g||_?_:f}},Mn={forEach:P(0),map:P(1),filter:P(2),some:P(3),every:P(4),find:P(5),findIndex:P(6),filterReject:P(7)},R=function(t,e){var n=[][t];return!!n&&_(function(){n.call(null,e||function(){throw 1},1)})},kn=Mn.forEach,jn=R("forEach")?[].forEach:function(t){return kn(this,t,1<arguments.length?arguments[1]:void 0)};for(cn in un)un[cn]&&ln(D[cn]&&D[cn].prototype);ln(g);var An=l("species"),F=function(e){return 51<=U||!_(function(){var t=[];return(t.constructor={})[An]=function(){return{foo:1}},1!==t[e](Boolean).foo})},Tn=Mn.filter,Y=F("filter");$t({target:"Array",proto:!0,forced:!Y},{filter:function(t){return Tn(this,t,1<arguments.length?arguments[1]:void 0)}});function zn(t,e){var n=t.length,r=Dn(n/2);return n<8?function(t,e){var n=t.length,r=1,i,o;while(r<n){o=r;i=t[r];while(o&&e(t[o-1],i)>0)t[o]=t[--o];if(o!==r++)t[o]=i}return t}(t,e):function(t,e,n,r){var i=e.length,o=n.length,a=0,s=0;while(a<i||s<o)t[a+s]=a<i&&s<o?r(e[a],n[s])<=0?e[a++]:n[s++]:a<i?e[a++]:n[s++];return t}(t,zn(Nn(t,0,r),e),zn(Nn(t,r),e),e)}var Nn=v([].slice),Dn=Math.floor,Sn=zn,In=O.match(/firefox\/(\d+)/i),En=!!In&&+In[1],Ln=/MSIE|Trident/.test(O),Cn=O.match(/AppleWebKit\/(\d+)\./),On=!!Cn&&+Cn[1],Pn=[],Rn=v(Pn.sort),Fn=v(Pn.push),tt=_(function(){Pn.sort(void 0)}),Ft=_(function(){Pn.sort(null)}),Yt=R("sort"),Yn=!_(function(){if(U)return U<70;if(!(En&&3<En)){if(Ln)return 1;if(On)return On<603;for(var t,e,n,r="",i=65;i<76;i++){switch(t=String.fromCharCode(i),i){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(n=0;n<47;n++)Pn.push({k:t+n,v:e})}for(Pn.sort(function(t,e){return e.v-t.v}),n=0;n<Pn.length;n++)t=Pn[n].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}});$t({target:"Array",proto:!0,forced:tt||!Ft||!Yt||!Yn},{sort:function(t){void 0!==t&&V(t);var e=w(this);if(Yn)return void 0===t?Rn(e):Rn(e,t);for(var n,r,i=[],o=Wt(e),a=0;a<o;a++)a in e&&Fn(i,e[a]);for(Sn(i,(r=t,function(t,e){return void 0===e?-1:void 0===t?1:void 0!==r?+r(t,e)||0:Qe(t)>Qe(e)?1:-1})),n=i.length,a=0;a<n;)e[a]=i[a++];for(;a<o;)delete e[a++];return e}});var Un=Mn.map,qt=F("map");$t({target:"Array",proto:!0,forced:!qt},{map:function(t){return Un(this,t,1<arguments.length?arguments[1]:void 0)}});var Bn,ee=ne.EXISTS,te=Tt.f,Kt=Function.prototype,Hn=v(Kt.toString),Zn=/^\s*function ([^ (]*)/,Gn=v(Zn.exec);S&&!ee&&te(Kt,"name",{configurable:!0,get:function(){try{return Gn(Zn,Hn(this))[1]}catch(t){return""}}});var qn=!_(function(){return Object.isExtensible(Object.preventExtensions({}))}),Qn=me.f,Wn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Vn={f:function(t){return Wn&&"Window"==M(t)?function(t){try{return Qn(t)}catch(t){return Nn(Wn)}}(t):Qn(z(t))}},Xn=_(function(){var t;"function"==typeof ArrayBuffer&&(t=new ArrayBuffer(8),Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8}))}),$n=Object.isExtensible,Jn=_(function(){$n(1)})||Xn?function(t){return!!L(t)&&((!Xn||"ArrayBuffer"!=M(t))&&(!$n||$n(t)))}:$n,Kn=n(function(t){function n(t){e(t,a,{value:{objectID:"O"+i++,weakData:{}}})}var e=Tt.f,r=!1,a=o("meta"),i=0,s=t.exports={enable:function(){s.enable=function(){},r=!0;var i=me.f,o=v([].splice),t={};t[a]=1,i(t).length&&(me.f=function(t){for(var e=i(t),n=0,r=e.length;n<r;n++)if(e[n]===a){o(e,n,1);break}return e},$t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Vn.f}))},fastKey:function(t,e){if(!L(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!ot(t,a)){if(!Jn(t))return"F";if(!e)return"E";n(t)}return t[a].objectID},getWeakData:function(t,e){if(!ot(t,a)){if(!Jn(t))return!0;if(!e)return!1;n(t)}return t[a].weakData},onFreeze:function(t){return qn&&r&&Jn(t)&&!ot(t,a)&&n(t),t}};Ht[a]=!0});Kn.enable,Kn.fastKey,Kn.getWeakData,Kn.onFreeze;var tr=Kn.onFreeze,er=Object.freeze,fe=_(function(){er(1)});$t({target:"Object",stat:!0,forced:fe,sham:!qn},{freeze:function(t){return er&&L(t)?er(tr(t)):t}});function nr(){var t=kt(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}function rr(){}function ir(t){t.write(hr("")),t.close();var e=t.parentWindow.Object;return t=null,e}var or,ar=Object.freeze({"stack-default":["header","controls","primary","footer"],"stack-2":["primary","header","controls","footer"],"stack-3":["header","primary","controls","footer"],"stack-4":["controls","primary","header","footer"]}),sr=D.RegExp,we={UNSUPPORTED_Y:_(function(){var t=sr("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),BROKEN_CARET:_(function(){var t=sr("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},lr=S?Object.defineProperties:function(t,e){kt(t);for(var n,r=z(e),i=Ne(e),o=i.length,a=0;a<o;)Tt.f(t,n=i[a++],r[n]);return t},cr=r("document","documentElement"),ur="prototype",fr="script",dr=Bt("IE_PROTO"),hr=function(t){return"<"+fr+">"+t+"</"+fr+">"},pr=function(){try{or=new ActiveXObject("htmlfile")}catch(t){}var t,e;pr="undefined"==typeof document||document.domain&&or?ir(or):(t=yt("iframe"),e="java"+fr+":",t.style.display="none",cr.appendChild(t),t.src=String(e),(t=t.contentWindow.document).open(),t.write(hr("document.F=Object")),t.close(),t.F);for(var n=ge.length;n--;)delete pr[ur][ge[n]];return pr()};Ht[dr]=!0;var gr=Object.create||function(t,e){var n;return null!==t?(rr[ur]=kt(t),n=new rr,rr[ur]=null,n[dr]=t):n=pr(),void 0===e?n:lr(n,e)},_r=D.RegExp,mr=_(function(){var t=_r(".","s");return!t.dotAll||!t.exec("\n")||"s"!==t.flags}),yr=D.RegExp,vr=_(function(){var t=yr("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}),br=Jt.get,xr=nt("native-string-replace",String.prototype.replace),wr=RegExp.prototype.exec,Mr=wr,kr=v("".charAt),jr=v("".indexOf),Ar=v("".replace),Tr=v("".slice),zr=(Ee=/b*/g,I(wr,Le=/a/,"a"),I(wr,Ee,"a"),0!==Le.lastIndex||0!==Ee.lastIndex),Nr=we.UNSUPPORTED_Y||we.BROKEN_CARET,Dr=void 0!==/()??/.exec("")[1],Sr=Mr=zr||Dr||Nr||mr||vr?function(t){var e,n,r,i,o,a,s=this,l=br(s),c=Qe(t),u=l.raw;if(u)return u.lastIndex=s.lastIndex,h=I(Mr,u,c),s.lastIndex=u.lastIndex,h;var f=l.groups,d=Nr&&s.sticky,t=I(nr,s),u=s.source,h=0,l=c;if(d&&(t=Ar(t,"y",""),-1===jr(t,"g")&&(t+="g"),l=Tr(c,s.lastIndex),0<s.lastIndex&&(!s.multiline||s.multiline&&"\n"!==kr(c,s.lastIndex-1))&&(u="(?: "+u+")",l=" "+l,h++),e=new RegExp("^(?:"+u+")",t)),Dr&&(e=new RegExp("^"+u+"$(?!\\s)",t)),zr&&(n=s.lastIndex),r=I(wr,d?e:s,l),d?r?(r.input=Tr(r.input,h),r[0]=Tr(r[0],h),r.index=s.lastIndex,s.lastIndex+=r[0].length):s.lastIndex=0:zr&&r&&(s.lastIndex=s.global?r.index+r[0].length:n),Dr&&r&&1<r.length&&I(xr,r[0],e,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r&&f)for(r.groups=o=gr(null),i=0;i<f.length;i++)o[(a=f[i])[0]]=r[a[1]];return r}:Mr;$t({target:"RegExp",proto:!0,forced:/./.exec!==Sr},{exec:Sr});function Ir(t,e,n){return e+(n?Fr(t,e).length:1)}function Er(t,e){var n=t.exec;if(N(n)){n=I(n,t,e);return null!==n&&kt(n),n}if("RegExp"===M(t))return I(Sr,t,e);throw Yr("RegExp#exec called on incompatible receiver")}var Lr=l("species"),Cr=RegExp.prototype,Pe=function(n,t,e,r){var a,i=l(n),s=!_(function(){var t={};return t[i]=function(){return 7},7!=""[n](t)}),o=s&&!_(function(){var t=!1,e=/a/;return"split"===n&&((e={constructor:{}}).constructor[Lr]=function(){return e},e.flags="",e[i]=/./[i]),e.exec=function(){return t=!0,null},e[i](""),!t});s&&o&&!e||(a=v(/./[i]),t=t(i,""[n],function(t,e,n,r,i){var o=v(t),t=e.exec;return t===Sr||t===Cr.exec?s&&!i?{done:!0,value:a(e,n,r)}:{done:!0,value:o(n,e,r)}:{done:!1}}),re(String.prototype,n,t[0]),re(Cr,i,t[1])),r&&zt(Cr[i],"sham",!0)},Or=v("".charAt),Pr=v("".charCodeAt),Rr=v("".slice),Fe=function(o){return function(t,e){var n,r=Qe(u(t)),i=ae(e),t=r.length;return i<0||t<=i?o?"":void 0:(e=Pr(r,i))<55296||56319<e||i+1===t||(n=Pr(r,i+1))<56320||57343<n?o?Or(r,i):e:o?Rr(r,i,i+2):n-56320+(e-55296<<10)+65536}},Ye={codeAt:Fe(!1),charAt:Fe(!0)},Fr=Ye.charAt,Yr=D.TypeError;Pe("match",function(r,s,l){return[function(t){var e=u(this),n=null==t?void 0:X(t,r);return n?I(n,t,e):new RegExp(t)[r](Qe(e))},function(t){var e=kt(this),n=Qe(t),t=l(s,e,n);if(t.done)return t.value;if(!e.global)return Er(e,n);for(var r=e.unicode,i=[],o=e.lastIndex=0;null!==(a=Er(e,n));){var a=Qe(a[0]);""===(i[o]=a)&&(e.lastIndex=Ir(n,ue(e.lastIndex),r)),o++}return 0===o?null:i}]});var Ue=ne.PROPER,Xe="toString",Ur=RegExp.prototype,Br=Ur[Xe],Hr=v(nr),Ke=_(function(){return"/a/b"!=Br.call({source:"a",flags:"b"})}),s=Ue&&Br.name!=Xe;(Ke||s)&&re(RegExp.prototype,Xe,function(){var t=kt(this),e=Qe(t.source),n=t.flags;return"/"+e+"/"+Qe(void 0!==n||!C(Ur,t)||"flags"in Ur?n:Hr(t))},{unsafe:!0});function Zr(t){var e=r(t),t=Tt.f;S&&e&&!e[$r]&&t(e,$r,{configurable:!0,get:function(){return this}})}var Gr=D.String,qr=D.TypeError,Qr=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=v(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),r=t instanceof Array}catch(t){}return function(t,e){return kt(t),function(t){if("object"==typeof t||N(t))return;throw qr("Can't set "+Gr(t)+" as a prototype")}(e),r?n(t,e):t.__proto__=e,t}}():void 0),Wr=function(t,e,n){var r,i;return Qr&&N(r=e.constructor)&&r!==n&&L(i=r.prototype)&&i!==n.prototype&&Qr(t,i),t},Vr=l("match"),Xr=function(t){var e;return L(t)&&(void 0!==(e=t[Vr])?!!e:"RegExp"==M(t))},$r=l("species"),Jr=Tt.f,p=me.f,Kr=Jt.enforce,ti=l("match"),ei=D.RegExp,ni=ei.prototype,ri=D.SyntaxError,ii=v(nr),oi=v(ni.exec),ai=v("".charAt),si=v("".replace),li=v("".indexOf),ci=v("".slice),ui=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,fi=/a/g,di=/a/g,P=new ei(fi)!==fi,hi=we.UNSUPPORTED_Y,Y=S&&(!P||hi||mr||vr||_(function(){return di[ti]=!1,ei(fi)!=fi||ei(di)==di||"/a/i"!=ei(fi,"i")})),pi=function(t){for(var e,n=t.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(e=ai(t,r))?o||"."!==e?("["===e?o=!0:"]"===e&&(o=!1),i+=e):i+="[\\s\\S]":i+=e+ai(t,++r);return i},gi=function(t){for(var e,n=t.length,r=0,i="",o=[],a={},s=!1,l=!1,c=0,u="";r<=n;r++){if("\\"===(e=ai(t,r)))e+=ai(t,++r);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:oi(ui,ci(t,r+1))&&(r+=2,l=!0),i+=e,c++;continue;case">"===e&&l:if(""===u||ot(a,u))throw new ri("Invalid capture group name");a[u]=!0,l=!(o[o.length]=[u,c]),u="";continue}l?u+=e:i+=e}return[i,o]};if(Te("RegExp",Y)){for(var _i=function(t,e){var n,r,i=C(ni,this),o=Xr(t),a=void 0===e,s=[],l=t;if(!i&&o&&a&&t.constructor===_i)return t;if((o||C(ni,t))&&(t=t.source,a&&(e="flags"in l?l.flags:ii(l))),t=void 0===t?"":Qe(t),e=void 0===e?"":Qe(e),l=t,o=e=mr&&"dotAll"in fi&&(n=!!e&&-1<li(e,"s"))?si(e,/s/g,""):e,hi&&"sticky"in fi&&(r=!!e&&-1<li(e,"y"))&&(e=si(e,/y/g,"")),vr&&(t=(a=gi(t))[0],s=a[1]),e=Wr(ei(t,e),i?this:ni,_i),(n||r||s.length)&&(i=Kr(e),n&&(i.dotAll=!0,i.raw=_i(pi(t),o)),r&&(i.sticky=!0),s.length&&(i.groups=s)),t!==l)try{zt(e,"source",""===l?"(?:)":l)}catch(t){}return e},mi=p(ei),yi=0;mi.length>yi;)!function(e){e in _i||Jr(_i,e,{configurable:!0,get:function(){return ei[e]},set:function(t){ei[e]=t}})}(mi[yi++]);(ni.constructor=_i).prototype=ni,re(D,"RegExp",_i)}function vi(t,e,n){(t.prototype=e.prototype=n).constructor=t}function bi(t,e){var n,r=Object.create(t.prototype);for(n in e)r[n]=e[n];return r}function xi(){}Zr("RegExp");var wi=1/.7,In="\\s*([+-]?\\d+)\\s*",Cn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",tt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mi=/^#([0-9a-f]{3,8})$/,ki=new RegExp("^rgb\\("+[In,In,In]+"\\)$"),ji=new RegExp("^rgb\\("+[tt,tt,tt]+"\\)$"),Ai=new RegExp("^rgba\\("+[In,In,In,Cn]+"\\)$"),Ti=new RegExp("^rgba\\("+[tt,tt,tt,Cn]+"\\)$"),zi=new RegExp("^hsl\\("+[Cn,tt,tt]+"\\)$"),Ni=new RegExp("^hsla\\("+[Cn,tt,tt,Cn]+"\\)$"),Di={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Si(){return this.rgb().formatHex()}function Ii(){return this.rgb().formatRgb()}function Ei(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Mi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Li(e):3===n?new Ri(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ci(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ci(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ki.exec(t))?new Ri(e[1],e[2],e[3],1):(e=ji.exec(t))?new Ri(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ai.exec(t))?Ci(e[1],e[2],e[3],e[4]):(e=Ti.exec(t))?Ci(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=zi.exec(t))?Bi(e[1],e[2]/100,e[3]/100,1):(e=Ni.exec(t))?Bi(e[1],e[2]/100,e[3]/100,e[4]):Di.hasOwnProperty(t)?Li(Di[t]):"transparent"===t?new Ri(NaN,NaN,NaN,0):null}function Li(t){return new Ri(t>>16&255,t>>8&255,255&t,1)}function Ci(t,e,n,r){return new Ri(t=r<=0?e=n=NaN:t,e,n,r)}function Oi(t){return(t=t instanceof xi?t:Ei(t))?new Ri((t=t.rgb()).r,t.g,t.b,t.opacity):new Ri}function Pi(t,e,n,r){return 1===arguments.length?Oi(t):new Ri(t,e,n,null==r?1:r)}function Ri(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Fi(){return"#"+Ui(this.r)+Ui(this.g)+Ui(this.b)}function Yi(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ui(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Bi(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new Gi(t,e,n,r)}function Hi(t){if(t instanceof Gi)return new Gi(t.h,t.s,t.l,t.opacity);if(!(t=!(t instanceof xi)?Ei(t):t))return new Gi;if(t instanceof Gi)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=0<l&&l<1?0:a,new Gi(a,s,l,t.opacity)}function Zi(t,e,n,r){return 1===arguments.length?Hi(t):new Gi(t,e,n,null==r?1:r)}function Gi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function qi(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}vi(xi,Ei,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Si,formatHex:Si,formatHsl:function(){return Hi(this).formatHsl()},formatRgb:Ii,toString:Ii}),vi(Ri,Pi,bi(xi,{brighter:function(t){return t=null==t?wi:Math.pow(wi,t),new Ri(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ri(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fi,formatHex:Fi,formatRgb:Yi,toString:Yi})),vi(Gi,Zi,bi(xi,{brighter:function(t){return t=null==t?wi:Math.pow(wi,t),new Gi(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Gi(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,e=n+(n<.5?n:1-n)*e,n=2*n-e;return new Ri(qi(240<=t?t-240:120+t,n,e),qi(t,n,e),qi(t<120?240+t:t-120,n,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Qi=Math.PI/180,Wi=180/Math.PI,Vi=.96422,Xi=1,$i=.82521,Ji=4/29,Ki=6/29,to=3*Ki*Ki,eo=Ki*Ki*Ki;function no(t){if(t instanceof io)return new io(t.l,t.a,t.b,t.opacity);if(t instanceof uo)return fo(t);var e,n,r=lo((t=!(t instanceof Ri)?Oi(t):t).r),i=lo(t.g),o=lo(t.b),a=oo((.2225045*r+.7168786*i+.0606169*o)/Xi);return r===i&&i===o?e=n=a:(e=oo((.4360747*r+.3850649*i+.1430804*o)/Vi),n=oo((.0139322*r+.0971045*i+.7141733*o)/$i)),new io(116*a-16,500*(e-a),200*(a-n),t.opacity)}function ro(t,e,n,r){return 1===arguments.length?no(t):new io(t,e,n,null==r?1:r)}function io(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function oo(t){return eo<t?Math.pow(t,1/3):t/to+Ji}function ao(t){return Ki<t?t*t*t:to*(t-Ji)}function so(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function lo(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function co(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof uo)return new uo(t.h,t.c,t.l,t.opacity);if(0===(t=!(t instanceof io)?no(t):t).a&&0===t.b)return new uo(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Wi;return new uo(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new uo(t,e,n,null==r?1:r)}function uo(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function fo(t){if(isNaN(t.h))return new io(t.l,0,0,t.opacity);var e=t.h*Qi;return new io(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}vi(io,ro,bi(xi,{brighter:function(t){return new io(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new io(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Ri(so(3.1338561*(e=Vi*ao(e))-1.6168667*(t=Xi*ao(t))-.4906146*(n=$i*ao(n))),so(-.9787684*e+1.9161415*t+.033454*n),so(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),vi(uo,co,bi(xi,{brighter:function(t){return new uo(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new uo(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return fo(this).rgb()}}));var ho,po,go,_o,mo,yo,vo,bo,xo,wo=1.78277,Mo=-.29227,ko=-.90649,jo=1.97294,Ao=jo*ko,To=jo*wo,zo=wo*Mo- -.14861*ko;function No(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Do)return new Do(t.h,t.s,t.l,t.opacity);var e=(t=!(t instanceof Ri)?Oi(t):t).r/255,n=t.g/255,r=t.b/255,i=(zo*r+Ao*e-To*n)/(zo+Ao-To),r=(jo*(n-i)-Mo*(e=r-i))/ko,n=Math.sqrt(r*r+e*e)/(jo*i*(1-i));return new Do((e=n?Math.atan2(r,e)*Wi-120:NaN)<0?e+360:e,n,i,t.opacity)}(t):new Do(t,e,n,null==r?1:r)}function Do(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function So(t){return"string"==typeof t&&null!=t.match(/^(https?:\/\/|data:)/i)}vi(Do,No,bi(xi,{brighter:function(t){return t=null==t?wi:Math.pow(wi,t),new Do(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Do(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Qi,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),t=Math.sin(t);return new Ri(255*(e+n*(-.14861*r+wo*t)),255*(e+n*(Mo*r+ko*t)),255*(e+jo*r*n),this.opacity)}})),document.createElement("canvas").getContext("2d");var Io=!1;function Eo(t){return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")?"http://"+t:t}function Lo(){var t;return(t=document.createElement("style")).type="text/css",t.innerHTML=".flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }",document.head.appendChild(t),(yo=document.createElement("footer")).className="flourish-footer",(vo=document.createElement("div")).className="flourish-footer-text",(xo=document.createElement("a")).target="_blank",(bo=document.createElement("img")).className="flourish-footer-logo",xo.appendChild(bo),yo.appendChild(vo),yo.appendChild(xo),yo}function Co(){return Bo.background_color_enabled&&!function(t){if(t){var e=Ei(t);return 195<Math.round(299*e.r+587*e.g+114*e.b)/1e3}console.warn("No valid color",t)}(Bo.background_color)}function Oo(){var t=So(Bo.footer_logo_src)?Bo.footer_logo_src:"";return t=So(Bo.footer_logo_src_light)&&Co()?Bo.footer_logo_src_light:t}function Po(){return Bo.footer_logo_enabled&&Oo()}function Ro(t){t||function(){var r="";["mobile_small","mobile_big","tablet","desktop","big_screen"].forEach(function(t,e){var n="@media(min-width: "+Bo["breakpoint_"+t]+"px) {\n",t="html { font-size:"+Bo["font_size_"+t]+"%; }";r+=(0==e?"":n)+t+(0==e?"":"\n}")+"\n\n"}),Bn.innerHTML=r;var t=[Bo.body_font,Bo.title_font,Bo.subtitle_font,Bo.footer_font];t.forEach(function(t){if(t){for(var e,n=!1,r=document.head.querySelectorAll("link.layout-font"),i=0;i<r.length;i++)r[i].href==t.url&&(n=!0);n||((e=document.createElement("link")).setAttribute("rel","stylesheet"),e.setAttribute("href",t.url),e.className="layout-font",document.head.appendChild(e))}});for(var e=document.head.querySelectorAll("link.layout-font"),n=0;n<e.length;n++){var i=e[n],o=!1;t.forEach(function(t){t&&t.url==i.href&&(o=!0)}),o||i.parentElement.removeChild(i)}document.body.style.fontFamily=Bo.body_font.name}(),ho.style.textAlign=Bo.header_align,ho.style.margin=0,ho.style.borderTop="top"==Bo.header_border?Bo.header_border_width+"px "+Bo.header_border_style+" "+Bo.header_border_color:null,ho.style.borderBottom="bottom"==Bo.header_border?Bo.header_border_width+"px "+Bo.header_border_style+" "+Bo.header_border_color:null,ho.style.paddingTop="top"==Bo.header_border?Bo.header_border_space+"rem":"",ho.style.paddingBottom="bottom"==Bo.header_border?Bo.header_border_space+"rem":"",po.innerHTML=Bo.title||"",po.style.fontFamily=Bo.title_font?Bo.title_font.name:"inherit",po.style.fontSize=("custom"!=Bo.title_size?Bo.title_size:Bo.title_size_custom)+"rem",po.style.lineHeight=Bo.title_line_height,po.style.fontWeight=Bo.title_weight,po.style.color=Bo.title_color||Bo.font_color,po.style.margin=0,po.style.paddingTop=Bo.title?("custom"==Bo.title_space_above?Bo.title_space_above_custom:Bo.title_space_above)+"rem":0,go.innerHTML=Bo.subtitle||"",go.style.fontFamily=Bo.subtitle_font?Bo.subtitle_font.name:"inherit",go.style.fontSize=("custom"!=Bo.subtitle_size?Bo.subtitle_size:Bo.subtitle_size_custom)+"rem",go.style.lineHeight=Bo.subtitle_line_height,go.style.fontWeight=Bo.subtitle_weight,go.style.color=Bo.subtitle_color||Bo.font_color,go.style.margin=0,go.style.paddingTop=Bo.subtitle?("custom"==Bo.subtitle_space_above?Bo.subtitle_space_above_custom:Bo.subtitle_space_above)+"rem":0,_o.innerHTML=Bo.header_text||"",_o.style.fontSize=("custom"!=Bo.header_text_size?Bo.header_text_size:Bo.header_text_size_custom)+"rem",_o.style.lineHeight=Bo.header_text_line_height,_o.style.fontWeight=Bo.header_text_weight,_o.style.margin=0,_o.style.color=Bo.header_text_color||Bo.font_color,_o.style.paddingTop=Bo.header_text?("custom"==Bo.header_text_space_above?Bo.header_text_space_above_custom:Bo.header_text_space_above)+"rem":0,mo.style.display=Bo.header_logo_enabled&&So(Bo.header_logo_src)?"":"none",mo.style.position="inside"==Bo.header_logo_align?"":"fixed",mo.style.height=Bo.header_logo_height+"rem",mo.style.top="outside"==Bo.header_logo_align?0:"",mo.style.left="outside"==Bo.header_logo_align&&"left"==Bo.header_logo_position_outside?0:"",mo.style.right="outside"==Bo.header_logo_align&&"right"==Bo.header_logo_position_outside?0:"",mo.style.marginTop=Bo.header_logo_margin_top+"rem",mo.style.marginBottom=Bo.header_logo_margin_bottom+"rem",mo.style.marginLeft=Bo.header_logo_margin_left+"rem",mo.style.marginRight=Bo.header_logo_margin_right+"rem",mo.style.float="top"==Bo.header_logo_position_inside||"outside"==Bo.header_logo_align?"":Bo.header_logo_position_inside,mo.style.width="auto",mo.src=So(Bo.header_logo_src)?Bo.header_logo_src:"",function(){var t=[{name:Bo.source_name,url:Bo.source_url},{name:Bo.multiple_sources?Bo.source_name_2:"",url:Bo.multiple_sources?Bo.source_url_2:""},{name:Bo.multiple_sources?Bo.source_name_3:"",url:Bo.multiple_sources?Bo.source_url_3:""}].filter(function(t){return t.name||t.url});Io=0<t.length||Bo.footer_note||Bo.footer_note_secondary||Po(),yo.style.display="flex",yo.style.height=Io?null:0,yo.style.width="100%",yo.style.paddingTop="top"==Bo.footer_border?Bo.footer_border_space+"rem":"",yo.style.paddingBottom="bottom"==Bo.footer_border?Bo.footer_border_space+"rem":"",yo.style.borderTop="top"==Bo.footer_border?Bo.footer_border_width+"px "+Bo.footer_border_style+" "+Bo.footer_border_color:"",yo.style.borderBottom="bottom"==Bo.footer_border?Bo.footer_border_width+"px "+Bo.footer_border_style+" "+Bo.footer_border_color:"",yo.style.fontFamily=Bo.footer_font?Bo.footer_font.name:"inherit",yo.style.fontWeight=Bo.footer_text_weight,"justify"==Bo.footer_align?yo.style.justifyContent="space-between":"left"==Bo.footer_align?yo.style.justifyContent="flex-start":"right"==Bo.footer_align?yo.style.justifyContent="flex-end":"center"==Bo.footer_align&&(yo.style.justifyContent="center"),yo.style.fontSize=Bo.footer_text_size+"rem",yo.style.color=Bo.footer_text_color||Bo.font_color,yo.style.alignItems=Bo.footer_align_vertical;var r=document.createElement("span");t.forEach(function(t,e){var n=document.createElement("p");0<e&&(n.innerText=", "),t.url?((e=document.createElement("a")).innerText=t.name||t.url,e.href=Eo(t.url),e.target="_blank",n.appendChild(e)):n.innerText+=t.name||t.url,r.innerHTML+=n.innerHTML}),vo.style.order="left"==Bo.footer_logo_order?2:"",vo.style.textAlign="justify"==Bo.footer_align?"":Bo.footer_align,t="<p>",t+=""!==r.innerHTML?Bo.source_label+" "+r.innerHTML:"",t+=Bo.footer_note?(""!==r.innerHTML?" • ":"")+Bo.footer_note:"",t+="</p>",t+=Bo.footer_note_secondary?"<br /><p>"+Bo.footer_note_secondary+"</p>":"",vo.innerHTML=t,bo.src=Oo(),bo.style.height=Bo.footer_logo_height+"rem",bo.style.marginLeft="right"==Bo.footer_logo_order?Bo.footer_logo_margin+"rem":"",bo.style.marginRight="left"==Bo.footer_logo_order?Bo.footer_logo_margin+"rem":"",bo.style.verticalAlign=Bo.footer_align_vertical,bo.style.display=Po()?"":"none",xo.href=""==Bo.footer_logo_link_url?"":Eo(Bo.footer_logo_link_url),xo.style.cursor=""==Bo.footer_logo_link_url?"default":"pointer"}(),document.body.style.backgroundColor=Bo.background_color_enabled?Bo.background_color:"transparent",document.body.style.backgroundImage=Bo.background_image_enabled?"url("+Bo.background_image_src+")":"",document.body.style.backgroundSize=Bo.background_image_size,document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition=Bo.background_image_position;var e=Qo.wrapper.style;e.height="100vh",e.color=Bo.font_color,e.maxWidth="wrapper"==Bo.max_width_target?Bo.max_width+"px":"",e.marginLeft="wrapper"==Bo.max_width_target&&"left"!=Bo.max_width_align?"auto":"",e.marginRight="wrapper"==Bo.max_width_target&&"right"!=Bo.max_width_align?"auto":"",e.padding=Bo.margin_top+"rem "+Bo.margin_right+"rem "+Bo.margin_bottom+"rem "+Bo.margin_left+"rem",e.borderTop=Bo.border.enabled?Bo.border.top.width+"px "+Bo.border.top.style+" "+Bo.border.top.color:"",e.borderRight=Bo.border.enabled?Bo.border.right.width+"px "+Bo.border.right.style+" "+Bo.border.right.color:"",e.borderBottom=Bo.border.enabled?Bo.border.bottom.width+"px "+Bo.border.bottom.style+" "+Bo.border.bottom.color:"",e.borderLeft=Bo.border.enabled?Bo.border.left.width+"px "+Bo.border.left.style+" "+Bo.border.left.color:"";var n=Qo.primary.outer.style,t=Qo.legend.outer.style,e=parseFloat(n.order)>parseFloat(t.order)?"above":"below";ar[Bo.layout_order].forEach(function(t,e){Qo[t].outer.style.order=10*e}),n.flex="1 1 auto",n.height=null,fa(e),t.textAlign=Bo.header_align,Qo.controls.outer.style.textAlign=Bo.header_align,Qo.primary.outer.style.maxWidth="primary"==Bo.max_width_target?Bo.max_width+"px":"",Qo.primary.outer.style.marginLeft="primary"==Bo.max_width_target&&"left"!=Bo.max_width_align?"auto":"",Qo.primary.outer.style.marginRight="primary"==Bo.max_width_target&&"right"!=Bo.max_width_align?"auto":"";t=Bo.screenreader_hide_primary&&""!=Bo.screenreader_text_primary;document.getElementById("fl-layout-primary-description").innerText=Bo.screenreader_hide_primary?Bo.screenreader_text_primary:"",t?Qo.primary.outer.setAttribute("aria-describedBy","fl-layout-primary-description"):Qo.primary.outer.removeAttribute("aria-describedBy"),Bo.screenreader_hide_primary?Qo.primary.inner.setAttribute("aria-hidden",!0):Qo.primary.inner.removeAttribute("aria-hidden");var r=("custom"==Bo.space_between_sections?Bo.space_between_sections_custom:Bo.space_between_sections)/2+"rem";qo.map(function(t){var e=Qo[t],n=e.outer.style;return{name:t,height:Vo(e.inner),order:parseFloat(n.order),style:n}}).sort(function(t,e){return t.order-e.order}).filter(function(t){return!!t.height||(t.style.paddingBottom="",void(t.style.paddingTop=""))}).forEach(function(t,e,n){t.style.paddingTop=e?r:"",t.style.paddingBottom=e<n.length-1?r:""})}var Fo=Object.freeze({body_font:{name:"Source Sans Pro",url:"https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700"},title_font:null,subtitle_font:null,footer_font:null,border:{enabled:!1,top:{width:1,color:"#dddddd",style:"solid"},right:{width:1,color:"#dddddd",style:"solid"},bottom:{width:1,color:"#dddddd",style:"solid"},left:{width:1,color:"#dddddd",style:"solid"}},layout_order:"stack-default",margin_top:.75,margin_right:.75,margin_bottom:.75,margin_left:.75,space_between_sections:1,space_between_sections_custom:1,background_color_enabled:!0,background_color:"#ffffff",background_image_enabled:!1,background_image_src:"",background_image_size:"cover",background_image_position:"center center",max_width:600,max_width_target:"none",max_width_align:"center",breakpoint_mobile_small:0,breakpoint_mobile_big:380,breakpoint_tablet:580,breakpoint_desktop:1080,breakpoint_big_screen:1280,font_color:"#333333",font_size_mobile_small:62.5,font_size_mobile_big:75,font_size_tablet:87.5,font_size_desktop:100,font_size_big_screen:120,header_align:"left",header_border:"none",header_border_width:1,header_border_color:"#dddddd",header_border_style:"solid",header_border_space:.5,header_logo_enabled:!1,header_logo_align:"inside",header_logo_src:"",header_logo_height:3,header_logo_position_inside:"left",header_logo_position_outside:"left",header_logo_margin_top:.25,header_logo_margin_right:.5,header_logo_margin_bottom:0,header_logo_margin_left:0,title:"",title_size:1.6,title_size_custom:1.6,title_line_height:1.2,title_color:null,title_weight:"bold",title_space_above:0,title_space_above_custom:1.5,title_styling:!1,subtitle:"",subtitle_size:1.6,subtitle_size_custom:1.6,subtitle_line_height:1.2,subtitle_color:null,subtitle_weight:"normal",subtitle_space_above:0,subtitle_space_above_custom:1.5,subtitle_styling:!1,header_text:"",header_text_size:1.2,header_text_size_custom:1.2,header_text_line_height:1.2,header_text_color:null,header_text_weight:"normal",header_text_space_above:.5,header_text_space_above_custom:1.5,source_label:"Source: ",source_name:"",source_url:"",source_name_2:"",source_url_2:"",source_name_3:"",source_url_3:"",footer_note:"",footer_note_secondary:"",footer_text_size:1,footer_text_color:null,footer_styling:!1,footer_text_weight:"normal",footer_align:"justify",footer_align_vertical:"center",footer_border:"none",footer_border_width:1,footer_border_color:"#dddddd",footer_border_style:"solid",footer_border_space:.5,footer_logo_enabled:!1,footer_logo_src:"",footer_logo_src_light:"",footer_logo_link_url:"",footer_logo_height:1.5,footer_logo_margin:.25,footer_logo_order:"right",screenreader_hide_primary:!0,screenreader_text_primary:""});var Yo,Uo,Bo,Ho="Your web browser does not support the features used by this content. Consider updating to a modern browser.";function Zo(t){return window.innerWidth!==Yo&&(Yo=window.innerWidth,Uo=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*Uo}var Go,qo=["header","controls","legend","primary","footer"],Qo={};function Wo(t){return t.getBoundingClientRect().width}function Vo(t){return t.getBoundingClientRect().height}function Xo(t,e){var n="fl-layout-"+t,r=document.createElement("section");r.className="fl-layout-container",r.id=n+"-container",r.style.width="100%",r.style.position="relative",r.style.order=e;e=document.createElement("div");return e.className="fl-layout-inner",e.id=n,e.style.width="100%",e.style.position="relative","primary"==t&&(r.style.display="flex",function(t){var e=document.createElement("p");e.id="fl-layout-primary-description";var n=e.style;n.border="0",n.height="1px",n.width="1px",n.margin="-1px",n.overflow="hidden",n.padding="0",n.position="absolute",n.clip="rect(0 0 0 0)",t.appendChild(e)}(r)),"controls"!=t&&"legend"!=t||e.setAttribute("aria-hidden",!0),r.appendChild(e),Qo.wrapper.appendChild(r),{outer:r,inner:e}}function $o(){return Qo.wrapper}function Jo(){return Qo.sidebar}function Ko(t){return-1!==qo.indexOf(t)?Qo[t].inner:null}function ta(t){return Qo[t]||void 0===t?Wo("wrapper"==t||void 0===t?Qo.wrapper:Qo[t].outer):null}function ea(t){return Qo[t]||void 0===t?"wrapper"==t||void 0===t?Wo(Qo.wrapper)-la("horizontal")-ca("horizontal"):Wo(Qo[t].inner):null}function na(t){return Qo[t]||void 0===t?Vo("wrapper"==t||void 0===t?Qo.wrapper:Qo[t].outer):null}function ra(t){return Qo[t]||void 0===t?"wrapper"==t||void 0===t?Vo(Qo.wrapper)-la("vertical")-ca("vertical"):Vo(Qo[t].inner):null}function ia(){return Vo(Qo.primary.outer)-aa(Qo.primary.outer)}function oa(){return Wo(Qo.primary.inner)}function aa(t){return(parseFloat(getComputedStyle(t).paddingTop)||0)+(parseFloat(getComputedStyle(t).paddingBottom)||0)}function sa(){return function(){if(Flourish.fixed_height)return window.innerHeight;var t=window.innerWidth;return 999<t?650:599<t?575:400}()-la("vertical")-ca("vertical")-["header","controls","legend","footer"].reduce(function(t,e){return t+na(e)},0)-aa(Qo.primary.outer)}function la(t){var e;return"left"==t?e=Bo.margin_left:"right"==t?e=Bo.margin_right:"top"==t?e=Bo.margin_top:"bottom"==t?e=Bo.margin_bottom:"horizontal"==t?e=Bo.margin_left+Bo.margin_right:"vertical"==t&&(e=Bo.margin_top+Bo.margin_bottom),Zo(e)}function ca(t){return Bo.border.enabled?"vertical"==t?Bo.border.top.width+Bo.border.bottom.width:"horizontal"==t?Bo.border.left.width+Bo.border.right.width:null:0}function ua(t){var e,n=Qo.primary;Flourish.fixed_height||void 0===Flourish.fixed_height?n.inner.style.height="":(t=(e=null===t)?sa():t)+aa(Qo.primary.outer)!==parseFloat(n.outer.style.height)&&(Qo.wrapper.style.height="",n.outer.style.flex="",n.inner.style.height=t+"px",Flourish.setHeight(e?null:na()))}function fa(t){var e=parseFloat(Qo.primary.outer.style.order);Qo.legend.outer.style.order=e+("below"===t.trim().toLowerCase()?1:-1)}function da(t){var e=Go.querySelector(".fl-layout-overlay-message");t?(Go.style.display="block",e.innerHTML="string"==typeof t?t:Ho):(e.textContent="",Go.style.display="none")}function ha(){return Go}function Zs(t){return(Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ga(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _a(t,e,n){return e&&ga(t.prototype,e),n&&ga(t,n),t}function ma(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ya(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ba(t,e)}function va(t){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ba(t,e){return(ba=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wa(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=va(n);return function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xa(t)}(this,r?(t=va(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function Ma(){return(Ma="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=va(t)););return t}(t,e);if(r){e=Object.getOwnPropertyDescriptor(r,e);return e.get?e.get.call(arguments.length<3?t:n):e.value}}).apply(this,arguments)}function ka(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||Aa(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ja(t){return function(t){if(Array.isArray(t))return Ta(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Aa(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aa(t,e){if(t){if("string"==typeof t)return Ta(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ta(t,e):void 0}}function Ta(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function za(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Aa(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function Na(t,e,n){(e=d(e))in t?Tt.f(t,e,E(0,n)):t[e]=n}var Ft=F("slice"),Da=l("species"),Sa=D.Array,Ia=Math.max;$t({target:"Array",proto:!0,forced:!Ft},{slice:function(t,e){var n,r,i,o=z(this),a=Wt(o),s=Qt(t,a),l=Qt(void 0===e?a:e,a);if(dn(o)&&(n=o.constructor,(n=yn(n)&&(n===Sa||dn(n.prototype))||L(n)&&null===(n=n[Da])?void 0:n)===Sa||void 0===n))return Nn(o,s,l);for(r=new(void 0===n?Sa:n)(Ia(l-s,0)),i=0;s<l;s++,i++)s in o&&Na(r,i,o[s]);return r.length=i,r}});var Yt=F("splice"),Ea=D.TypeError,La=Math.max,Ca=Math.min;$t({target:"Array",proto:!0,forced:!Yt},{splice:function(t,e){var n,r,i,o,a,s,l=w(this),c=Wt(l),u=Qt(t,c),t=arguments.length;if(0===t?n=r=0:r=1===t?(n=0,c-u):(n=t-2,Ca(La(ae(e),0),c-u)),9007199254740991<c+n-r)throw Ea("Maximum allowed length exceeded");for(i=sn(l,r),o=0;o<r;o++)(a=u+o)in l&&Na(i,o,l[a]);if(n<(i.length=r)){for(o=u;o<c-r;o++)s=o+n,(a=o+r)in l?l[s]=l[a]:delete l[s];for(o=c;c-r+n<o;o--)delete l[o-1]}else if(r<n)for(o=c-r;u<o;o--)s=o+n-1,(a=o+r-1)in l?l[s]=l[a]:delete l[s];for(o=0;o<n;o++)l[o+u]=arguments[o+2];return l.length=c-r+n,i}});function Oa(t){if(yn(t))return t;throw Ya(Q(t)+" is not a constructor")}var qt=Function.prototype,Pa=qt.apply,ee=qt.bind,Ra=qt.call,Fa="object"==typeof Reflect&&Reflect.apply||(ee?Ra.bind(Pa):function(){return Ra.apply(Pa,arguments)}),Ya=D.TypeError,Ua=l("species"),Ba=function(t,e){var n,t=kt(t).constructor;return void 0===t||null==(n=kt(t)[Ua])?e:Oa(n)},Ha=we.UNSUPPORTED_Y,Za=4294967295,Ga=Math.min,qa=[].push,Qa=v(/./.exec),Wa=v(qa),Va=v("".slice);Pe("split",function(i,p,g){var _="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var n=Qe(u(this)),r=void 0===e?Za:e>>>0;if(0==r)return[];if(void 0===t)return[n];if(!Xr(t))return I(p,n,t,r);for(var i,o,a,s=[],e=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,c=new RegExp(t.source,e+"g");(i=I(Sr,c,n))&&!(l<(o=c.lastIndex)&&(Wa(s,Va(n,l,i.index)),1<i.length&&i.index<n.length&&Fa(qa,s,Nn(i,1)),a=i[0].length,l=o,r<=s.length));)c.lastIndex===i.index&&c.lastIndex++;return l===n.length?!a&&Qa(c,"")||Wa(s,""):Wa(s,Va(n,l)),r<s.length?Nn(s,0,r):s}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:I(p,this,t,e)}:p;return[function(t,e){var n=u(this),r=null==t?void 0:X(t,i);return r?I(r,t,n,e):I(_,Qe(n),t,e)},function(t,e){var n=kt(this),r=Qe(t),i=g(_,n,r,e,_!==p);if(i.done)return i.value;var t=Ba(n,RegExp),o=n.unicode,i=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(Ha?"g":"y"),a=new t(Ha?"^(?:"+n.source+")":n,i),s=void 0===e?Za:e>>>0;if(0==s)return[];if(0===r.length)return null===Er(a,r)?[r]:[];for(var l=0,c=0,u=[];c<r.length;){a.lastIndex=Ha?0:c;var f,d=Er(a,Ha?Va(r,c):r);if(null===d||(f=Ga(ue(a.lastIndex+(Ha?c:0)),r.length))===l)c=Ir(r,c,o);else{if(Wa(u,Va(r,l,c)),u.length===s)return u;for(var h=1;h<=d.length-1;h++)if(Wa(u,d[h]),u.length===s)return u;c=l=f}}return Wa(u,Va(r,l)),u}]},!!_(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};t="ab".split(t);return 2!==t.length||"a"!==t[0]||"b"!==t[1]}),Ha);var Xa="http://www.w3.org/1999/xhtml",$a={svg:"http://www.w3.org/2000/svg",xhtml:Xa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ja(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),$a.hasOwnProperty(e)?{space:$a[e],local:t}:t}function Ka(t){t=Ja(t);return(t.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Xa&&t.documentElement.namespaceURI===Xa?t.createElement(n):t.createElementNS(e,n)}})(t)}function ts(){}function es(t){return null==t?ts:function(){return this.querySelector(t)}}function ns(){return[]}function rs(t){return null==t?ns:function(){return this.querySelectorAll(t)}}function is(t){return function(){return this.matches(t)}}function os(t){return new Array(t.length)}function as(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}as.prototype={constructor:as,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ss="$";function ls(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new as(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function cs(t,e,n,r,i,o,a){for(var s,l,c={},u=e.length,f=o.length,d=new Array(u),h=0;h<u;++h)(s=e[h])&&(d[h]=l=ss+a.call(s,s.__data__,h,e),l in c?i[h]=s:c[l]=s);for(h=0;h<f;++h)(s=c[l=ss+a.call(t,o[h],h,o)])?((r[h]=s).__data__=o[h],c[l]=null):n[h]=new as(t,o[h]);for(h=0;h<u;++h)(s=e[h])&&c[d[h]]===s&&(i[h]=s)}function us(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function fs(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ds(t,e){return t.style.getPropertyValue(e)||fs(t).getComputedStyle(t,null).getPropertyValue(e)}var hs=v([].join),te=A!=Object,Kt=R("join",",");function ps(t){return t.trim().split(/^|\s+/)}function gs(t){return t.classList||new _s(t)}function _s(t){this._node=t,this._names=ps(t.getAttribute("class")||"")}function ms(t,e){for(var n=gs(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ys(t,e){for(var n=gs(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function vs(){this.textContent=""}function bs(){this.innerHTML=""}function xs(){this.nextSibling&&this.parentNode.appendChild(this)}function ws(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ms(){return null}function ks(){var t=this.parentNode;t&&t.removeChild(this)}function js(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function As(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}$t({target:"Array",proto:!0,forced:te||!Kt},{join:function(t){return hs(z(this),void 0===t?",":t)}}),_s.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){t=this._names.indexOf(t);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var Ts={},zs=null;function Ns(n,t,e){return n=Ds(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function Ds(n,r,i){return function(t){var e=zs;zs=t;try{n.call(this,this.__data__,r,i)}finally{zs=e}}}function Ss(o){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?t.length=r:delete this.__on}}}function Is(l,c,u){var f=Ts.hasOwnProperty(l.type)?Ns:Ds;return function(t,e,n){var r,i=this.__on,o=f(c,e,n);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===l.type&&r.name===l.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=u),void(r.value=c);this.addEventListener(l.type,o,u),r={type:l.type,name:l.name,value:c,listener:o,capture:u},i?i.push(r):this.__on=[r]}}function Es(t,e,n){var r=fs(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Ts={mouseenter:"mouseover",mouseleave:"mouseout"}));var Ls=[null];function Cs(t,e){this._groups=t,this._parents=e}function Os(){return new Cs([[document.documentElement]],Ls)}function Ps(t){return"string"==typeof t?new Cs([[document.querySelector(t)]],[document.documentElement]):new Cs([[t]],Ls)}function Rs(t){var e=function(){for(var t,e=zs;t=e.sourceEvent;)e=t;return e}();return function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}return r=t.getBoundingClientRect(),[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}(t,e=e.changedTouches?e.changedTouches[0]:e)}function Fs(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}Cs.prototype=Os.prototype={constructor:Cs,select:function(t){"function"!=typeof t&&(t=es(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Cs(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=rs(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Cs(r,i)},filter:function(t){"function"!=typeof t&&(t=is(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Cs(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),u=-1,this.each(function(t){p[++u]=t}),p;var n,r=e?cs:ls,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var f=i[u],d=o[u],h=d.length,p=t.call(f,f&&f.__data__,u,i),g=p.length,_=l[u]=new Array(g),m=s[u]=new Array(g);r(f,d,_,m,c[u]=new Array(h),p,e);for(var y,v,b=0,x=0;b<g;++b)if(y=_[b]){for(x<=b&&(x=b+1);!(v=m[x])&&++x<g;);y._next=v||null}}return(s=new Cs(s,i))._enter=l,s._exit=c,s},enter:function(){return new Cs(this._enter||this._groups.map(os),this._parents)},exit:function(){return new Cs(this._exit||this._groups.map(os),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit(),r="function"==typeof t?t(r):r.append(t+"");return null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,t=n.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var s,l=e[a],c=n[a],u=l.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=l[d]||c[d])&&(f[d]=s);for(;a<r;++a)o[a]=e[a];return new Cs(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||us;for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,s=e[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new Cs(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Ja(t);if(arguments.length<2){t=this.node();return n.local?t.getAttributeNS(n.space,n.local):t.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):ds(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=ps(t+"");if(arguments.length<2){for(var r=gs(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?ms:ys)(this,t)}}:e?function(t){return function(){ms(this,t)}}:function(t){return function(){ys(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?vs:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?bs:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(xs)},lower:function(){return this.each(ws)},append:function(t){var e="function"==typeof t?t:Ka(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:Ka(t),r=null==e?Ms:"function"==typeof e?e:es(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(ks)},clone:function(t){return this.select(t?As:js)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=o.length;if(!(arguments.length<2)){for(s=e?Is:Ss,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return Es(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return Es(this,t,e)}})(t,e))}};var Ys,Us,fe=(1===(Ys=Fs).length&&(Us=Ys,Ys=function(t,e){return Fs(Us(t),e)}),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;Ys(t[i],e)<0?n=1+i:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<Ys(t[i],e)?r=i:n=1+i}return n}}),Bs=fe.right,Hs=fe.left;function Gs(t){return null===t?NaN:+t}function qs(t,e){var n,r,i=t.length,o=0,a=-1,s=0,l=0;if(null==e)for(;++a<i;)isNaN(n=Gs(t[a]))||(l+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=Gs(e(t[a],a,t)))||(l+=(r=n-s)*(n-(s+=r/++o)));if(1<o)return l/(o-1)}function Qs(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n<=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(n<r&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n<=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(n<r&&(r=n),i<n&&(i=n));return[r,i]}var Ws=Math.sqrt(50),Vs=Math.sqrt(10),Xs=Math.sqrt(2);function $s(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=Js(t,e,n))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o}function Js(t,e,n){t=(e-t)/Math.max(0,n),n=Math.floor(Math.log(t)/Math.LN10),t/=Math.pow(10,n);return 0<=n?(Ws<=t?10:Vs<=t?5:Xs<=t?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(Ws<=t?10:Vs<=t?5:Xs<=t?2:1)}function Ks(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),n=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),r=r/n;return Ws<=r?n*=10:Vs<=r?n*=5:Xs<=r&&(n*=2),e<t?-n:n}function tl(t,e,n){if(null==n&&(n=Gs),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(1<=e)return+n(t[i-1],i-1,t);var r=(i-1)*e,i=Math.floor(r),e=+n(t[i],i,t);return e+(+n(t[i+1],i+1,t)-e)*(r-i)}}function el(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=n;++o<i;)null!=(n=t[o])&&r<n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r<n&&(r=n);return r}function nl(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=n;++o<i;)null!=(n=t[o])&&n<r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n<r&&(r=n);return r}function rl(t){return t.appendChild(this._container.node()),document.querySelector("#legend-styles")||((t=document.createElement("style")).id="legend-styles",t.type="text/css",t.innerHTML=".fl-legend-container.interactive .fl-legend-item:hover { opacity: 0.75; cursor: pointer; }",document.head.appendChild(t)),this}function il(t){return this._formatFunction=t,this}function ol(){return this._container}function al(t){return void 0===t?this._visible:(this._visible=t,this)}function sl(t){return void 0===t?this._auto_title:(this._auto_title=t,this)}function ll(){var t=this,e="auto"==t._state.title_mode?t.autoTitle():t._state.title;this._container.select(".fl-legend-title").text(e).style("display",function(){return e.trim()?void 0===t._state.orientation||"horizontal"==t._state.orientation?"inline-block":"block":"none"}).style("font-weight",this._state.title_weight).style("color",this._state.text_color).style("vertical-align","middle").style("font-size",this._state.text_size+"rem").style("line-height","1.25rem").style("margin-top",0).style("margin-bottom",0).style("margin-right",this._state.text_size+"rem")}function cl(t,e,n){return 0===e?n:e%2==1?cl(t,e-1,n*t):cl(t*t,e/2,n)}function ul(t,e,n){for(var r=-1,i=n;++r<6;)i+=e*t[r],t[r]=i%1e7,i=ml(i/1e7)}function fl(t,e){for(var n=6,r=0;0<=--n;)r+=t[n],t[n]=ml(r/e),r=r%e*1e7}function dl(t){for(var e,n=6,r="";0<=--n;)""===r&&0!==n&&0===t[n]||(e=_l(t[n]),r=""===r?e:r+yl("0",7-e.length)+e);return r}var hl=v(1..valueOf),pl=D.RangeError,gl=D.RangeError,_l=D.String,ml=Math.floor,yl=v(function(t){var e=Qe(u(this)),n="",r=ae(t);if(r<0||r==1/0)throw pl("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}),vl=v("".slice),bl=v(1..toFixed),Le=_(function(){return"0.000"!==bl(8e-5,3)||"1"!==bl(.9,0)||"1.25"!==bl(1.255,2)||"1000000000000000128"!==bl(0xde0b6b3a7640080,0)})||!_(function(){bl({})});function xl(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}$t({target:"Number",proto:!0,forced:Le},{toFixed:function(t){var e,n,r=hl(this),i=ae(t),o=[0,0,0,0,0,0],a="",t="0";if(i<0||20<i)throw gl("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||1e21<=r)return _l(r);if(r<0&&(a="-",r=-r),1e-21<r)if(r=(n=function(t){for(var e=0,n=t;4096<=n;)e+=12,n/=4096;for(;2<=n;)e+=1,n/=2;return e}(r*cl(2,69,1))-69)<0?r*cl(2,-n,1):r/cl(2,n,1),r*=4503599627370496,0<(n=52-n)){for(ul(o,0,r),e=i;7<=e;)ul(o,1e7,0),e-=7;for(ul(o,cl(10,e,1),0),e=n-1;23<=e;)fl(o,1<<23),e-=23;fl(o,1<<e),ul(o,1,1),fl(o,2),t=dl(o)}else ul(o,0,r),ul(o,1<<-n,0),t=dl(o)+yl("0",i);return t=0<i?a+((n=t.length)<=i?"0."+yl("0",i-n)+t:vl(t,0,n-i)+"."+vl(t,n-i)):a+t}});var wl=0,Ml=Object.freeze({show_legend:!0,title_mode:"auto",title:"",title_weight:"bold",swatch_width:.75,swatch_height:1,swatch_radius:3,icon_height:1,icon_color:"#777777",order_override:"",orientation:"horizontal",text_color:null,text_size:1,text_weight:"normal"});function kl(t){for(var e in this._state=t,Ml)void 0===this._state[e]&&(this._state[e]=Ml[e]);return this._colorFunction=void 0,this._formatFunction=void 0,this._legend_items=[],this._filtered_items=[],this._eventListeners=[],this._id="fl-legend-discrete-color-"+wl,this._visible=!0,this._auto_title="",this._container=Ps(document.createElement("div")).attr("class","fl-legend-container").attr("id",this._id),this._container.append("p").attr("class","fl-legend-title"),wl++,this}function jl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Al(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}kl.prototype.appendTo=rl,kl.prototype.format=il,kl.prototype.getContainer=ol,kl.prototype.visible=al,kl.prototype.autoTitle=sl,kl.prototype._updateTitle=ll,kl.prototype.data=function(t,n){return this._colorFunction=n,t||n?(n?Array.isArray(t)?this._legend_items=t.slice().map(function(t,e){t="object"==Zs(t)?t.label||"":t;return t?{label:t,color:n(t,e),index:e}:null}).filter(function(t){return null!==t}):this._legend_items=[]:this._legend_items=Array.isArray(t)?t.slice():[],this):this._legend_items.slice()},kl.prototype.filtered=function(t){return t?(this._filtered_items=Array.isArray(t)?t.slice():[],this):this._filtered_items.slice()},kl.prototype.on=function(t,n){return this._container&&(n&&this._eventListeners.indexOf(t)<0?this._eventListeners.push(t):n||this._eventListeners.splice(this._eventListeners.indexOf[t],1),this._container.classed("interactive",0<this._eventListeners.length),n?this._container.on(t,function(){var t=zs.target,e=t.parentNode,t=t.classList.contains("fl-legend-item")?t:e.classList.contains("fl-legend-item")?e:null;t&&(e=Ps(t).datum(),n.call(t,e,e.index))}):this._container.on(t,null)),this},kl.prototype.update=function(){var t=this._state.show_legend&&this._visible&&0<this._legend_items.length;return this._container.style("display",t?"":"none"),t&&(this._updateTitle(),this._updateLegend()),this},kl.prototype._updateLegend=function(){var r=this,e=this._formatFunction;this._container.style("line-height","1.25rem").style("display","inline-flex").style("flex-wrap","wrap").style("align-items","horizontal"==this._state.orientation?"center":"start").style("flex-direction","horizontal"==this._state.orientation?null:"column");var t=this._state.order_override.trim()?function(t,e){for(var n={},r=e.split(/\s*\n\s*/),i=0;i<r.length;i++)n[r[i]]=i;for(var o=[],a=0;a<t.length;a++){var s=t[a],l=n[s.label];void 0!==l&&(o[l]=s)}return o.filter(function(t){return void 0!==t})}(this._legend_items,this._state.order_override):this._legend_items,n=this._container.selectAll(".fl-legend-item").data(t),t=n.enter().append("div").attr("class","fl-legend-item");t.append("div").attr("class","fl-legend-swatch"),t.append("svg").attr("class","fl-legend-icon").append("path"),t.append("p").attr("class","fl-legend-label");t=n.merge(t);return t.style("display","horizontal"==this._state.orientation?"inline-flex":"flex").style("align-items","center").style("opacity",function(t){return-1<r._filtered_items.indexOf(t.label)?.2:""}).style("line-height","0").style("vertical-align","middle").style("margin-right","horizontal"==this._state.orientation?.5*this._state.text_size+"rem":""),t.select(".fl-legend-swatch").style("height",this._state.swatch_height+"rem").style("width",this._state.swatch_width+"rem").style("margin-right",.25*this._state.text_size+"rem").style("border-radius",this._state.swatch_radius+"px").style("background-color",function(t){return t.color}).style("vertical-align","middle").style("display",function(t){return t.icon?"none":"inline-block"}),t.select(".fl-legend-icon").attr("height",Math.ceil(xl(this._state.icon_height))).attr("width",function(t){if(!t.icon)return 0;var e=t.icon.width,n=t.icon.height,t=t.outline?n*t.stroke_thickness:0,n=xl(r._state.icon_height*((e+=t)/(n+=t)));return Math.ceil(n)}).style("margin-right",.25*this._state.text_size+"rem").style("display",function(t){return t.icon?"inline-block":"none"}).select("path").attr("d",function(t){return t.icon?t.icon.path_string:null}).attr("transform",function(t){if(!t.icon)return null;var e=t.icon.height,t=t.outline?e*t.stroke_thickness:0;e+=t;e="scale("+xl(r._state.icon_height)/e+")";return e+="translate("+.5*t+","+.5*t+")"}).style("fill",function(t){return t.outline?"none":t.color||r._state.icon_color}).style("stroke",function(t){return t.outline?t.color||r._state.icon_color:"none"}).style("stroke-width",function(t){return t.outline?t.icon.height*t.stroke_thickness:0}),t.select(".fl-legend-label").style("font-size",this._state.text_size+"rem").style("color",this._state.text_color).text(function(t){return e?e(t.label):t.label}).style("margin",0).style("vertical-align","middle").style("user-select","none").style("line-height","1.25rem").style("font-weight",this._state.text_weight).style("display","inline-block"),n.exit().remove(),this._legend_item_els=t,this};var Tl=l("unscopables"),zl=Array.prototype;null==zl[Tl]&&Tt.f(zl,Tl,{configurable:!0,value:gr(null)});var Nl,Ee=function(t){zl[Tl][t]=!0},Dl={},Fe=!_(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Sl=Bt("IE_PROTO"),Il=D.Object,El=Il.prototype,Ll=Fe?Il.getPrototypeOf:function(t){var e=w(t);if(ot(e,Sl))return e[Sl];t=e.constructor;return N(t)&&e instanceof t?t.prototype:e instanceof Il?El:null},Cl=l("iterator"),Ue=!1;[].keys&&("next"in(Fu=[].keys())?(Uu=Ll(Ll(Fu)))!==Object.prototype&&(Nl=Uu):Ue=!0);Ke=null==Nl||_(function(){var t={};return Nl[Cl].call(t)!==t});N((Nl=Ke?{}:Nl)[Cl])||re(Nl,Cl,function(){return this});function Ol(){return this}function Pl(t,e,n,r,i,o,a){function s(t){if(t===i&&g)return g;if(!ql&&t in h)return h[t];switch(t){case"keys":case Wl:case Vl:return function(){return new n(this,t)}}return function(){return new n(this)}}!function(t,e,n){e+=" Iterator";t.prototype=gr(Ul,{next:E(1,n)}),Yl(t,e,!1),Dl[e]=Bl}(n,e,r);var l,c,u,f=e+" Iterator",d=!1,h=t.prototype,p=h[Ql]||h["@@iterator"]||i&&h[i],g=!ql&&p||s(i);if((r="Array"==e&&h.entries||p)&&(l=Ll(r.call(new t)))!==Object.prototype&&l.next&&(Ll(l)!==Gl&&(Qr?Qr(l,Gl):N(l[Ql])||re(l,Ql,Ol)),Yl(l,f,!0)),Hl&&i==Wl&&p&&p.name!==Wl&&(Zl?zt(h,"name",Wl):(d=!0,g=function(){return I(p,this)})),i)if(c={values:s(Wl),keys:o?g:s("keys"),entries:s(Vl)},a)for(u in c)!ql&&!d&&u in h||re(h,u,c[u]);else $t({target:e,proto:!0,forced:ql||d},c);return h[Ql]!==g&&re(h,Ql,g,{name:i}),Dl[e]=g,c}var s={IteratorPrototype:Nl,BUGGY_SAFARI_ITERATORS:Ue},Rl=Tt.f,Fl=l("toStringTag"),Yl=function(t,e,n){t&&!ot(t=n?t:t.prototype,Fl)&&Rl(t,Fl,{configurable:!0,value:e})},Ul=s.IteratorPrototype,Bl=function(){return this},Hl=ne.PROPER,Zl=ne.CONFIGURABLE,Gl=s.IteratorPrototype,ql=s.BUGGY_SAFARI_ITERATORS,Ql=l("iterator"),Wl="values",Vl="entries",Xl="Array Iterator",$l=Jt.set,Jl=Jt.getterFor(Xl),Kl=Pl(Array,"Array",function(t,e){$l(this,{type:Xl,target:z(t),index:0,kind:e})},function(){var t=Jl(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values");Dl.Arguments=Dl.Array,Ee("keys"),Ee("values"),Ee("entries");function tc(e,t){if(e){if(e[nc]!==ic)try{zt(e,nc,ic)}catch(t){e[nc]=ic}if(e[rc]||zt(e,rc,t),un[t])for(var n in Kl)if(e[n]!==Kl[n])try{zt(e,n,Kl[n])}catch(t){e[n]=Kl[n]}}}var ec,nc=l("iterator"),rc=l("toStringTag"),ic=Kl.values;for(ec in un)tc(D[ec]&&D[ec].prototype,ec);tc(g,"DOMTokenList");var oc="$";function ac(){}function sc(t,e){var n=new ac;if(t instanceof ac)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function lc(){var d,h,e,p=[],a=[];function g(t,n,r,i){if(n>=p.length)return null!=d&&t.sort(d),null!=h?h(t):t;for(var e,o,a,s=-1,l=t.length,c=p[n++],u=sc(),f=r();++s<l;)(a=u.get(e=c(o=t[s])+""))?a.push(o):u.set(e,[o]);return u.each(function(t,e){i(f,e,g(t,n,r,i))}),f}return e={object:function(t){return g(t,0,cc,uc)},map:function(t){return g(t,0,fc,dc)},entries:function(t){return function n(t,r){if(++r>p.length)return t;var i,o=a[r-1];return null!=h&&r>=p.length?i=t.entries():(i=[],t.each(function(t,e){i.push({key:e,values:n(t,r)})})),null!=o?i.sort(function(t,e){return o(t.key,e.key)}):i}(g(t,0,fc,dc),0)},key:function(t){return p.push(t),e},sortKeys:function(t){return a[p.length-1]=t,e},sortValues:function(t){return d=t,e},rollup:function(t){return h=t,e}}}function cc(){return{}}function uc(t,e,n){t[e]=n}function fc(){return sc()}function dc(t,e,n){t.set(e,n)}function hc(){}ac.prototype=sc.prototype={constructor:ac,has:function(t){return oc+t in this},get:function(t){return this[oc+t]},set:function(t,e){return this[oc+t]=e,this},remove:function(t){t=oc+t;return t in this&&delete this[t]},clear:function(){for(var t in this)t[0]===oc&&delete this[t]},keys:function(){var t,e=[];for(t in this)t[0]===oc&&e.push(t.slice(1));return e},values:function(){var t,e=[];for(t in this)t[0]===oc&&e.push(this[t]);return e},entries:function(){var t,e=[];for(t in this)t[0]===oc&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var t,e=0;for(t in this)t[0]===oc&&++e;return e},empty:function(){for(var t in this)if(t[0]===oc)return!1;return!0},each:function(t){for(var e in this)e[0]===oc&&t(this[e],e.slice(1),this)}};Xe=sc.prototype;function pc(t,e){var n=new hc;if(t instanceof hc)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}hc.prototype=pc.prototype={constructor:hc,has:Xe.has,add:function(t){return this[oc+(t+="")]=t,this},remove:Xe.remove,clear:Xe.clear,values:Xe.keys,size:Xe.size,empty:Xe.empty,each:Xe.each};var P=Array.prototype,gc=P.map,_c=P.slice,mc={name:"implicit"};function yc(){var o=sc(),a=[],r=[],i=mc;function s(t){var e=t+"",n=o.get(e);if(!n){if(i!==mc)return i;o.set(e,n=a.push(t))}return r[(n-1)%r.length]}return s.domain=function(t){if(!arguments.length)return a.slice();a=[],o=sc();for(var e,n,r=-1,i=t.length;++r<i;)o.has(n=(e=t[r])+"")||o.set(n,a.push(e));return s},s.range=function(t){return arguments.length?(r=_c.call(t),s):r.slice()},s.unknown=function(t){return arguments.length?(i=t,s):i},s.copy=function(){return yc(a,r).unknown(i)},jl.apply(s,arguments),s}function vc(t){return function(){return t}}function bc(e,n){return function(t){return e+t*n}}function xc(t,e){var n=e-t;return n?bc(t,180<n||n<-180?n-360*Math.round(n/360):n):vc(isNaN(t)?e:t)}function wc(o){return 1==(o=+o)?Mc:function(t,e){return e-t?(n=t,r=e,i=o,n=Math.pow(n,i),r=Math.pow(r,i)-n,i=1/i,function(t){return Math.pow(n+t*r,i)}):vc(isNaN(t)?e:t);var n,r,i}}function Mc(t,e){var n=e-t;return n?bc(t,n):vc(isNaN(t)?e:t)}var kc=function t(e){var a=wc(e);function n(e,t){var n=a((e=Pi(e)).r,(t=Pi(t)).r),r=a(e.g,t.g),i=a(e.b,t.b),o=Mc(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=t,n}(1);function jc(t,e,n){for(var r in e)re(t,r,e[r],n);return t}function Ac(t,e){if(C(e,t))return t;throw Fc("Incorrect invocation")}function Tc(t){if(void 0===t)return 0;var e=ae(t),t=ue(e);if(e!==t)throw Yc("Wrong length or index");return t}function zc(t){for(var e=w(this),n=Wt(e),r=arguments.length,i=Qt(1<r?arguments[1]:void 0,n),o=void 0===(r=2<r?arguments[2]:void 0)?n:Qt(r,n);i<o;)e[i++]=t;return e}function Nc(t){return[255&t]}function Dc(t){return[255&t,t>>8&255]}function Sc(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function Ic(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function Ec(t){return su(t,23,4)}function Lc(t){return su(t,52,8)}function Cc(t,e,n,r){var i=Tc(n),n=Vc(t);if(i+e>n.byteLength)throw iu(Jc);return t=Vc(n.buffer).bytes,n=i+n.byteOffset,e=Nn(t,n,n+e),r?e:au(e)}function Oc(t,e,n,r,i,o){if(n=Tc(n),t=Vc(t),n+e>t.byteLength)throw iu(Jc);for(var a=Vc(t.buffer).bytes,s=n+t.byteOffset,l=r(+i),c=0;c<e;c++)a[s+c]=l[o?c:e-c-1]}var Pc,Rc=(Pc=function(s){var l=s.length-1;return function(t){var e,n=t<=0?t=0:1<=t?l-(t=1):Math.floor(t*l),r=s[n],i=s[n+1],o=0<n?s[n-1]:2*r-i,a=n<l-1?s[n+2]:2*i-r;return((1-3*(e=(t-n/l)*l)+3*(t=e*e)-(n=t*e))*o+(4-6*t+3*n)*r+(1+3*e+3*t-3*n)*i+n*a)/6}},function(t){for(var e,n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a=0;a<n;++a)e=Pi(t[a]),r[a]=e.r||0,i[a]=e.g||0,o[a]=e.b||0;return r=Pc(r),i=Pc(i),o=Pc(o),e.opacity=1,function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e+""}}),Y="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Fc=D.TypeError,Yc=D.RangeError,Uc=D.Array,Bc=Math.abs,Hc=Math.pow,Zc=Math.floor,Gc=Math.log,qc=Math.LN2,p=function(t,e,n){var r,i,o=Uc(n),a=8*n-e-1,s=(1<<a)-1,l=s>>1,c=23===e?Hc(2,-24)-Hc(2,-77):0,u=t<0||0===t&&1/t<0?1:0,f=0;for((t=Bc(t))!=t||t===1/0?(i=t!=t?1:0,r=s):(r=Zc(Gc(t)/qc),t*(n=Hc(2,-r))<1&&(r--,n*=2),2<=(t+=1<=r+l?c/n:c*Hc(2,1-l))*n&&(r++,n/=2),s<=r+l?(i=0,r=s):1<=r+l?(i=(t*n-1)*Hc(2,e),r+=l):(i=t*Hc(2,l-1)*Hc(2,e),r=0));8<=e;o[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,a+=e;0<a;o[f++]=255&r,r/=256,a-=8);return o[--f]|=128*u,o},In=function(t,e){var n,r=t.length,i=8*r-e-1,o=(1<<i)-1,a=o>>1,s=i-7,l=r-1,r=t[l--],c=127&r;for(r>>=7;0<s;c=256*c+t[l],l--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=e;0<s;n=256*n+t[l],l--,s-=8);if(0===c)c=1-a;else{if(c===o)return n?NaN:r?-1/0:1/0;n+=Hc(2,e),c-=a}return(r?-1:1)*n*Hc(2,c-e)},tt=me.f,Qc=Tt.f,Cn=ne.PROPER,Wc=ne.CONFIGURABLE,Vc=Jt.get,Xc=Jt.set,Ft="ArrayBuffer",Yt="DataView",$c="prototype",Jc="Wrong index",Kc=D[Ft],tu=Kc,eu=tu&&tu[$c],qt=D[Yt],nu=qt&&qt[$c],ee=Object.prototype,ru=D.Array,iu=D.RangeError,ou=v(zc),au=v([].reverse),su=p,lu=In,we=function(t,e){Qc(t[$c],e,{get:function(){return Vc(this)[e]}})};if(Y){var cu=Cn&&Kc.name!==Ft;if(_(function(){Kc(1)})&&_(function(){new Kc(-1)})&&!_(function(){return new Kc,new Kc(1.5),new Kc(NaN),cu&&!Wc}))cu&&Wc&&zt(Kc,"name",Ft);else{(tu=function(t){return Ac(this,eu),new Kc(Tc(t))})[$c]=eu;for(var uu,fu=tt(Kc),du=0;fu.length>du;)(uu=fu[du++])in tu||zt(tu,uu,Kc[uu]);eu.constructor=tu}Qr&&Ll(nu)!==ee&&Qr(nu,ee);var hu=new qt(new tu(2)),pu=v(nu.setInt8);hu.setInt8(0,2147483648),hu.setInt8(1,2147483649),!hu.getInt8(0)&&hu.getInt8(1)||jc(nu,{setInt8:function(t,e){pu(this,t,e<<24>>24)},setUint8:function(t,e){pu(this,t,e<<24>>24)}},{unsafe:!0})}else eu=(tu=function(t){Ac(this,eu);t=Tc(t);Xc(this,{bytes:ou(ru(t),0),byteLength:t}),S||(this.byteLength=t)})[$c],nu=(qt=function(t,e,n){Ac(this,nu),Ac(t,eu);var r=Vc(t).byteLength,e=ae(e);if(e<0||r<e)throw iu("Wrong offset");if(r<e+(n=void 0===n?r-e:ue(n)))throw iu("Wrong length");Xc(this,{buffer:t,byteLength:n,byteOffset:e}),S||(this.buffer=t,this.byteLength=n,this.byteOffset=e)})[$c],S&&(we(tu,"byteLength"),we(qt,"buffer"),we(qt,"byteLength"),we(qt,"byteOffset")),jc(nu,{getInt8:function(t){return Cc(this,1,t)[0]<<24>>24},getUint8:function(t){return Cc(this,1,t)[0]},getInt16:function(t){t=Cc(this,2,t,1<arguments.length?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(t){t=Cc(this,2,t,1<arguments.length?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(t){return Ic(Cc(this,4,t,1<arguments.length?arguments[1]:void 0))},getUint32:function(t){return Ic(Cc(this,4,t,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(t){return lu(Cc(this,4,t,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(t){return lu(Cc(this,8,t,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(t,e){Oc(this,1,t,Nc,e)},setUint8:function(t,e){Oc(this,1,t,Nc,e)},setInt16:function(t,e){Oc(this,2,t,Dc,e,2<arguments.length?arguments[2]:void 0)},setUint16:function(t,e){Oc(this,2,t,Dc,e,2<arguments.length?arguments[2]:void 0)},setInt32:function(t,e){Oc(this,4,t,Sc,e,2<arguments.length?arguments[2]:void 0)},setUint32:function(t,e){Oc(this,4,t,Sc,e,2<arguments.length?arguments[2]:void 0)},setFloat32:function(t,e){Oc(this,4,t,Ec,e,2<arguments.length?arguments[2]:void 0)},setFloat64:function(t,e){Oc(this,8,t,Lc,e,2<arguments.length?arguments[2]:void 0)}});Yl(tu,Ft),Yl(qt,Yt);var gu={ArrayBuffer:tu,DataView:qt},te="ArrayBuffer",Kt=gu[te],fe=D[te];function _u(e,n){n=n||[];var r,i=e?Math.min(n.length,e.length):0,o=n.slice();return function(t){for(r=0;r<i;++r)o[r]=e[r]*(1-t)+n[r]*t;return o}}function mu(t,e){for(var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a=0;a<r;++a)i[a]=ku(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(t){for(a=0;a<r;++a)o[a]=i[a](t);return o}}function yu(e,n){var r=new Date;return e=+e,n=+n,function(t){return r.setTime(e*(1-t)+n*t),r}}function vu(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function bu(t,e){var n,r={},i={};for(n in null!==t&&"object"===Zs(t)||(t={}),e=null===e||"object"!==Zs(e)?{}:e)n in t?r[n]=ku(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}$t({global:!0,forced:fe!==Kt},{ArrayBuffer:Kt}),Zr(te);var xu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wu=new RegExp(xu.source,"g");function Mu(t,r){var e,n,i,o,a,s=xu.lastIndex=wu.lastIndex=0,l=-1,c=[],u=[];for(t+="",r+="";(e=xu.exec(t))&&(n=wu.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),c[l]?c[l]+=i:c[++l]=i),(e=e[0])===(n=n[0])?c[l]?c[l]+=n:c[++l]=n:(c[++l]=null,u.push({i:l,x:vu(e,n)})),s=wu.lastIndex;return s<r.length&&(i=r.slice(s),c[l]?c[l]+=i:c[++l]=i),c.length<2?u[0]?(a=u[0].x,function(t){return a(t)+""}):(o=r,function(){return o}):(r=u.length,function(t){for(var e,n=0;n<r;++n)c[(e=u[n]).i]=e.x(t);return c.join("")})}function ku(t,e){var n,r=Zs(e);return null==e||"boolean"===r?vc(e):("number"===r?vu:"string"===r?(n=Ei(e))?(e=n,kc):Mu:e instanceof Ei?kc:e instanceof Date?yu:(n=e,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(e)?mu:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?bu:vu:_u))(t,e)}function ju(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}var Au,Tu,zu,Nu,Du=180/Math.PI,Su={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Iu(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Du,skewX:Math.atan(l)*Du,scaleX:a,scaleY:s}}function Eu(f,d,h,p){function g(t){return t.length?t.pop()+" ":""}return function(t,e){var n,r,i,o,a,s,l,c=[],u=[];return t=f(t),e=f(e),i=t.translateX,o=t.translateY,l=e.translateX,s=e.translateY,a=c,n=u,i!==l||o!==s?(r=a.push("translate(",null,d,null,h),n.push({i:r-4,x:vu(i,l)},{i:r-2,x:vu(o,s)})):(l||s)&&a.push("translate("+l+d+s+h),n=t.rotate,i=e.rotate,r=c,o=u,n!==i?(180<n-i?i+=360:180<i-n&&(n+=360),o.push({i:r.push(g(r)+"rotate(",null,p)-2,x:vu(n,i)})):i&&r.push(g(r)+"rotate("+i+p),a=t.skewX,l=e.skewX,s=c,o=u,a!==l?o.push({i:s.push(g(s)+"skewX(",null,p)-2,x:vu(a,l)}):l&&s.push(g(s)+"skewX("+l+p),n=t.scaleX,r=t.scaleY,i=e.scaleX,o=e.scaleY,a=c,s=u,n!==i||r!==o?(l=a.push(g(a)+"scale(",null,",",null,")"),s.push({i:l-4,x:vu(n,i)},{i:l-2,x:vu(r,o)})):1===i&&1===o||a.push(g(a)+"scale("+i+","+o+")"),t=e=null,function(t){for(var e,n=-1,r=u.length;++n<r;)c[(e=u[n]).i]=e.x(t);return c.join("")}}}var Lu=Eu(function(t){return"none"===t?Su:(Au||(Au=document.createElement("DIV"),Tu=document.documentElement,zu=document.defaultView),Au.style.transform=t,t=zu.getComputedStyle(Tu.appendChild(Au),null).getPropertyValue("transform"),Tu.removeChild(Au),Iu(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Cu=Eu(function(t){return null==t?Su:((Nu=Nu||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=Nu.transform.baseVal.consolidate())?Iu((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Su)},", ",")",")");var Ou,Le=function(e,t){var n=Ou((e=Zi(e)).h,(t=Zi(t)).h),r=Mc(e.s,t.s),i=Mc(e.l,t.l),o=Mc(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(t),e.opacity=o(t),e+""}};function Pu(e,t){var n=Mc((e=ro(e)).l,(t=ro(t)).l),r=Mc(e.a,t.a),i=Mc(e.b,t.b),o=Mc(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}var Ru,Fu=function(e,t){var n=Ru((e=co(e)).h,(t=co(t)).h),r=Mc(e.c,t.c),i=Mc(e.l,t.l),o=Mc(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=r(t),e.l=i(t),e.opacity=o(t),e+""}};function Yu(s){return function t(a){function e(e,t){var n=s((e=No(e)).h,(t=No(t)).h),r=Mc(e.s,t.s),i=Mc(e.l,t.l),o=Mc(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(Math.pow(t,a)),e.opacity=o(t),e+""}}return a=+a,e.gamma=t,e}(1)}Yu(Ru=Ou=xc);var Uu=Yu(Mc);function Bu(t){return+t}var Hu=[0,1];function Zu(t){return t}function Gu(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:(t=isNaN(n)?NaN:.5,function(){return t});var t}function qu(t){var e=t[0],n=t[t.length-1];return n<e&&(t=e,e=n,n=t),function(t){return Math.max(e,Math.min(n,t))}}function Qu(t,e,n){var r=t[0],t=t[1],i=e[0],e=e[1],i=t<r?(r=Gu(t,r),n(e,i)):(r=Gu(r,t),n(i,e));return function(t){return i(r(t))}}function Wu(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Gu(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(t){var e=Bs(n,t,1,r)-1;return o[e](i[e](t))}}function Vu(t,e){return f=u=Hu,d=ku,h=Zu,r.invert=function(t){return h(o((c=c||s(f,u.map(i),vu))(t)))},r.domain=function(t){return arguments.length?(u=gc.call(t,Bu),h===Zu||(h=qu(u)),n()):u.slice()},r.range=function(t){return arguments.length?(f=_c.call(t),n()):f.slice()},r.rangeRound=function(t){return f=_c.call(t),d=ju,n()},r.clamp=function(t){return arguments.length?(h=t?qu(u):Zu,r):h!==Zu},r.interpolate=function(t){return arguments.length?(d=t,n()):d},r.unknown=function(t){return arguments.length?(a=t,r):a},function(t,e){return i=t,o=e,n()}(t,e);function n(){return s=2<Math.min(u.length,f.length)?Wu:Qu,l=c=null,r}function r(t){return isNaN(t=+t)?a:(l=l||s(u.map(i),f,d))(i(h(t)))}var i,o,a,s,l,c,u,f,d,h}var Ke=me.f,Xu=xt.f,$u=Tt.f,Ju=tn.trim,Ue="Number",Ku=D[Ue],tf=Ku.prototype,ef=D.TypeError,nf=v("".slice),rf=v("".charCodeAt),of=function(t){var e,n,r,i,o,a,s,l=gt(t,"number");if(G(l))throw ef("Cannot convert a Symbol value to a number");if("string"==typeof l&&2<l.length)if(l=Ju(l),43===(e=rf(l,0))||45===e){if(88===(t=rf(l,2))||120===t)return NaN}else if(48===e){switch(rf(l,1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(o=(i=nf(l,2)).length,a=0;a<o;a++)if((s=rf(i,a))<48||r<s)return NaN;return parseInt(i,n)}return+l};if(Te(Ue,!Ku(" 0o1")||!Ku("0b1")||Ku("+0x1"))){for(var af,sf=function(t){var t=arguments.length<1?0:Ku(function(t){t=gt(t,"number");return"bigint"==typeof t?t:of(t)}(t)),e=this;return C(tf,e)&&_(function(){hl(e)})?Wr(Object(t),e,sf):t},lf=S?Ke(Ku):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),cf=0;lf.length>cf;cf++)ot(Ku,af=lf[cf])&&!ot(sf,af)&&$u(sf,af,Xu(Ku,af));(sf.prototype=tf).constructor=sf,re(D,Ue,sf)}$t({target:"Array",proto:!0},{fill:zc}),Ee("fill");var uf=Math.floor,ff=v("".charAt),df=v("".replace),hf=v("".slice),pf=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,gf=/\$([$&'`]|\d{1,2})/g,_f=l("replace"),mf=Math.max,yf=Math.min,vf=v([].concat),bf=v([].push),xf=v("".indexOf),wf=v("".slice),s="$0"==="a".replace(/./,"$0"),Mf=!!/./[_f]&&""===/./[_f]("a","$0");function kf(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,e=t.slice(0,n);return[1<e.length?e[0]+e.slice(2):e,+t.slice(n+1)]}function jf(t){return(t=kf(Math.abs(t)))?t[1]:NaN}Pe("replace",function(t,v,b){var x=Mf?"$":"$0";return[function(t,e){var n=u(this),r=null==t?void 0:X(t,_f);return r?I(r,t,n,e):I(v,Qe(n),t,e)},function(t,e){var n=kt(this),r=Qe(t);if("string"==typeof e&&-1===xf(e,x)&&-1===xf(e,"$<")){t=b(v,n,r,e);if(t.done)return t.value}var i=N(e);i||(e=Qe(e));var o,a=n.global;a&&(o=n.unicode,n.lastIndex=0);for(var s=[];;){if(null===(d=Er(n,r)))break;if(bf(s,d),!a)break;""===Qe(d[0])&&(n.lastIndex=Ir(r,ue(n.lastIndex),o))}for(var l,c="",u=0,f=0;f<s.length;f++){for(var d,h=Qe((d=s[f])[0]),p=mf(yf(ae(d.index),r.length),0),g=[],_=1;_<d.length;_++)bf(g,void 0===(l=d[_])?l:String(l));var m,y=d.groups,y=i?(m=vf([h],g,p,r),void 0!==y&&bf(m,y),Qe(Fa(e,void 0,m))):function(o,a,s,l,c,t){var u=s+o.length,f=l.length,e=gf;return void 0!==c&&(c=w(c),e=pf),df(t,e,function(t,e){var n;switch(ff(e,0)){case"$":return"$";case"&":return o;case"`":return hf(a,0,s);case"'":return hf(a,u);case"<":n=c[hf(e,1,-1)];break;default:var r=+e;if(0==r)return t;if(f<r){var i=uf(r/10);return 0===i?t:i<=f?void 0===l[i-1]?ff(e,1):l[i-1]+ff(e,1):t}n=l[r-1]}return void 0===n?"":n})}(h,r,p,g,y,e);u<=p&&(c+=wf(r,u,p)+y,u=p+h.length)}return c+wf(r,u)}]},!!_(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})||!s||Mf);var Af,Tf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zf(t){if(!(e=Tf.exec(t)))throw new Error("invalid format: "+t);var e;return new Nf({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Nf(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Df(t,e){e=kf(t,e);if(!e)return t+"";t=e[0],e=e[1];return e<0?"0."+new Array(-e).join("0")+t:t.length>e+1?t.slice(0,e+1)+"."+t.slice(e+1):t+new Array(e-t.length+2).join("0")}zf.prototype=Nf.prototype,Nf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Sf={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return 1e21<=Math.abs(t=Math.round(t))?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Df(100*t,e)},r:Df,s:function(t,e){if(!(r=kf(t,e)))return t+"";var n=r[0],r=(i=r[1])-(Af=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,i=n.length;return r===i?n:i<r?n+new Array(r-i+1).join("0"):0<r?n.slice(0,r)+"."+n.slice(r):"0."+new Array(1-r).join("0")+kf(t,Math.max(0,e+r-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function If(t){return t}var Ef=Array.prototype.map,Lf=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Cf(t){var e,s,l,w=void 0===t.grouping||void 0===t.thousands?If:(s=Ef.call(t.grouping,Number),l=t.thousands+"",function(t,e){for(var n=t.length,r=[],i=0,o=s[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=s[i=(i+1)%s.length];return r.reverse().join(l)}),r=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",M=void 0===t.decimal?".":t.decimal+"",k=void 0===t.numerals?If:(e=Ef.call(t.numerals,String),function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}),o=void 0===t.percent?"%":t.percent+"",j=void 0===t.minus?"-":t.minus+"",A=void 0===t.nan?"NaN":t.nan+"";function a(t){var c=(t=zf(t)).fill,u=t.align,f=t.sign,e=t.symbol,d=t.zero,h=t.width,p=t.comma,g=t.precision,_=t.trim,m=t.type;"n"===m?(p=!0,m="g"):Sf[m]||(void 0===g&&(g=12),_=!0,m="g"),(d||"0"===c&&"="===u)&&(d=!0,c="0",u="=");var y="$"===e?r:"#"===e&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",v="$"===e?i:/[%p]/.test(m)?o:"",b=Sf[m],x=/[defgprs%]/.test(m);function n(t){var e,n,r,i=y,o=v;if("c"===m)o=b(t)+o,t="";else{var a=(t=+t)<0||1/t<0;if(t=isNaN(t)?A:b(Math.abs(t),g),_&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;0<i&&(i=0)}return 0<i?t.slice(0,i)+t.slice(e+1):t}(t)),i=((a=a&&0==+t&&"+"!==f?!1:a)?"("===f?f:j:"-"===f||"("===f?"":f)+i,o=("s"===m?Lf[8+Af/3]:"")+o+(a&&"("===f?")":""),x)for(e=-1,n=t.length;++e<n;)if((r=t.charCodeAt(e))<48||57<r){o=(46===r?M+t.slice(e+1):t.slice(e))+o,t=t.slice(0,e);break}}p&&!d&&(t=w(t,1/0));var s=i.length+t.length+o.length,l=s<h?new Array(h-s+1).join(c):"";switch(p&&d&&(t=w(l+t,l.length?h-o.length:1/0),l=""),u){case"<":t=i+t+o+l;break;case"=":t=i+l+t+o;break;case"^":t=l.slice(0,s=l.length>>1)+i+t+o+l.slice(s);break;default:t=l+i+t+o}return k(t)}return g=void 0===g?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),n.toString=function(){return t+""},n}return{format:a,formatPrefix:function(t,e){var n=a(((t=zf(t)).type="f",t)),e=3*Math.max(-8,Math.min(8,Math.floor(jf(e)/3))),r=Math.pow(10,-e),i=Lf[8+e/3];return function(t){return n(r*t)+i}}}}function Of(t){return Math.max(0,-jf(Math.abs(t)))}function Pf(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(jf(e)/3)))-jf(Math.abs(t)))}function Rf(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,jf(e)-jf(t))+1}function Ff(s){var l=s.domain;return s.ticks=function(t){var e=l();return $s(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){var n=l();return function(t,e,n,r){var i,o=Ks(t,e,n);switch((r=zf(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Pf(o,a))||(r.precision=i),Hf(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Rf(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Of(o))||(r.precision=i-2*("%"===r.type))}return Bf(r)}(n[0],n[n.length-1],null==t?10:t,e)},s.nice=function(t){null==t&&(t=10);var e,n=l(),r=0,i=n.length-1,o=n[r],a=n[i];return a<o&&(e=o,o=a,a=e,e=r,r=i,i=e),0<(e=Js(o,a,t))?e=Js(o=Math.floor(o/e)*e,a=Math.ceil(a/e)*e,t):e<0&&(e=Js(o=Math.ceil(o*e)/e,a=Math.floor(a*e)/e,t)),0<e?(n[r]=Math.floor(o/e)*e,n[i]=Math.ceil(a/e)*e,l(n)):e<0&&(n[r]=Math.ceil(o*e)/e,n[i]=Math.floor(a*e)/e,l(n)),s},s}function Yf(){var e=Vu(Zu,Zu);return e.copy=function(){return t=e,Yf().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},jl.apply(e,arguments),Ff(e)}var Uf,Bf=(Uf=Cf({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})).format,Hf=Uf.formatPrefix,Zf=Math.log,Gf=Math.LOG10E;$t({target:"Math",stat:!0},{log10:function(t){return Zf(t)*Gf}});var qf=Math.log,Qf=Math.LN2;$t({target:"Math",stat:!0},{log2:function(t){return qf(t)/Qf}});g=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1};$t({target:"Math",stat:!0},{sign:g});var Wf=Math.log,Xe=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:Wf(1+t)};$t({target:"Math",stat:!0},{log1p:Xe});var P=Math.expm1,Vf=Math.exp,p=!P||22025.465794806718<P(10)||P(10)<22025.465794806718||-2e-17!=P(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:Vf(t)-1}:P;function Xf(){var e,i=[],n=[],r=[];function o(){var t=0,e=Math.max(1,n.length);for(r=new Array(e-1);++t<e;)r[t-1]=tl(i,t/e);return a}function a(t){return isNaN(t=+t)?e:n[Bs(r,t)]}return a.invertExtent=function(t){t=n.indexOf(t);return t<0?[NaN,NaN]:[0<t?r[t-1]:i[0],t<r.length?r[t]:i[i.length-1]]},a.domain=function(t){if(!arguments.length)return i.slice();i=[];for(var e,n=0,r=t.length;n<r;++n)null==(e=t[n])||isNaN(e=+e)||i.push(e);return i.sort(Fs),o()},a.range=function(t){return arguments.length?(n=_c.call(t),o()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return Xf().domain(i).range(n).unknown(e)},jl.apply(a,arguments)}function $f(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Jf(){var e,n,r,i,o,a,s,l,c,t=Ff((a=0,l=Zu,c=!(s=1),u.domain=function(t){return arguments.length?(e=i(a=+t[0]),n=i(s=+t[1]),r=e===n?0:1/(n-e),u):[a,s]},u.clamp=function(t){return arguments.length?(c=!!t,u):c},u.interpolator=function(t){return arguments.length?(l=t,u):l},u.unknown=function(t){return arguments.length?(o=t,u):o},function(t){return e=(i=t)(a),n=t(s),r=e===n?0:1/(n-e),u}(Zu)));function u(t){return isNaN(t=+t)?o:l(0===r?.5:(t=(i(t)-e)*r,c?Math.max(0,Math.min(1,t)):t))}return t.copy=function(){return $f(t,Jf())},Al.apply(t,arguments)}function Kf(){var e,n,r,i,o,a,s,l,c,u,f,d,t=Ff((l=0,c=.5,f=Zu,d=!(u=1),h.domain=function(t){return arguments.length?(e=a(l=+t[0]),n=a(c=+t[1]),r=a(u=+t[2]),i=e===n?0:.5/(n-e),o=n===r?0:.5/(r-n),h):[l,c,u]},h.clamp=function(t){return arguments.length?(d=!!t,h):d},h.interpolator=function(t){return arguments.length?(f=t,h):f},h.unknown=function(t){return arguments.length?(s=t,h):s},function(t){return e=(a=t)(l),n=t(c),r=t(u),i=e===n?0:.5/(n-e),o=n===r?0:.5/(r-n),h}(Zu)));function h(t){return isNaN(t=+t)?s:(t=.5+((t=+a(t))-n)*(t<n?i:o),f(d?Math.max(0,Math.min(1,t)):t))}return t.copy=function(){return $f(t,Kf())},Al.apply(t,arguments)}$t({target:"Math",stat:!0,forced:p!=Math.expm1},{expm1:p});var td=0,ed=window.devicePixelRatio||1,nd=Object.freeze({show_legend:!0,title_mode:"auto",title:"",title_weight:"bold",color_band_width:8,color_band_height:1,color_band_radius:3,binned_label_mode:"thresholds",binned_label_custom:"",legend_min:null,legend_max:null,text_color:null,text_size:1,text_weight:"normal"});function rd(t){for(var e in this._state=t,nd)void 0===this._state[e]&&(this._state[e]=nd[e]);return this._colorFunction=void 0,this._formatFunction=void 0,this._legend_domain=[],this._id="fl-legend-continuous-color-"+td,this._visible=!0,this._marker_value=null,this._auto_title="",this._container=Ps(document.createElement("div")).attr("class","fl-legend-container").attr("id",this._id).style("display","none"),this._container.append("p").classed("fl-legend-title",!0),this._container.append("div").classed("min label",!0),this._container.append("div").classed("color-range-container",!0),this._container.select(".color-range-container").append("canvas").classed("color-range",!0),this._container.select(".color-range-container").append("canvas").classed("color-range-labels",!0),this._container.append("div").classed("max label",!0),td++,this}function id(t){var e,n=-1/0,r=1/0;for(e in t)n=Math.max(n,t[e]),r=Math.min(r,t[e]);return function(t){return r<=t&&t<=n}}rd.prototype.appendTo=rl,rd.prototype.format=il,rd.prototype.getContainer=ol,rd.prototype.visible=al,rd.prototype.autoTitle=sl,rd.prototype._updateTitle=ll,rd.prototype.data=function(t,e){if(!t&&!e)return this._legend_domain.slice();var n,r,i=Array.isArray(t)?t.slice():[];return this._legend_domain=(n=i,r=this._state,i=(t=n.sort(Fs))[0],n=t[t.length-1],t=2<t.length?t[1]:null,null===r.legend_min&&null===r.legend_max||(null!==r.legend_min&&null!==r.legend_max?r.legend_min<r.legend_max&&(i=r.legend_min,n=r.legend_max):null!==r.legend_min?n<(i=r.legend_min)&&(n=i+2):(n=r.legend_max)<i&&(i=n-2)),r=[i],null!==(t=null!==t&&(t<i||n<t)?null:t)&&r.push(t),r.push(n),r.min=i,r.max=n,r.mid=t,r),this._colorFunction=e,this},rd.prototype.markerValue=function(t){return void 0===t?this._marker_value:(this._marker_value=t,this)},rd.prototype.update=function(){var t=this._state.show_legend&&this._visible&&0<this._legend_domain.length;return this._container.style("display",t?"":"none"),t&&(this._updateTitle(),this._updateLegend()),this},rd.prototype._updateLegend=function(){var t=this._legend_domain;this._scale_type="continuous",this._colorFunction.thresholds?this._scale_type="binned":2<t.length&&(this._scale_type="diverging");var e=this._state,n=xl(e.color_band_width),r=xl(e.color_band_height),i=Math.ceil(.95*xl(e.text_size)),o=n;this._container.style("display","inline-flex").style("align-items","center"),this._container.select(".color-range-container").style("display","inline-block");var a=this._container.select(".color-range").attr("width",n*ed).attr("height",r*ed).style("border-radius",e.color_band_radius+"px").style("width",n+"px").style("height",r+"px").style("display","block");this._container.select(".color-range-labels").attr("width",o*ed).attr("height",i*ed).style("width",o+"px").style("height",i+"px").style("display","continuous"==this._scale_type?"none":"block").style("margin-top",.25*e.text_size+"rem").node().getContext("2d").scale(ed,ed);var s=a.node().getContext("2d");s.scale(ed,ed);for(var l,c=0;c<n;c++){var u=this._colorFunction((l=c,t.min+l/n*(t.max-t.min)));s.fillStyle=u,s.strokeStyle=u,s.fillRect(c,0,1,r),s.strokeRect(c,0,1,r)}null!==this._marker_value&&(e=Yf().domain([t.min,t.max]).range([0,n])(this.markerValue()),a=r,s.save(),s.strokeStyle="#FFFFFF",s.lineWidth=3,s.beginPath(),s.moveTo(e,0),s.lineTo(e,a),s.stroke(),s.strokeStyle="#000000",s.lineWidth=1,s.beginPath(),s.moveTo(e,0),s.lineTo(e,a),s.stroke(),s.restore()),this._updateLegendLabels()},rd.prototype._updateLegendLabels=function(){var t=this._container.select(".color-range-labels"),c=this._formatFunction,e=this._legend_domain,n=this._state;this._container.select(".min.label").style("display","continuous"==this._scale_type?"inline-block":"none").style("vertical-align","middle").style("user-select","none").style("margin-right",.5*n.text_size+"rem").style("font-size",n.text_size+"rem").style("font-weight",n.text_weight).style("line-height","1.25rem").style("color",n.text_color).text(function(){return c?c(e.min):e.min}),this._container.select(".max.label").style("display","continuous"==this._scale_type?"inline-block":"none").style("vertical-align","middle").style("user-select","none").style("margin-left",.5*n.text_size+"rem").style("font-size",n.text_size+"rem").style("font-weight",n.text_weight).style("line-height","1.25rem").style("color",n.text_color).text(function(){return c?c(e.max):e.max});var r,i,u,o,a,f,d,h,p,s=[],g=0,_=0;"diverging"===this._scale_type?s=this._getDivergingLabels():"binned"===this._scale_type&&(s=this._getBinnedLabels()),s.length&&(r=(a=(i=window.template||void 0)?i.state.layout:void 0)?a.body_font.name:window.getComputedStyle(document.body).fontFamily,i=n.text_color||i&&a&&a.font_color||"#333333",(u=t.node().getContext("2d")).textAlign="center",u.textBaseline="top",u.fillStyle=i,u.font=n.text_weight+" "+xl(n.text_size)+"px "+r,f=[],d=xl(n.color_band_width),h=id([0,d]),p=Yf().domain([e.min,e.max]).range([0,d]),o=function(t){var e=p(t);if(h(e)){for(var n=c?c(t):t,r=u.measureText(n).width/2+1,i=e-r,o=e+r,a=0,s=f.length,l=0;l<s&&e>f[l].center;l++)a++;t=0===a,r=a===s;if(!(!t&&f[a-1].right>i||!r&&f[a].left<o))return t&&(g=Math.abs(Math.min(0,i))),r&&(_=Math.max(0,o-d)),f.splice(a,0,{left:i,center:e,right:o}),{text:n,position:e}}},a=s.map(function(t){return o(t)}),s=xl(n.color_band_width)+g+_,t.attr("width",s*ed).style("width",s+"px"),Ps(".color-range").style("margin-left",g+"px"),u.scale(ed,ed),u.textAlign="center",u.textBaseline="top",u.fillStyle=i,u.font=n.text_weight+" "+xl(n.text_size)+"px "+r,a.forEach(function(t){t&&u.fillText(t.text,t.position+g,0)}))},rd.prototype._getDivergingLabels=function(){var t=this._legend_domain,e=id(t),n=[];return e(t.min)&&n.push(t.min),e(t.mid)&&n.push(t.mid),e(t.max)&&n.push(t.max),n},rd.prototype._getBinnedLabels=function(){var t,e,n=this._state,r=this._legend_domain,i=id(r);return"thresholds"===n.binned_label_mode?(e=this._colorFunction.thresholds.slice().filter(i),r.min<e[0]&&e.unshift(r.min),r.max>e[e.length-r.length-1]&&e.unshift(r.max)):"centers"===n.binned_label_mode?(e=this._colorFunction.centers.slice().filter(i)).length?(i=(t=this._colorFunction.thresholds)[0],t=t[t.length-1],i>r.min&&e.unshift((r.min+i)/2),t<r.max&&e.unshift((t+r.max)/2)):e.push((r.min+r.max)/2):e=n.binned_label_custom.split(";").map(parseFloat),e},Object.freeze({show_legend:!0,title_mode:"auto",title:"",title_weight:"bold",clip_height:1,small_circle_size:.5,shape_fill:"#eeeeee",shape_stroke:"#555555",text_color:null,text_size:1,text_weight:"normal"});var od=Object.freeze({input_decimal_separator:".",output_separators:",."});var ad=Object.freeze({transform_labels:!1,transform:"multiply",multiply_divide_constant:1,exponentiate_constant:0,multiplier:1,prefix:"",n_dec:2,suffix:"",strip_zeros:!0,strip_separator:!0,negative_sign:"-$nk"});function sd(r,t){var e,i=0<=r.n_dec?Math.floor(r.n_dec):Math.ceil(r.n_dec),o=t(",."+(0<i?i:"0")+"f"),n=t.decimal,a=t.thousands,s=r.strip_zeros&&0<i?new RegExp("\\"+n+"?0+$"):null,l=r.strip_separator&&a,c=r.negative_sign,u=(e=1,(n=r).transform_labels&&(e="multiply"===n.transform?n.multiply_divide_constant:"divide"===n.transform?1/n.multiply_divide_constant:Math.pow(10,n.exponentiate_constant)),function(t){return t*e});return function(t){var e=0<=i?u(t):function(t,e){if(!(e=0<e?Math.floor(e):Math.ceil(e)))return Math.round(t);var n=Math.pow(10,Math.abs(e));return 0<e?Math.round(t*n)/n:Math.round(t/n)*n}(u(t),i),n=e<0,t=Math.abs(e),e=l&&a&&1e3<=t&&t<1e4,t=o(t);return s&&(t=t.replace(s,"")),e&&(t=t.replace(a,"")),n&&"none"!==c?"-$nk"===c?"-"+r.prefix+t+r.suffix:"$-nk"===c?r.prefix+"-"+t+r.suffix:"($nk)"===c?"("+r.prefix+t+r.suffix+")":r.prefix+"("+t+")"+r.suffix:r.prefix+t+r.suffix}}function ld(e){for(var t in ad)void 0===e[t]&&(e[t]=ad[t]);return function(t){return sd(e,t)}}function cd(e,n){return Object.keys(n).forEach(function(t){void 0===e[t]&&(e[t]=n[t])}),e}var ud=Object.freeze({axis_position:"bottom",y_axis_position:"",numeric_scale_type:"linear",nice:!0,zero_axis:"auto",linear_min:null,linear_max:null,log_min:null,log_max:null,datetime_min:"",datetime_max:"",line_visible:!0,line_and_tick_color:"#eeeeee",line_and_tick_width:.1,tick_side:"out",tick_mode:"auto",tick_number:5,tick_custom:"",tick_length:.5,tick_padding:.25,edge_padding:50,tick_label_position:"default",tick_label_size:.9,tick_label_color:"#aaaaaa",tick_label_angle:"45",tick_label_weight:"normal",tick_label_space_mode:"auto",tick_label_space:10,tick_label_max_lines:2,tick_label_line_height:1.1,gridlines_visible:!1,gridline_color:"#eeeeee",gridline_width:.1,gridline_style:"solid",gridline_category_dividers:!1,gridline_category_dividers_extend:!1,title_mode:"auto",title:"",title_color:"#aaaaaa",title_size:1.1,title_weight:"normal",title_padding:.6}),fd=Object.freeze({axis_visible:!0,numeric_scale_type:"linear",nice:!0,zero_axis:"auto",linear_min:null,linear_max:null,log_min:null,log_max:null,datetime_min:"",datetime_max:"",line_visible:!0,line_and_tick_color:"#eeeeee",line_and_tick_width:.1,tick_side:"out",tick_mode:"auto",tick_number:5,tick_custom:"",tick_length:.5,tick_padding:.25,edge_padding:50,tick_label_position:"default",tick_label_size:.9,tick_label_color:"#aaaaaa",tick_label_angle:"0",tick_label_weight:"normal",tick_label_space_mode:"auto",tick_label_space:10,tick_label_max_lines:2,tick_label_line_height:1.1,gridlines_visible:!0,gridline_color:"#eeeeee",gridline_width:.1,gridline_style:"solid",gridline_category_dividers:!1,gridline_category_dividers_extend:!1,title_mode:"auto",title:"",title_color:"#aaaaaa",title_size:1.1,title_weight:"normal",title_padding:.6}),dd=Object.freeze(cd({axis_visible:!1},fd)),hd=Object.freeze({background_color_enabled:!1,background_color:"#f5f5f5",background_image_enabled:!1,background_image_src:"",background_image_size:"stretch",background_image_position:"xMidYMid"});function pd(t){var e=function(t,e,n){t[e]||(t[e]={}),cd(t[e],n)}.bind(null,t=t||{});return e("x",ud),e("y",fd),e("y2",dd),e("background",hd),t}var gd="http://www.w3.org/1999/xhtml",_d={svg:"http://www.w3.org/2000/svg",xhtml:gd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function md(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),_d.hasOwnProperty(e)?{space:_d[e],local:t}:t}function yd(t){t=md(t);return(t.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===gd&&t.documentElement.namespaceURI===gd?t.createElement(n):t.createElementNS(e,n)}})(t)}function vd(t){var e=bd.Symbol||(bd.Symbol={});ot(e,t)||wd(e,t,{value:xd.f(t)})}var bd=D,xd={f:l},wd=Tt.f;vd("iterator");var Md=Ye.charAt,kd="String Iterator",jd=Jt.set,Ad=Jt.getterFor(kd);Pl(String,"String",function(t){jd(this,{type:kd,string:Qe(t),index:0})},function(){var t=Ad(this),e=t.string,n=t.index;return n>=e.length?{value:void 0,done:!0}:(n=Md(e,n),t.index+=n.length,{value:n,done:!1})});function Td(t,e){var n=Gd[t]=gr(Pd);return Ed(n,{type:Id,tag:t,description:e}),S||(n.description=e),n}function zd(e,t){kt(e);var n=z(t),t=Ne(n).concat(Kd(n));return Dd(t,function(t){S&&!I(Jd,n,t)||$d(e,t,n[t])}),e}var Nd,Dd=Mn.forEach,Sd=Bt("hidden"),Id="Symbol",In="prototype",Cn=l("toPrimitive"),Ed=Jt.set,Ld=Jt.getterFor(Id),Cd=Object[In],Od=D.Symbol,Pd=Od&&Od[In],Rd=D.TypeError,tt=D.QObject,Fd=r("JSON","stringify"),Yd=xt.f,Ud=Tt.f,Bd=Vn.f,Hd=h.f,Zd=v([].push),Gd=nt("symbols"),qd=nt("op-symbols"),Qd=nt("string-to-symbol-registry"),Wd=nt("symbol-to-string-registry"),ee=nt("wks"),Vd=!tt||!tt[In]||!tt[In].findChild,Xd=S&&_(function(){return 7!=gr(Ud({},"a",{get:function(){return Ud(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=Yd(Cd,e);r&&delete Cd[e],Ud(t,e,n),r&&t!==Cd&&Ud(Cd,e,r)}:Ud,$d=function(t,e,n){t===Cd&&$d(qd,e,n),kt(t);e=d(e);return kt(n),ot(Gd,e)?(n.enumerable?(ot(t,Sd)&&t[Sd][e]&&(t[Sd][e]=!1),n=gr(n,{enumerable:E(0,!1)})):(ot(t,Sd)||Ud(t,Sd,E(1,{})),t[Sd][e]=!0),Xd(t,e,n)):Ud(t,e,n)},Jd=function(t){var e=d(t),t=I(Hd,this,e);return!(this===Cd&&ot(Gd,e)&&!ot(qd,e))&&(!(t||!ot(this,e)||!ot(Gd,e)||ot(this,Sd)&&this[Sd][e])||t)},hu=function(t,e){var n=z(t),t=d(e);if(n!==Cd||!ot(Gd,t)||ot(qd,t)){e=Yd(n,t);return!e||!ot(Gd,t)||ot(n,Sd)&&n[Sd][t]||(e.enumerable=!0),e}},we=function(t){var t=Bd(z(t)),e=[];return Dd(t,function(t){ot(Gd,t)||ot(Ht,t)||Zd(e,t)}),e},Kd=function(t){var e=t===Cd,t=Bd(e?qd:z(t)),n=[];return Dd(t,function(t){!ot(Gd,t)||e&&!ot(Cd,t)||Zd(n,Gd[t])}),n};B||(Pd=(Od=function(){if(C(Pd,this))throw Rd("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Qe(arguments[0]):void 0,e=o(t),n=function(t){this===Cd&&I(n,qd,t),ot(this,Sd)&&ot(this[Sd],e)&&(this[Sd][e]=!1),Xd(this,e,E(1,t))};return S&&Vd&&Xd(Cd,e,{configurable:!0,set:n}),Td(e,t)})[In],re(Pd,"toString",function(){return Ld(this).tag}),re(Od,"withoutSetter",function(t){return Td(o(t),t)}),h.f=Jd,Tt.f=$d,xt.f=hu,me.f=Vn.f=we,ye.f=Kd,xd.f=function(t){return Td(l(t),t)},S&&(Ud(Pd,"description",{configurable:!0,get:function(){return Ld(this).description}}),re(Cd,"propertyIsEnumerable",Jd,{unsafe:!0}))),$t({global:!0,wrap:!0,forced:!B,sham:!B},{Symbol:Od}),Dd(Ne(ee),function(t){vd(t)}),$t({target:Id,stat:!0,forced:!B},{for:function(t){var e=Qe(t);if(ot(Qd,e))return Qd[e];t=Od(e);return Qd[e]=t,Wd[t]=e,t},keyFor:function(t){if(!G(t))throw Rd(t+" is not a symbol");if(ot(Wd,t))return Wd[t]},useSetter:function(){Vd=!0},useSimple:function(){Vd=!1}}),$t({target:"Object",stat:!0,forced:!B,sham:!S},{create:function(t,e){return void 0===e?gr(t):zd(gr(t),e)},defineProperty:$d,defineProperties:zd,getOwnPropertyDescriptor:hu}),$t({target:"Object",stat:!0,forced:!B},{getOwnPropertyNames:we,getOwnPropertySymbols:Kd}),$t({target:"Object",stat:!0,forced:_(function(){ye.f(1)})},{getOwnPropertySymbols:function(t){return ye.f(w(t))}}),Fd&&(Xp=!B||_(function(){var t=Od();return"[null]"!=Fd([t])||"{}"!=Fd({a:t})||"{}"!=Fd(Object(t))}),$t({target:"JSON",stat:!0,forced:Xp},{stringify:function(t,e,n){var r=Nn(arguments),i=e;if((L(e)||void 0!==t)&&!G(t))return dn(e)||(e=function(t,e){if(N(i)&&(e=I(i,this,t,e)),!G(e))return e}),r[1]=e,Fa(Fd,null,r)}})),Pd[Cn]||(Nd=Pd.valueOf,re(Pd,Cn,function(t){return I(Nd,this)})),Yl(Od,Id),Ht[Sd]=!0;var th,eh,nh,rh,ih,oh,ah,Ft=Tt.f,sh=D.Symbol,lh=sh&&sh.prototype;function ch(){}function uh(t){return null==t?ch:function(){return this.querySelector(t)}}!S||!N(sh)||"description"in lh&&void 0===sh().description||(th={},Xt(L0=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:Qe(arguments[0]),e=C(lh,this)?new sh(t):void 0===t?sh():sh(t);return""===t&&(th[e]=!0),e},sh),(L0.prototype=lh).constructor=L0,eh="Symbol(test)"==String(sh("test")),nh=v(lh.toString),rh=v(lh.valueOf),ih=/^Symbol\((.*)\)[^)]+$/,oh=v("".replace),ah=v("".slice),Ft(lh,"description",{configurable:!0,get:function(){var t=rh(this),e=nh(t);if(ot(th,t))return"";e=eh?ah(e,7,-1):oh(e,ih,"$1");return""===e?void 0:e}}),$t({global:!0,forced:!0},{Symbol:L0}));function fh(t){return void 0!==t&&(Dl.Array===t||gh[ph]===t)}function dh(t,e){if(e=arguments.length<2?mh(t):e,V(e))return kt(I(e,t));throw yh(Q(t)+" is not iterable")}var hh=function(t,e,n){var r,i;kt(t);try{if(!(r=X(t,"return"))){if("throw"===e)throw n;return n}r=I(r,t)}catch(t){i=!0,r=t}if("throw"===e)throw n;if(i)throw r;return kt(r),n},ph=l("iterator"),gh=Array.prototype,_h=l("iterator"),mh=function(t){if(null!=t)return X(t,_h)||X(t,"@@iterator")||Dl[Ge(t)]},yh=D.TypeError,vh=D.Array,bh=l("iterator"),xh=!1;try{var wh=0,Mh={next:function(){return{done:!!wh++}},return:function(){xh=!0}};Mh[bh]=function(){return this},Array.from(Mh,function(){throw 2})}catch(t){}function kh(t,e){if(!e&&!xh)return!1;var n=!1;try{var r={};r[bh]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}Yt=!kh(function(t){Array.from(t)});function jh(t){return"object"===Zs(t)&&"length"in t?t:Array.from(t)}function Ah(){return[]}function Th(t){return null==t?Ah:function(){return this.querySelectorAll(t)}}$t({target:"Array",stat:!0,forced:Yt},{from:function(t){var e=w(t),n=yn(this),t=arguments.length,r=1<t?arguments[1]:void 0,i=void 0!==r;i&&(r=rn(r,2<t?arguments[2]:void 0));var o,a,s,l,c,u,t=mh(e),f=0;if(!t||this==vh&&fh(t))for(o=Wt(e),a=n?new this(o):vh(o);f<o;f++)u=i?r(e[f],f):e[f],Na(a,f,u);else for(c=(l=dh(e,t)).next,a=n?new this:[];!(s=I(c,l)).done;f++)u=i?function(e,t,n,r){try{return r?t(kt(n)[0],n[1]):t(n)}catch(t){hh(e,"throw",t)}}(l,r,[s.value,f],!0):s.value,Na(a,f,u);return a.length=f,a}});var zh=Mn.find,qt="find",Nh=!0;function Dh(t){return function(){return this.matches(t)}}function Sh(e){return function(t){return t.matches(e)}}qt in[]&&Array(1)[qt](function(){Nh=!1}),$t({target:"Array",proto:!0,forced:Nh},{find:function(t){return zh(this,t,1<arguments.length?arguments[1]:void 0)}}),Ee(qt);var Ih=Array.prototype.find;function Eh(){return this.firstElementChild}var Lh=Array.prototype.filter;function Ch(){return this.children}function Oh(t,e){this.stopped=t,this.result=e}function Ph(t,e,n){function r(t){return o&&hh(o,"normal",t),new Oh(!0,t)}function i(t){return d?(kt(t),p?g(t[0],t[1],r):g(t[0],t[1])):p?g(t,r):g(t)}var o,a,s,l,c,u,f=n&&n.that,d=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),g=rn(e,f);if(h)o=t;else{if(!(h=mh(t)))throw Rh(Q(t)+" is not iterable");if(fh(h)){for(a=0,s=Wt(t);a<s;a++)if((l=i(t[a]))&&C(Fh,l))return l;return new Oh(!1)}o=dh(t,h)}for(c=o.next;!(u=I(c,o)).done;){try{l=i(u.value)}catch(t){hh(o,"throw",t)}if("object"==typeof l&&l&&C(Fh,l))return l}return new Oh(!1)}var Rh=D.TypeError,Fh=Oh.prototype,fe=function(t,e,n){function r(t){var n=v(h[t]);re(h,t,"add"==t?function(t){return n(this,0===t?0:t),this}:"delete"==t?function(t){return!(u&&!L(t))&&n(this,0===t?0:t)}:"get"==t?function(t){return u&&!L(t)?void 0:n(this,0===t?0:t)}:"has"==t?function(t){return!(u&&!L(t))&&n(this,0===t?0:t)}:function(t,e){return n(this,0===t?0:t,e),this})}var i,o,a,s,l,c=-1!==t.indexOf("Map"),u=-1!==t.indexOf("Weak"),f=c?"set":"add",d=D[t],h=d&&d.prototype,p=d,g={};return Te(t,!N(d)||!(u||h.forEach&&!_(function(){(new d).entries().next()})))?(p=n.getConstructor(e,t,c,f),Kn.enable()):Te(t,!0)&&(o=(i=new p)[f](u?{}:-0,1)!=i,a=_(function(){i.has(1)}),s=kh(function(t){new d(t)}),l=!u&&_(function(){for(var t=new d,e=5;e--;)t[f](e,e);return!t.has(-0)}),s||(((p=e(function(t,e){Ac(t,h);t=Wr(new d,t,p);return null!=e&&Ph(e,t[f],{that:t,AS_ENTRIES:c}),t})).prototype=h).constructor=p),(a||l)&&(r("delete"),r("has"),c&&r("get")),(l||o)&&r(f),u&&h.clear&&delete h.clear),g[t]=p,$t({global:!0,forced:p!=d},g),Yl(p,t),u||n.setStrong(p,t,c),p},Yh=Tt.f,Uh=Kn.fastKey,Bh=Jt.set,Hh=Jt.getterFor,Kt={getConstructor:function(t,n,r,i){function o(t,e,n){var r,i=l(t),o=a(t,e);return o?o.value=n:(i.last=o={index:r=Uh(e,!0),key:e,value:n,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),S?i.size++:t.size++,"F"!==r&&(i.index[r]=o)),t}function a(t,e){var n,r=l(t);if("F"!==(t=Uh(e)))return r.index[t];for(n=r.first;n;n=n.next)if(n.key==e)return n}var t=t(function(t,e){Ac(t,s),Bh(t,{type:n,index:gr(null),first:void 0,last:void 0,size:0}),S||(t.size=0),null!=e&&Ph(e,t[i],{that:t,AS_ENTRIES:r})}),s=t.prototype,l=Hh(n);return jc(s,{clear:function(){for(var t=l(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,S?t.size=0:this.size=0},delete:function(t){var e,n=l(this),r=a(this,t);return r&&(e=r.next,t=r.previous,delete n.index[r.index],r.removed=!0,t&&(t.next=e),e&&(e.previous=t),n.first==r&&(n.first=e),n.last==r&&(n.last=t),S?n.size--:this.size--),!!r},forEach:function(t){for(var e,n=l(this),r=rn(t,1<arguments.length?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!a(this,t)}}),jc(s,r?{get:function(t){t=a(this,t);return t&&t.value},set:function(t,e){return o(this,0===t?0:t,e)}}:{add:function(t){return o(this,t=0===t?0:t,t)}}),S&&Yh(s,"size",{get:function(){return l(this).size}}),t},setStrong:function(t,e,n){var r=e+" Iterator",i=Hh(e),o=Hh(r);Pl(t,e,function(t,e){Bh(this,{type:r,target:t,state:i(t),kind:e,last:void 0})},function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}},n?"entries":"values",!n,!0),Zr(e)}};function Zh(t){return new Array(t.length)}function Gh(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function qh(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Gh(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function Qh(t,e,n,r,i,o,a){for(var s,l,c=new Map,u=e.length,f=o.length,d=new Array(u),h=0;h<u;++h)(s=e[h])&&(d[h]=l=a.call(s,s.__data__,h,e)+"",c.has(l)?i[h]=s:c.set(l,s));for(h=0;h<f;++h)l=a.call(t,o[h],h,o)+"",(s=c.get(l))?((r[h]=s).__data__=o[h],c.delete(l)):n[h]=new Gh(t,o[h]);for(h=0;h<u;++h)(s=e[h])&&c.get(d[h])===s&&(i[h]=s)}function Wh(t){return t.__data__}function Vh(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function Xh(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function $h(t,e){return t.style.getPropertyValue(e)||Xh(t).getComputedStyle(t,null).getPropertyValue(e)}function Jh(t){return t.trim().split(/^|\s+/)}function Kh(t){return t.classList||new tp(t)}function tp(t){this._node=t,this._names=Jh(t.getAttribute("class")||"")}function ep(t,e){for(var n=Kh(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function np(t,e){for(var n=Kh(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function rp(){this.textContent=""}function ip(){this.innerHTML=""}function op(){this.nextSibling&&this.parentNode.appendChild(this)}function ap(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sp(){return null}function lp(){var t=this.parentNode;t&&t.removeChild(this)}function cp(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function up(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function fp(o){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.options);++r?t.length=r:delete this.__on}}}function dp(a,s,l){return function(){var t,e,n=this.__on,r=(e=s,function(t){e.call(this,t,this.__data__)});if(n)for(var i=0,o=n.length;i<o;++i)if((t=n[i]).type===a.type&&t.name===a.name)return this.removeEventListener(t.type,t.listener,t.options),this.addEventListener(t.type,t.listener=r,t.options=l),void(t.value=s);this.addEventListener(a.type,r,l),t={type:a.type,name:a.name,value:s,listener:r,options:l},n?n.push(t):this.__on=[t]}}function hp(t,e,n){var r=Xh(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}fe("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Kt),Gh.prototype={constructor:Gh,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},tp.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){t=this._names.indexOf(t);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}},vd("asyncIterator"),vd("toStringTag"),Yl(D.JSON,"JSON",!0),Yl(Math,"Math",!0);te=_(function(){Ll(1)});$t({target:"Object",stat:!0,forced:te,sham:!Fe},{getPrototypeOf:function(t){return Ll(w(t))}});var pp,gp,Ke=D.Promise,Ue=/(?:ipad|iphone|ipod).*applewebkit/i.test(O),_p="process"==M(D.process),Pe=D.setImmediate,s=D.clearImmediate,mp=D.process,yp=D.Dispatch,vp=D.Function,g=D.MessageChannel,bp=D.String,xp=0,wp={},Mp="onreadystatechange";try{pp=D.location}catch(t){}function kp(t){return function(){jp(t)}}var jp=function(t){var e;ot(wp,t)&&(e=wp[t],delete wp[t],e())},Xe=function(t){jp(t.data)},P=function(t){D.postMessage(bp(t),pp.protocol+"//"+pp.host)};Pe&&s||(Pe=function(t){var e=Nn(arguments,1);return wp[++xp]=function(){Fa(N(t)?t:vp(t),void 0,e)},gp(xp),xp},s=function(t){delete wp[t]},_p?gp=function(t){mp.nextTick(kp(t))}:yp&&yp.now?gp=function(t){yp.now(kp(t))}:g&&!Ue?(i_=(r_=new g).port2,r_.port1.onmessage=Xe,gp=rn(i_.postMessage,i_)):D.addEventListener&&N(D.postMessage)&&!D.importScripts&&pp&&"file:"!==pp.protocol&&!_(P)?(gp=P,D.addEventListener("message",Xe,!1)):gp=Mp in yt("script")?function(t){cr.appendChild(yt("script"))[Mp]=function(){cr.removeChild(this),jp(t)}}:function(t){setTimeout(kp(t),0)});var Ap,Tp,zp,Np,Dp,Sp,Ip,p={set:Pe,clear:s},Ye=/ipad|iphone|ipod/i.test(O)&&void 0!==D.Pebble,Bt=/web0s(?!.*chrome)/i.test(O),nt=xt.f,Ep=p.set,tt=D.MutationObserver||D.WebKitMutationObserver,In=D.document,Lp=D.process,ee=D.Promise,hu=nt(D,"queueMicrotask"),we=hu&&hu.value;we||(Ap=function(){var t,e;for(_p&&(t=Lp.domain)&&t.exit();Tp;){e=Tp.fn,Tp=Tp.next;try{e()}catch(t){throw Tp?Np():zp=void 0,t}}zp=void 0,t&&t.enter()},Np=Ue||_p||Bt||!tt||!In?!Ye&&ee&&ee.resolve?((X_=ee.resolve(void 0)).constructor=ee,Ip=rn(X_.then,X_),function(){Ip(Ap)}):_p?function(){Lp.nextTick(Ap)}:(Ep=rn(Ep,D),function(){Ep(Ap)}):(Dp=!0,Sp=In.createTextNode(""),new tt(Ap).observe(Sp,{characterData:!0}),function(){Sp.data=Dp=!Dp}));function Cp(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=V(n),this.reject=V(r)}var Op,Pp,Rp,Fp,Yp=we||function(t){t={fn:t,next:void 0};zp&&(zp.next=t),Tp||(Tp=t,Np()),zp=t},Up={f:function(t){return new Cp(t)}},Bp=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Hp="object"==typeof window,Zp=p.set,Gp=l("species"),qp="Promise",Qp=Jt.get,Wp=Jt.set,Vp=Jt.getterFor(qp),Xp=Ke&&Ke.prototype,$p=Ke,Jp=Xp,Kp=D.TypeError,t0=D.document,e0=D.process,n0=Up.f,r0=n0,i0=!!(t0&&t0.createEvent&&D.dispatchEvent),o0=N(D.PromiseRejectionEvent),a0="unhandledrejection",s0="rejectionhandled",l0=1,c0=2,u0=1,f0=2,d0=!1,Cn=Te(qp,function(){var t=Rt($p),e=t!==String($p);if(!e&&66===U)return!0;if(51<=U&&/native code/.test(t))return!1;var n=new $p(function(t){t(1)}),t=function(t){t(function(){},function(){})};return(n.constructor={})[Gp]=t,!(d0=n.then(function(){})instanceof t)||!e&&Hp&&!o0}),Ft=Cn||!kh(function(t){$p.all(t).catch(function(){})}),h0=function(t){var e;return!(!L(t)||!N(e=t.then))&&e},p0=function(d,h){var p;d.notified||(d.notified=!0,p=d.reactions,Yp(function(){for(var i,t=d.value,e=d.state==l0,n=0;p.length>n;){var r,o,a,s=p[n++],l=e?s.ok:s.fail,c=s.resolve,u=s.reject,f=s.domain;try{l?(e||(d.rejection===f0&&function(e){I(Zp,D,function(){var t=e.facade;if(_p)e0.emit("rejectionHandled",t);else g0(s0,t,e.value)})}(d),d.rejection=u0),!0===l?r=t:(f&&f.enter(),r=l(t),f&&(f.exit(),a=!0)),r===s.promise?u(Kp("Promise-chain cycle")):(o=h0(r))?I(o,r,c,u):c(r)):u(t)}catch(t){f&&!a&&f.exit(),u(t)}}d.reactions=[],d.notified=!1,h&&!d.rejection&&(i=d,I(Zp,D,function(){var t,e=i.facade,n=i.value,r=_0(i);if(r&&(t=Bp(function(){_p?e0.emit("unhandledRejection",n,e):g0(a0,e,n)}),i.rejection=_p||_0(i)?f0:u0,t.error))throw t.value}))}))},g0=function(t,e,n){var r,i;i0?((r=t0.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),D.dispatchEvent(r)):r={promise:e,reason:n},!o0&&(i=D["on"+t])?i(r):t===a0&&function(t,e){var n=D.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},_0=function(t){return t.rejection!==u0&&!t.parent},m0=function(e,n,r){return function(t){e(n,t,r)}},y0=function(t,e,n){t.done||(t.done=!0,(t=n?n:t).value=e,t.state=c0,p0(t,!0))},v0=function(n,t,e){if(!n.done){n.done=!0,e&&(n=e);try{if(n.facade===t)throw Kp("Promise can't be resolved itself");var r=h0(t);r?Yp(function(){var e={done:!1};try{I(r,t,m0(v0,e,n),m0(y0,e,n))}catch(t){y0(e,t,n)}}):(n.value=t,n.state=l0,p0(n,!1))}catch(t){y0({done:!1},t,n)}}};if(Cn&&(Jp=($p=function(t){Ac(this,Jp),V(t),I(Op,this);var e=Qp(this);try{t(m0(v0,e),m0(y0,e))}catch(t){y0(e,t)}}).prototype,(Op=function(t){Wp(this,{type:qp,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=jc(Jp,{then:function(t,e){var n=Vp(this),r=n.reactions,i=n0(Ba(this,$p));return i.ok=!N(t)||t,i.fail=N(e)&&e,i.domain=_p?e0.domain:void 0,n.parent=!0,r[r.length]=i,0!=n.state&&p0(n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),Pp=function(){var t=new Op,e=Qp(t);this.promise=t,this.resolve=m0(v0,e),this.reject=m0(y0,e)},Up.f=n0=function(t){return t===$p||t===Rp?new Pp:r0(t)},N(Ke)&&Xp!==Object.prototype)){Fp=Xp.then,d0||(re(Xp,"then",function(t,e){var n=this;return new $p(function(t,e){I(Fp,n,t,e)}).then(t,e)},{unsafe:!0}),re(Xp,"catch",Jp.catch,{unsafe:!0}));try{delete Xp.constructor}catch(t){}Qr&&Qr(Xp,Jp)}$t({global:!0,wrap:!0,forced:Cn},{Promise:$p}),Yl($p,qp,!1),Zr(qp),Rp=r(qp),$t({target:qp,stat:!0,forced:Cn},{reject:function(t){var e=n0(this);return I(e.reject,void 0,t),e.promise}}),$t({target:qp,stat:!0,forced:Cn},{resolve:function(t){return function(t,e){if(kt(t),L(e)&&e.constructor===t)return e;t=Up.f(t);return(0,t.resolve)(e),t.promise}(this,t)}}),$t({target:qp,stat:!0,forced:Ft},{all:function(t){var s=this,e=n0(s),l=e.resolve,c=e.reject,n=Bp(function(){var r=V(s.resolve),i=[],o=0,a=1;Ph(t,function(t){var e=o++,n=!1;a++,I(r,s,t).then(function(t){n||(n=!0,i[e]=t,--a||l(i))},c)}),--a||l(i)});return n.error&&c(n.value),e.promise},race:function(t){var n=this,r=n0(n),i=r.reject,e=Bp(function(){var e=V(n.resolve);Ph(t,function(t){I(e,n,t).then(r.resolve,i)})});return e.error&&i(e.value),r.promise}}),$t({global:!0},{globalThis:D}),n(function(e){e=function(a){var l,t=Object.prototype,c=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(t){o=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i,o,a,s,e=e&&e.prototype instanceof _?e:_,e=Object.create(e.prototype),r=new j(r||[]);return e._invoke=(i=t,o=n,a=r,s=f,function(t,e){if(s===h)throw new Error("Generator is already running");if(s===p){if("throw"===t)throw e;return T()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){var r=function t(e,n){var r=e.iterator[n.method];if(r===l){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=l,t(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=u(r,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;r=r.arg;if(!r)return n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g;{if(!r.done)return r;n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=l)}n.delegate=null;return g}(n,a);if(r){if(r===g)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=h;r=u(i,o,a);if("normal"===r.type){if(s=a.done?p:d,r.arg!==g)return{value:r.arg,done:a.done}}else"throw"===r.type&&(s=p,a.method="throw",a.arg=r.arg)}}),e}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=s;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",g={};function _(){}function m(){}function y(){}var v={};o(v,r,function(){return this});e=Object.getPrototypeOf,e=e&&e(e(A([])));e&&e!==t&&c.call(e,r)&&(v=e);var b=y.prototype=_.prototype=Object.create(v);function x(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function w(a,s){var e;this._invoke=function(n,r){function t(){return new s(function(t,e){!function e(t,n,r,i){t=u(a[t],a,n);if("throw"!==t.type){var o=t.arg;return(n=o.value)&&"object"===Zs(n)&&c.call(n,"__await")?s.resolve(n.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):s.resolve(n).then(function(t){o.value=t,r(o)},function(t){return e("throw",t,r,i)})}i(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function A(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,t=function t(){for(;++n<e.length;)if(c.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=l,t.done=!0,t};return t.next=t}}return{next:T}}function T(){return{value:l,done:!0}}return o(b,"constructor",m.prototype=y),o(y,"constructor",m),m.displayName=o(y,i,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,o(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t},a.awrap=function(t){return{__await:t}},x(w.prototype),o(w.prototype,n,function(){return this}),a.AsyncIterator=w,a.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var o=new w(s(t,e,n,r),i);return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},x(b),o(b,i,"Generator"),o(b,r,function(){return this}),o(b,"toString",function(){return"[object Generator]"}),a.keys=function(n){var t,r=[];for(t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=A,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=l)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=l),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r,i=n.completion;return"throw"===i.type&&(r=i.arg,k(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=l),g}},a}(e.exports);try{regeneratorRuntime=e}catch(t){"object"===("undefined"==typeof globalThis?"undefined":Zs(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}});var b0=regeneratorRuntime.mark(x0);function x0(){var e,n,r,i,o,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this._groups,n=0,r=e.length;case 1:if(!(n<r)){t.next=13;break}i=e[n],o=0,a=i.length;case 3:if(!(o<a)){t.next=10;break}if(s=i[o])return t.next=7,s;t.next=7;break;case 7:++o,t.next=3;break;case 10:++n,t.next=1;break;case 13:case"end":return t.stop()}},b0,this)}var w0=[null];function M0(t,e){this._groups=t,this._parents=e}function k0(){return new M0([[document.documentElement]],w0)}function j0(t){return"string"==typeof t?new M0([[document.querySelector(t)]],[document.documentElement]):new M0([[t]],w0)}function A0(t){return"svg"===t.tagName.toLowerCase()}M0.prototype=k0.prototype=ma({constructor:M0,select:function(t){"function"!=typeof t&&(t=uh(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new M0(r,this._parents)},selectAll:function(t){var e;t="function"==typeof t?(e=t,function(){var t=e.apply(this,arguments);return null==t?[]:jh(t)}):Th(t);for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var s,l=n[a],c=l.length,u=0;u<c;++u)(s=l[u])&&(i.push(t.call(s,s.__data__,u,l)),o.push(s));return new M0(i,o)},selectChild:function(t){return this.select(null==t?Eh:(e="function"==typeof t?t:Sh(t),function(){return Ih.call(this.children,e)}));var e},selectChildren:function(t){return this.selectAll(null==t?Ch:(e="function"==typeof t?t:Sh(t),function(){return Lh.call(this.children,e)}));var e},filter:function(t){"function"!=typeof t&&(t=Dh(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new M0(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Wh);var n,r=e?Qh:qh,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var f=i[u],d=o[u],h=d.length,p=jh(t.call(f,f&&f.__data__,u,i)),g=p.length,_=l[u]=new Array(g),m=s[u]=new Array(g);r(f,d,_,m,c[u]=new Array(h),p,e);for(var y,v,b=0,x=0;b<g;++b)if(y=_[b]){for(x<=b&&(x=b+1);!(v=m[x])&&++x<g;);y._next=v||null}}return(s=new M0(s,i))._enter=l,s._exit=c,s},enter:function(){return new M0(this._enter||this._groups.map(Zh),this._parents)},exit:function(){return new M0(this._exit||this._groups.map(Zh),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit(),r="function"==typeof t?t(r):r.append(t+"");return null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof M0))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,t=n.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var s,l=e[a],c=n[a],u=l.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=l[d]||c[d])&&(f[d]=s);for(;a<r;++a)o[a]=e[a];return new M0(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||Vh;for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,s=e[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new M0(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t,e=0,n=za(this);try{for(n.s();!(t=n.n()).done;){t.value;++e}}catch(t){n.e(t)}finally{n.f()}return e},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=md(t);if(arguments.length<2){t=this.node();return n.local?t.getAttributeNS(n.space,n.local):t.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):$h(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=Jh(t+"");if(arguments.length<2){for(var r=Kh(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?ep:np)(this,t)}}:e?function(t){return function(){ep(this,t)}}:function(t){return function(){np(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?rp:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ip:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(op)},lower:function(){return this.each(ap)},append:function(t){var e="function"==typeof t?t:yd(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:yd(t),r=null==e?sp:"function"==typeof e?e:uh(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(lp)},clone:function(t){return this.select(t?up:cp)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=o.length;if(!(arguments.length<2)){for(s=e?dp:fp,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return hp(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return hp(this,t,e)}})(t,e))}},Symbol.iterator,x0);var T0=0;var z0=Object.freeze({left:!0,top:!0,right:!0,bottom:!0}),N0=Object.freeze({left:!1,top:!1,right:!1,bottom:!1});var D0=l("isConcatSpreadable"),S0=9007199254740991,I0="Maximum allowed index exceeded",E0=D.TypeError,L0=51<=U||!_(function(){var t=[];return t[D0]=!1,t.concat()[0]!==t}),Mh=F("concat");$t({target:"Array",proto:!0,forced:!L0||!Mh},{concat:function(t){for(var e,n,r,i=w(this),o=sn(i,0),a=0,s=-1,l=arguments.length;s<l;s++)if(function(t){if(!L(t))return!1;var e=t[D0];return void 0!==e?!!e:dn(t)}(r=-1===s?i:arguments[s])){if(n=Wt(r),S0<a+n)throw E0(I0);for(e=0;e<n;e++,a++)e in r&&Na(o,a,r[e])}else{if(S0<=a)throw E0(I0);Na(o,a++,r)}return o.length=a,o}});var C0={value:function(){}};function O0(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new P0(r)}function P0(t){this._=t}function R0(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=C0,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}P0.prototype=O0.prototype={constructor:P0,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=R0(i[n],t.name,e);else if(null==e)for(n in i)i[n]=R0(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=function(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}(i[n],t.name)))return n},copy:function(){var t,e={},n=this._;for(t in n)e[t]=n[t].slice();return new P0(e)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var F0,Y0,U0=0,B0=0,H0=0,Z0=1e3,G0=0,q0=0,Q0=0,W0="object"===("undefined"==typeof performance?"undefined":Zs(performance))&&performance.now?performance:Date,V0="object"===("undefined"==typeof window?"undefined":Zs(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function X0(){return q0||(V0($0),q0=W0.now()+Q0)}function $0(){q0=0}function J0(){this._call=this._time=this._next=null}function K0(t,e,n){var r=new J0;return r.restart(t,e,n),r}function tg(){q0=(G0=W0.now())+Q0,U0=B0=0;try{!function(){X0(),++U0;for(var t,e=F0;e;)0<=(t=q0-e._time)&&e._call.call(null,t),e=e._next;--U0}()}finally{U0=0,function(){var t,e,n=F0,r=1/0;for(;n;)n=n._call?(r>n._time&&(r=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:F0=e);Y0=t,ng(r)}(),q0=0}}function eg(){var t=W0.now(),e=t-G0;Z0<e&&(Q0-=e,G0=t)}function ng(t){U0||(B0=B0&&clearTimeout(B0),24<t-q0?(t<1/0&&(B0=setTimeout(tg,t-W0.now()-Q0)),H0=H0&&clearInterval(H0)):(H0||(G0=W0.now(),H0=setInterval(eg,Z0)),U0=1,V0(tg)))}function rg(e,n,t){var r=new J0;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r}J0.prototype=K0.prototype={constructor:J0,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?X0():+n)+(null==e?0:+e),this._next||Y0===this||(Y0?Y0._next=this:F0=this,Y0=this),this._call=t,this._time=n,ng()},stop:function(){this._call&&(this._call=null,this._time=1/0,ng())}};var ig=O0("start","end","cancel","interrupt"),og=[],ag=0,sg=1,lg=2,cg=3,ug=4,fg=5,dg=6;function hg(t,e,n,r,i,o){var a,s,l,c,u,f=t.__transition;if(f){if(n in f)return}else t.__transition={};function d(t){var e,n,r,i;if(l.state!==sg)return p();for(e in u)if((i=u[e]).name===l.name){if(i.state===cg)return rg(d);i.state===ug?(i.state=dg,i.timer.stop(),i.on.call("interrupt",a,a.__data__,i.index,i.group),delete u[e]):+e<s&&(i.state=dg,i.timer.stop(),i.on.call("cancel",a,a.__data__,i.index,i.group),delete u[e])}if(rg(function(){l.state===cg&&(l.state=ug,l.timer.restart(h,l.delay,l.time),h(t))}),l.state=lg,l.on.call("start",a,a.__data__,l.index,l.group),l.state===lg){for(l.state=cg,c=new Array(r=l.tween.length),e=0,n=-1;e<r;++e)(i=l.tween[e].value.call(a,a.__data__,l.index,l.group))&&(c[++n]=i);c.length=n+1}}function h(t){for(var e=t<l.duration?l.ease.call(null,t/l.duration):(l.timer.restart(p),l.state=fg,1),n=-1,r=c.length;++n<r;)c[n].call(a,e);l.state===fg&&(l.on.call("end",a,a.__data__,l.index,l.group),p())}function p(){for(var t in l.state=dg,l.timer.stop(),delete u[s],u)return;delete a.__transition}a=t,s=n,l={name:e,index:r,group:i,on:ig,tween:og,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ag},((u=a.__transition)[s]=l).timer=K0(function(t){l.state=sg,l.timer.restart(d,l.delay,l.time),l.delay<=t&&d(t-l.delay)},0,l.time)}function pg(t,e){e=_g(t,e);if(e.state>ag)throw new Error("too late; already scheduled");return e}function gg(t,e){e=_g(t,e);if(e.state>cg)throw new Error("too late; already running");return e}function _g(t,e){t=t.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function mg(t,e,n){var r=t._id;return t.each(function(){var t=gg(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return _g(t,r).value[e]}}function yg(t,e){var n;return("number"==typeof e?vu:e instanceof Ei?kc:(n=Ei(e))?(e=n,kc):Mu)(t,e)}function vg(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return o=t!==a?(a=t)&&(e=r,n=t,function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}):o}return t._value=i,t}function bg(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return o=t!==a?(a=t)&&(e=r,n=t,function(t){this.setAttribute(e,n.call(this,t))}):o}return t._value=i,t}var xg=k0.prototype.constructor;function wg(t){return function(){this.style.removeProperty(t)}}function Mg(i,o,a){var s,l;function t(){var e,n,r,t=o.apply(this,arguments);return s=t!==l?(l=t)&&(e=i,n=t,r=a,function(t){this.style.setProperty(e,n.call(this,t),r)}):s}return t._value=o,t}function kg(n){var r,i;function t(){var e,t=n.apply(this,arguments);return r=t!==i?(i=t)&&(e=t,function(t){this.textContent=e.call(this,t)}):r}return t._value=n,t}var jg=0;function Ag(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}Yt=k0.prototype;function Tg(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Ag.prototype=ma({constructor:Ag,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=uh(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),f[d]=l,hg(f[d],e,n,d,f,_g(s,n)));return new Ag(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Th(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,f=0;f<u;++f)if(l=c[f]){for(var d,h=t.call(l,l.__data__,f,c),p=_g(l,n),g=0,_=h.length;g<_;++g)(d=h[g])&&hg(d,e,n,g,h,p);o.push(h),a.push(l)}return new Ag(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=Dh(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Ag(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,t=n.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var s,l=e[a],c=n[a],u=l.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=l[d]||c[d])&&(f[d]=s);for(;a<r;++a)o[a]=e[a];return new Ag(o,this._parents,this._name,this._id)},selection:function(){return new xg(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=++jg,r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&hg(a,t,n,c,s,{time:(a=_g(a,e)).time+a.delay+a.duration,delay:0,duration:a.duration,ease:a.ease});return new Ag(r,this._parents,t,n)},call:Yt.call,nodes:Yt.nodes,node:Yt.node,size:Yt.size,empty:Yt.empty,each:Yt.each,on:function(t,e){var n,r,i,o,a,s,l=this._id;return arguments.length<2?_g(this.node(),l).on.on(t):this.each((n=l,i=e,s=((r=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return!(t=0<=e?t.slice(0,e):t)||"start"===t})?pg:gg,function(){var t=s(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}))},attr:function(t,e){var n=md(t),r="transform"===n?Cu:yg;return this.attrTween(t,"function"==typeof e?(n.local?function(r,i,o){var a,s,l;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttributeNS(r.space,r.local))===(e=n+"")?null:t===a&&e===s?l:(s=e,l=i(a=t,n));this.removeAttributeNS(r.space,r.local)}}:function(r,i,o){var a,s,l;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttribute(r))===(e=n+"")?null:t===a&&e===s?l:(s=e,l=i(a=t,n));this.removeAttribute(r)}})(n,r,mg(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===i?o:o=n(i=t,r)}}:function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttribute(e);return t===a?null:t===i?o:o=n(i=t,r)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return t=md(t),this.tween(n,(t.local?vg:bg)(t,e))},style:function(t,e,n){var r,i,o,a,s,l,c,u,f,d,h,p,g,_,m,y,v,b,x,w,M,k,j,A,T,z="transform"==(t+="")?Lu:yg;return null==e?this.styleTween(t,(M=t,k=z,function(){var t=$h(this,M),e=(this.style.removeProperty(M),$h(this,M));return t===e?null:t===j&&e===A?T:T=k(j=t,A=e)})).on("end.style."+t,wg(t)):"function"==typeof e?this.styleTween(t,(y=z,v=mg(this,"style."+(m=t),e),function(){var t=$h(this,m),e=v(this),n=e+"";return null==e&&(this.style.removeProperty(m),n=e=$h(this,m)),t===n?null:t===b&&n===x?w:(x=n,w=y(b=t,e))})).each((c=this._id,_="end."+(g="style."+(u=t)),function(){var t=gg(this,c),e=t.on,n=null==t.value[g]?p=p||wg(u):void 0;e===f&&h===n||(d=(f=e).copy()).on(_,h=n),t.on=d})):this.styleTween(t,(r=t,i=z,l=(o=e)+"",function(){var t=$h(this,r);return t===l?null:t===a?s:s=i(a=t,o)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Mg(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=mg(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,kg(t))},remove:function(){return this.on("end.remove",(n=this._id,function(){var t,e=this.parentNode;for(t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=_g(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(i,o){var a,s;return function(){var t=gg(this,i),e=t.tween;if(e!==a)for(var n=0,r=(s=a=e).length;n<r;++n)if(s[n].name===o){(s=s.slice()).splice(n,1);break}t.tween=s}}:function(o,a,s){var l,c;if("function"!=typeof s)throw new Error;return function(){var t=gg(this,o),e=t.tween;if(e!==l){c=(l=e).slice();for(var n={name:a,value:s},r=0,i=c.length;r<i;++r)if(c[r].name===a){c[r]=n;break}r===i&&c.push(n)}t.tween=c}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){pg(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){pg(this,t).delay=e}})(e,t)):_g(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){gg(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){gg(this,t).duration=e}})(e,t)):_g(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){gg(this,t).ease=e}}(e,t)):_g(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each((e=this._id,n=t,function(){var t=n.apply(this,arguments);if("function"!=typeof t)throw new Error;gg(this,e).ease=t}));var e,n},end:function(){var i,o,a=this,s=a._id,l=a.size();return new Promise(function(t,e){var n={value:e},r={value:function(){0==--l&&t()}};a.each(function(){var t=gg(this,s),e=t.on;e!==i&&((o=(i=e).copy())._.cancel.push(n),o._.interrupt.push(n),o._.end.push(r)),t.on=o}),0===l&&t()})}},Symbol.iterator,Yt[Symbol.iterator]);var zg={time:null,delay:0,duration:250,ease:Tg};function Ng(t){return""+t}function Dg(e){var n=Ng;return function(t){return void 0===t?n||Ng:(n=t,e)}}k0.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>lg&&n.state<fg,n.state=dg,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)})},k0.prototype.transition=function(t){var e,n;t=t instanceof Ag?(e=t._id,t._name):(e=++jg,(n=zg).time=X0(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&hg(a,t,e,c,s,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return n}(a,e));return new Ag(r,this._parents,t,e)};var Sg=new Date,Ig=new Date;function Eg(o,a,n,r){function s(t){return o(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return o(t=new Date(+t)),t},s.ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return a(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(t,e,n){var r,i=[];if(t=s.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return i;for(;i.push(r=new Date(+t)),a(t,n),o(t),r<t&&t<e;);return i},s.filter=function(n){return Eg(function(t){if(t<=t)for(;o(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;a(t,-1),!n(t););else for(;0<=--e;)for(;a(t,1),!n(t););})},n&&(s.count=function(t,e){return Sg.setTime(+t),Ig.setTime(+e),o(Sg),o(Ig),Math.floor(n(Sg,Ig))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?s.filter(r?function(t){return r(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var Lg=Eg(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Lg.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?Eg(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):Lg:null};var Cg=Lg,Og=Eg(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Pg=Eg(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),Rg=Eg(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),Fg=Eg(function(t){return t.setHours(0,0,0,0)},function(t,e){return t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1});function Yg(e){return Eg(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var Ug=Yg(0),Bg=Yg(1);Yg(2),Yg(3);var Hg=Yg(4);Yg(5),Yg(6);var Zg=Eg(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),qt=Eg(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});qt.every=function(n){return isFinite(n=Math.floor(n))&&0<n?Eg(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var Gg=qt,qg=Eg(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});function Qg(e){return Eg(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var Wg=Qg(0),Vg=Qg(1);Qg(2),Qg(3);var Xg=Qg(4);Qg(5),Qg(6);te=Eg(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});te.every=function(n){return isFinite(n=Math.floor(n))&&0<n?Eg(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};function $g(t){return!!L(t)&&(t=Ge(t),ot(f_,t)||ot(d_,t))}var Jg,Kg,t_,e_=te,Fe=Tt.f,g=D.Int8Array,n_=g&&g.prototype,r_=D.Uint8ClampedArray,i_=r_&&r_.prototype,o_=g&&Ll(g),a_=n_&&Ll(n_),P=Object.prototype,s_=D.TypeError,Xe=l("toStringTag"),l_=o("TYPED_ARRAY_TAG"),c_=o("TYPED_ARRAY_CONSTRUCTOR"),u_=Y&&!!Qr&&"Opera"!==Ge(D.opera),Pe=!1,f_={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},d_={BigInt64Array:8,BigUint64Array:8};for(Jg in f_)(t_=(Kg=D[Jg])&&Kg.prototype)?zt(t_,c_,Kg):u_=!1;for(Jg in d_)(t_=(Kg=D[Jg])&&Kg.prototype)&&zt(t_,c_,Kg);if((!u_||!N(o_)||o_===Function.prototype)&&(o_=function(){throw s_("Incorrect invocation")},u_))for(Jg in f_)D[Jg]&&Qr(D[Jg],o_);if((!u_||!a_||a_===P)&&(a_=o_.prototype,u_))for(Jg in f_)D[Jg]&&Qr(D[Jg].prototype,a_);if(u_&&Ll(i_)!==a_&&Qr(i_,a_),S&&!ot(a_,Xe))for(Jg in Pe=!0,Fe(a_,Xe,{get:function(){return L(this)?this[l_]:void 0}}),f_)D[Jg]&&zt(D[Jg],l_,Jg);function h_(t){var e,n,r,i,o,a,s=Oa(this),l=w(t),c=arguments.length,u=1<c?arguments[1]:void 0,f=void 0!==u,t=mh(l);if(t&&!fh(t))for(a=(o=dh(l,t)).next,l=[];!(i=I(a,o)).done;)l.push(i.value);for(f&&2<c&&(u=rn(u,arguments[2])),n=Wt(l),r=new(v_(s))(n),e=0;e<n;e++)r[e]=f?u(l[e],e):l[e];return r}function p_(t,e){if((t=function(t){t=ae(t);if(t<0)throw w_("The argument can't be less than 0");return t}(t))%e)throw M_("Wrong offset");return t}var g_={NATIVE_ARRAY_BUFFER_VIEWS:u_,TYPED_ARRAY_CONSTRUCTOR:c_,TYPED_ARRAY_TAG:Pe&&l_,aTypedArray:function(t){if($g(t))return t;throw s_("Target is not a typed array")},aTypedArrayConstructor:function(t){if(N(t)&&(!Qr||C(o_,t)))return t;throw s_(Q(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(S){if(n)for(var r in f_){r=D[r];if(r&&ot(r.prototype,t))try{delete r.prototype[t]}catch(t){}}a_[t]&&!n||re(a_,t,!n&&u_&&n_[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(S){if(Qr){if(n)for(r in f_)if((i=D[r])&&ot(i,t))try{delete i[t]}catch(t){}if(o_[t]&&!n)return;try{return re(o_,t,!n&&u_&&o_[t]||e)}catch(t){}}for(r in f_)!(i=D[r])||i[t]&&!n||re(i,t,e)}},isView:function(t){if(!L(t))return!1;t=Ge(t);return"DataView"===t||ot(f_,t)||ot(d_,t)},isTypedArray:$g,TypedArray:o_,TypedArrayPrototype:a_},__=D.ArrayBuffer,m_=D.Int8Array,y_=!g_.NATIVE_ARRAY_BUFFER_VIEWS||!_(function(){m_(1)})||!_(function(){new m_(-1)})||!kh(function(t){new m_,new m_(null),new m_(1.5),new m_(t)},!0)||_(function(){return 1!==new m_(new __(2),1,void 0).length}),v_=g_.aTypedArrayConstructor,b_=Math.floor,x_=Number.isInteger||function(t){return!L(t)&&isFinite(t)&&b_(t)===t},w_=D.RangeError,M_=D.RangeError,s=n(function(t){function h(t,e){c(t);for(var n=0,r=e.length,i=new t(r);n<r;)i[n]=e[n++];return i}function e(t,e){m(t,e,{get:function(){return g(this)[e]}})}function p(t){var e;return C(a,t)||"ArrayBuffer"==(e=Ge(t))||"SharedArrayBuffer"==e}function r(t,e){return T(t)&&!G(e)&&e in t&&x_(+e)&&0<=e}function n(t,e){return e=d(e),r(t,e)?E(2,t[e]):o(t,e)}function i(t,e,n){return e=d(e),!(r(t,e)&&L(n)&&ot(n,"value"))||ot(n,"get")||ot(n,"set")||n.configurable||ot(n,"writable")&&!n.writable||ot(n,"enumerable")&&!n.enumerable?m(t,e,n):(t[e]=n.value,t)}var s=me.f,l=Mn.forEach,g=Jt.get,_=Jt.set,m=Tt.f,o=xt.f,y=Math.round,v=D.RangeError,b=gu.ArrayBuffer,a=b.prototype,x=gu.DataView,w=g_.NATIVE_ARRAY_BUFFER_VIEWS,M=g_.TYPED_ARRAY_CONSTRUCTOR,k=g_.TYPED_ARRAY_TAG,j=g_.TypedArray,A=g_.TypedArrayPrototype,c=g_.aTypedArrayConstructor,T=g_.isTypedArray,z="BYTES_PER_ELEMENT",N="Wrong length";S?(w||(xt.f=n,Tt.f=i,e(A,"buffer"),e(A,"byteOffset"),e(A,"byteLength"),e(A,"length")),$t({target:"Object",stat:!0,forced:!w},{getOwnPropertyDescriptor:n,defineProperty:i}),t.exports=function(t,e,r){function c(t,e){m(t,e,{get:function(){return function(t,e){t=g(t);return t.view[i](e*u+t.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){t=g(t);r&&(n=(n=y(n))<0?0:255<n?255:255&n),t.view[o](e*u+t.byteOffset,n,!0)}(this,e,t)},enumerable:!0})}var u=t.match(/\d+$/)[0]/8,n=t+(r?"Clamped":"")+"Array",i="get"+t,o="set"+t,a=D[n],f=a,d=f&&f.prototype,t={};w?y_&&(f=e(function(t,e,n,r){return Ac(t,d),Wr(L(e)?p(e)?void 0!==r?new a(e,p_(n,u),r):void 0!==n?new a(e,p_(n,u)):new a(e):T(e)?h(f,e):I(h_,f,e):new a(Tc(e)),t,f)}),Qr&&Qr(f,j),l(s(a),function(t){t in f||zt(f,t,a[t])}),f.prototype=d):(f=e(function(t,e,n,r){Ac(t,d);var i,o,a=0,s=0;if(L(e)){if(!p(e))return T(e)?h(f,e):I(h_,f,e);var l=e,s=p_(n,u),n=e.byteLength;if(void 0===r){if(n%u)throw v(N);if((i=n-s)<0)throw v(N)}else if(n<(i=ue(r)*u)+s)throw v(N);o=i/u}else o=Tc(e),l=new b(i=o*u);for(_(t,{buffer:l,byteOffset:s,byteLength:i,length:o,view:new x(l)});a<o;)c(t,a++)}),Qr&&Qr(f,j),d=f.prototype=gr(A)),d.constructor!==f&&zt(d,"constructor",f),zt(d,M,f),k&&zt(d,k,n),t[n]=f,$t({global:!0,forced:f!=a,sham:!w},t),z in f||zt(f,z,u),z in d||zt(d,z,u),Zr(n)}):t.exports=function(){}});s("Float64",function(r){return function(t,e,n){return r(this,t,e,n)}});var k_=Math.min,j_=v([].copyWithin||function(t,e){var n=w(this),r=Wt(n),i=Qt(t,r),o=Qt(e,r),e=2<arguments.length?arguments[2]:void 0,a=k_((void 0===e?r:Qt(e,r))-o,r-i),s=1;for(o<i&&i<o+a&&(s=-1,o+=a-1,i+=a-1);0<a--;)o in n?n[i]=n[o]:delete n[i],i+=s,o+=s;return n}),A_=g_.aTypedArray;(0,g_.exportTypedArrayMethod)("copyWithin",function(t,e){return j_(A_(this),t,e,2<arguments.length?arguments[2]:void 0)});var T_=Mn.every,z_=g_.aTypedArray;(0,g_.exportTypedArrayMethod)("every",function(t){return T_(z_(this),t,1<arguments.length?arguments[1]:void 0)});var N_=g_.aTypedArray;(0,g_.exportTypedArrayMethod)("fill",function(t){var e=arguments.length;return I(zc,N_(this),t,1<e?arguments[1]:void 0,2<e?arguments[2]:void 0)});function D_(t){return I_(Ba(t,t[S_]))}var S_=g_.TYPED_ARRAY_CONSTRUCTOR,I_=g_.aTypedArrayConstructor,E_=Mn.filter,L_=g_.aTypedArray;(0,g_.exportTypedArrayMethod)("filter",function(t){t=E_(L_(this),t,1<arguments.length?arguments[1]:void 0);return t=t,function(t,e){for(var n=0,r=e.length,i=new t(r);n<r;)i[n]=e[n++];return i}(D_(this),t)});var C_=Mn.find,O_=g_.aTypedArray;(0,g_.exportTypedArrayMethod)("find",function(t){return C_(O_(this),t,1<arguments.length?arguments[1]:void 0)});var P_=Mn.findIndex,R_=g_.aTypedArray;(0,g_.exportTypedArrayMethod)("findIndex",function(t){return P_(R_(this),t,1<arguments.length?arguments[1]:void 0)});var F_=Mn.forEach,Y_=g_.aTypedArray;(0,g_.exportTypedArrayMethod)("forEach",function(t){F_(Y_(this),t,1<arguments.length?arguments[1]:void 0)});var U_=de.includes,B_=g_.aTypedArray;(0,g_.exportTypedArrayMethod)("includes",function(t){return U_(B_(this),t,1<arguments.length?arguments[1]:void 0)});var H_=de.indexOf,Z_=g_.aTypedArray;(0,g_.exportTypedArrayMethod)("indexOf",function(t){return H_(Z_(this),t,1<arguments.length?arguments[1]:void 0)});var O=ne.PROPER,nt=l("iterator"),hu=D.Uint8Array,G_=v(Kl.values),q_=v(Kl.keys),Q_=v(Kl.entries),W_=g_.aTypedArray,Ue=g_.exportTypedArrayMethod,Bt=hu&&hu.prototype[nt],Ye=!!Bt&&"values"===Bt.name,ee=function(){return G_(W_(this))};Ue("entries",function(){return Q_(W_(this))}),Ue("keys",function(){return q_(W_(this))}),Ue("values",ee,O&&!Ye),Ue(nt,ee,O&&!Ye);var V_=g_.aTypedArray,X_=g_.exportTypedArrayMethod,$_=v([].join);X_("join",function(t){return $_(V_(this),t)});var J_=Math.min,K_=[].lastIndexOf,tm=!!K_&&1/[1].lastIndexOf(1,-0)<0,In=R("lastIndexOf"),em=tm||!In?function(t){if(tm)return Fa(K_,this,arguments)||0;var e=z(this),n=Wt(e),r=n-1;for((r=1<arguments.length?J_(r,ae(arguments[1])):r)<0&&(r=n+r);0<=r;r--)if(r in e&&e[r]===t)return r||0;return-1}:K_,nm=g_.aTypedArray;(0,g_.exportTypedArrayMethod)("lastIndexOf",function(t){var e=arguments.length;return Fa(em,nm(this),1<e?[t,arguments[1]]:[t])});var rm=Mn.map,im=g_.aTypedArray;(0,g_.exportTypedArrayMethod)("map",function(t){return rm(im(this),t,1<arguments.length?arguments[1]:void 0,function(t,e){return new(D_(t))(e)})});var om=D.TypeError,tt=function(c){return function(t,e,n,r){V(e);var i=w(t),o=A(i),a=Wt(i),s=c?a-1:0,l=c?-1:1;if(n<2)for(;;){if(s in o){r=o[s],s+=l;break}if(s+=l,c?s<0:a<=s)throw om("Reduce of empty array with no initial value")}for(;c?0<=s:s<a;s+=l)s in o&&(r=e(r,o[s],s,i));return r}},we={left:tt(!1),right:tt(!0)},am=we.left,sm=g_.aTypedArray;(0,g_.exportTypedArrayMethod)("reduce",function(t){var e=arguments.length;return am(sm(this),t,e,1<e?arguments[1]:void 0)});var lm=we.right,cm=g_.aTypedArray;(0,g_.exportTypedArrayMethod)("reduceRight",function(t){var e=arguments.length;return lm(cm(this),t,e,1<e?arguments[1]:void 0)});var um=g_.aTypedArray,p=g_.exportTypedArrayMethod,fm=Math.floor;p("reverse",function(){for(var t,e=um(this).length,n=fm(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this});var dm=D.RangeError,hm=g_.aTypedArray;(0,g_.exportTypedArrayMethod)("set",function(t){hm(this);var e=p_(1<arguments.length?arguments[1]:void 0,1),n=this.length,r=w(t),i=Wt(r),o=0;if(n<i+e)throw dm("Wrong length");for(;o<i;)this[e+o]=r[o++]},_(function(){new Int8Array(1).set({})}));var pm=g_.aTypedArray;(0,g_.exportTypedArrayMethod)("slice",function(t,e){for(var n=Nn(pm(this),t,e),e=D_(this),r=0,i=n.length,o=new e(i);r<i;)o[r]=n[r++];return o},_(function(){new Int8Array(1).slice()}));var gm=Mn.some,_m=g_.aTypedArray;(0,g_.exportTypedArrayMethod)("some",function(t){return gm(_m(this),t,1<arguments.length?arguments[1]:void 0)});var mm=D.Array,ym=g_.aTypedArray,Ke=g_.exportTypedArrayMethod,vm=D.Uint16Array,bm=vm&&v(vm.prototype.sort),Xp=!(!bm||_(function(){bm(new vm(2),null)})&&_(function(){bm(new vm(2),{})})),xm=!!bm&&!_(function(){if(U)return U<74;if(En)return En<67;if(Ln)return 1;if(On)return On<602;for(var t,e=new vm(516),n=mm(516),r=0;r<516;r++)t=r%4,e[r]=515-r,n[r]=r-2*t+3;for(bm(e,function(t,e){return(t/4|0)-(e/4|0)}),r=0;r<516;r++)if(e[r]!==n[r])return 1});Ke("sort",function(t){return void 0!==t&&V(t),xm?bm(this,t):Sn(ym(this),(n=t,function(t,e){return void 0!==n?+n(t,e)||0:e!=e?-1:t!=t?1:0===t&&0===e?0<1/t&&1/e<0?1:-1:e<t}));var n},!xm||Xp);var wm=g_.aTypedArray;(0,g_.exportTypedArrayMethod)("subarray",function(t,e){var n=wm(this),r=n.length,t=Qt(t,r);return new(D_(n))(n.buffer,n.byteOffset+t*n.BYTES_PER_ELEMENT,ue((void 0===e?r:Qt(e,r))-t))});var Mm=D.Int8Array,km=g_.aTypedArray,Cn=g_.exportTypedArrayMethod,jm=[].toLocaleString,Am=!!Mm&&_(function(){jm.call(new Mm(1))});Cn("toLocaleString",function(){return Fa(jm,Am?Nn(km(this)):km(this),Nn(arguments))},_(function(){return[1,2].toLocaleString()!=new Mm([1,2]).toLocaleString()})||!_(function(){Mm.prototype.toLocaleString.call([1,2])}));var Ft=g_.exportTypedArrayMethod,F=D.Uint8Array,L0=F&&F.prototype||{},Tm=[].toString,zm=v([].join);_(function(){Tm.call({})})&&(Tm=function(){return zm(this)});Mh=L0.toString!=Tm;function Nm(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Dm(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Sm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Im(t){var r=t.dateTime,i=t.date,o=t.time,e=t.periods,n=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Fm(e),u=Ym(e),f=Fm(n),d=Ym(n),h=Fm(a),p=Ym(a),g=Fm(s),_=Ym(s),m=Fm(l),y=Ym(l),v={a:function(t){return a[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:sy,e:sy,f:dy,g:My,G:jy,H:ly,I:cy,j:uy,L:fy,m:hy,M:py,p:function(t){return e[+(12<=t.getHours())]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Wy,s:Vy,S:gy,u:_y,U:my,V:vy,w:by,W:xy,x:null,X:null,y:wy,Y:ky,Z:Ay,"%":Qy},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Ty,e:Ty,f:Iy,g:Hy,G:Gy,H:zy,I:Ny,j:Dy,L:Sy,m:Ey,M:Ly,p:function(t){return e[+(12<=t.getUTCHours())]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Wy,s:Vy,S:Cy,u:Oy,U:Py,V:Fy,w:Yy,W:Uy,x:null,X:null,y:By,Y:Zy,Z:qy,"%":Qy},x={a:function(t,e,n){e=h.exec(e.slice(n));return e?(t.w=p.get(e[0].toLowerCase()),n+e[0].length):-1},A:function(t,e,n){e=f.exec(e.slice(n));return e?(t.w=d.get(e[0].toLowerCase()),n+e[0].length):-1},b:function(t,e,n){e=m.exec(e.slice(n));return e?(t.m=y.get(e[0].toLowerCase()),n+e[0].length):-1},B:function(t,e,n){e=g.exec(e.slice(n));return e?(t.m=_.get(e[0].toLowerCase()),n+e[0].length):-1},c:function(t,e,n){return k(t,r,e,n)},d:$m,e:$m,f:ry,g:Qm,G:qm,H:Km,I:Km,j:Jm,L:ny,m:Xm,M:ty,p:function(t,e,n){e=c.exec(e.slice(n));return e?(t.p=u.get(e[0].toLowerCase()),n+e[0].length):-1},q:Vm,Q:oy,s:ay,S:ey,u:Bm,U:Hm,V:Zm,w:Um,W:Gm,x:function(t,e,n){return k(t,i,e,n)},X:function(t,e,n){return k(t,o,e,n)},y:Qm,Y:qm,Z:Wm,"%":iy};function w(l,c){return function(t){var e,n,r,i=[],o=-1,a=0,s=l.length;for(t instanceof Date||(t=new Date(+t));++o<s;)37===l.charCodeAt(o)&&(i.push(l.slice(a,o)),null!=(n=Em[e=l.charAt(++o)])?e=l.charAt(++o):n="e"===e?" ":"0",(r=c[e])&&(e=r(t,n)),i.push(e),a=o+1);return i.push(l.slice(a,o)),i.join("")}}function M(i,o){return function(t){var e,n,r=Sm(1900,void 0,1);if(k(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(1e3*r.s+("L"in r?r.L:0));if(!o||"Z"in r||(r.Z=0),"p"in r&&(r.H=r.H%12+12*r.p),void 0===r.m&&(r.m="q"in r?r.q:0),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(e=4<(n=(e=Dm(Sm(r.y,0,1))).getUTCDay())||0===n?Vg.ceil(e):Vg(e),e=qg.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),r.d=e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=Nm(Sm(r.y,0,1))).getDay())||0===n?Bg.ceil(e):Bg(e),e=Fg.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),r.d=e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?Dm(Sm(r.y,0,1)).getUTCDay():Nm(Sm(r.y,0,1)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,Dm(r)):Nm(r)}}function k(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(l<=r)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in Em?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=w(i,v),v.X=w(o,v),v.c=w(r,v),b.x=w(i,b),b.X=w(o,b),b.c=w(r,b),{format:function(t){var e=w(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}Ft("toString",Tm,Mh),fe("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Kt),s("Uint32",function(r){return function(t,e,n){return r(this,t,e,n)}});var Em={"-":"",_:" ",0:"0"},Lm=/^\s*\d+/,Cm=/^%/,Om=/[\\^$*+?|[\]().{}]/g;function Pm(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",t=i.length;return r+(t<n?new Array(n-t+1).join(e)+i:i)}function Rm(t){return t.replace(Om,"\\$&")}function Fm(t){return new RegExp("^(?:"+t.map(Rm).join("|")+")","i")}function Ym(t){return new Map(t.map(function(t,e){return[t.toLowerCase(),e]}))}function Um(t,e,n){e=Lm.exec(e.slice(n,n+1));return e?(t.w=+e[0],n+e[0].length):-1}function Bm(t,e,n){e=Lm.exec(e.slice(n,n+1));return e?(t.u=+e[0],n+e[0].length):-1}function Hm(t,e,n){e=Lm.exec(e.slice(n,n+2));return e?(t.U=+e[0],n+e[0].length):-1}function Zm(t,e,n){e=Lm.exec(e.slice(n,n+2));return e?(t.V=+e[0],n+e[0].length):-1}function Gm(t,e,n){e=Lm.exec(e.slice(n,n+2));return e?(t.W=+e[0],n+e[0].length):-1}function qm(t,e,n){e=Lm.exec(e.slice(n,n+4));return e?(t.y=+e[0],n+e[0].length):-1}function Qm(t,e,n){e=Lm.exec(e.slice(n,n+2));return e?(t.y=+e[0]+(68<+e[0]?1900:2e3),n+e[0].length):-1}function Wm(t,e,n){e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return e?(t.Z=e[1]?0:-(e[2]+(e[3]||"00")),n+e[0].length):-1}function Vm(t,e,n){e=Lm.exec(e.slice(n,n+1));return e?(t.q=3*e[0]-3,n+e[0].length):-1}function Xm(t,e,n){e=Lm.exec(e.slice(n,n+2));return e?(t.m=e[0]-1,n+e[0].length):-1}function $m(t,e,n){e=Lm.exec(e.slice(n,n+2));return e?(t.d=+e[0],n+e[0].length):-1}function Jm(t,e,n){e=Lm.exec(e.slice(n,n+3));return e?(t.m=0,t.d=+e[0],n+e[0].length):-1}function Km(t,e,n){e=Lm.exec(e.slice(n,n+2));return e?(t.H=+e[0],n+e[0].length):-1}function ty(t,e,n){e=Lm.exec(e.slice(n,n+2));return e?(t.M=+e[0],n+e[0].length):-1}function ey(t,e,n){e=Lm.exec(e.slice(n,n+2));return e?(t.S=+e[0],n+e[0].length):-1}function ny(t,e,n){e=Lm.exec(e.slice(n,n+3));return e?(t.L=+e[0],n+e[0].length):-1}function ry(t,e,n){e=Lm.exec(e.slice(n,n+6));return e?(t.L=Math.floor(e[0]/1e3),n+e[0].length):-1}function iy(t,e,n){e=Cm.exec(e.slice(n,n+1));return e?n+e[0].length:-1}function oy(t,e,n){e=Lm.exec(e.slice(n));return e?(t.Q=+e[0],n+e[0].length):-1}function ay(t,e,n){e=Lm.exec(e.slice(n));return e?(t.s=+e[0],n+e[0].length):-1}function sy(t,e){return Pm(t.getDate(),e,2)}function ly(t,e){return Pm(t.getHours(),e,2)}function cy(t,e){return Pm(t.getHours()%12||12,e,2)}function uy(t,e){return Pm(1+Fg.count(Gg(t),t),e,3)}function fy(t,e){return Pm(t.getMilliseconds(),e,3)}function dy(t,e){return fy(t,e)+"000"}function hy(t,e){return Pm(t.getMonth()+1,e,2)}function py(t,e){return Pm(t.getMinutes(),e,2)}function gy(t,e){return Pm(t.getSeconds(),e,2)}function _y(t){t=t.getDay();return 0===t?7:t}function my(t,e){return Pm(Ug.count(Gg(t)-1,t),e,2)}function yy(t){var e=t.getDay();return 4<=e||0===e?Hg(t):Hg.ceil(t)}function vy(t,e){return t=yy(t),Pm(Hg.count(Gg(t),t)+(4===Gg(t).getDay()),e,2)}function by(t){return t.getDay()}function xy(t,e){return Pm(Bg.count(Gg(t)-1,t),e,2)}function wy(t,e){return Pm(t.getFullYear()%100,e,2)}function My(t,e){return Pm((t=yy(t)).getFullYear()%100,e,2)}function ky(t,e){return Pm(t.getFullYear()%1e4,e,4)}function jy(t,e){var n=t.getDay();return Pm((t=4<=n||0===n?Hg(t):Hg.ceil(t)).getFullYear()%1e4,e,4)}function Ay(t){t=t.getTimezoneOffset();return(0<t?"-":(t*=-1,"+"))+Pm(t/60|0,"0",2)+Pm(t%60,"0",2)}function Ty(t,e){return Pm(t.getUTCDate(),e,2)}function zy(t,e){return Pm(t.getUTCHours(),e,2)}function Ny(t,e){return Pm(t.getUTCHours()%12||12,e,2)}function Dy(t,e){return Pm(1+qg.count(e_(t),t),e,3)}function Sy(t,e){return Pm(t.getUTCMilliseconds(),e,3)}function Iy(t,e){return Sy(t,e)+"000"}function Ey(t,e){return Pm(t.getUTCMonth()+1,e,2)}function Ly(t,e){return Pm(t.getUTCMinutes(),e,2)}function Cy(t,e){return Pm(t.getUTCSeconds(),e,2)}function Oy(t){t=t.getUTCDay();return 0===t?7:t}function Py(t,e){return Pm(Wg.count(e_(t)-1,t),e,2)}function Ry(t){var e=t.getUTCDay();return 4<=e||0===e?Xg(t):Xg.ceil(t)}function Fy(t,e){return t=Ry(t),Pm(Xg.count(e_(t),t)+(4===e_(t).getUTCDay()),e,2)}function Yy(t){return t.getUTCDay()}function Uy(t,e){return Pm(Vg.count(e_(t)-1,t),e,2)}function By(t,e){return Pm(t.getUTCFullYear()%100,e,2)}function Hy(t,e){return Pm((t=Ry(t)).getUTCFullYear()%100,e,2)}function Zy(t,e){return Pm(t.getUTCFullYear()%1e4,e,4)}function Gy(t,e){var n=t.getUTCDay();return Pm((t=4<=n||0===n?Xg(t):Xg.ceil(t)).getUTCFullYear()%1e4,e,4)}function qy(){return"+0000"}function Qy(){return"%"}function Wy(t){return+t}function Vy(t){return Math.floor(+t/1e3)}var Xy,$y=(Xy=Im({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,Jy=Xy.parse,Ky=parseFloat,t1=Jy("%Y-%m-%d");function e1(e){var n=Ky;return function(t){return void 0===t?n||Ky:(n=t,e)}}function n1(e){var n=t1;return function(t){return void 0===t?n||t1:(n=t,e)}}function r1(t){var e=[],n={};return t.forEach(function(t){n[t]||(e.push(t),n[t]=!0)}),e}var i1=Array.isArray;function o1(t){return t}function a1(n){return{prop:function(t,e){Object.defineProperty(n,t,{value:e,enumerable:!0})},getter:function(t,e){Object.defineProperty(n,t,{get:e,enumerable:!0})},method:function(t,e){Object.defineProperty(n,t,{value:e})}}}function s1(t,e){var n=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]||(t[e]=n),n+=1,t},{})}function l1(t,e){var n=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]=n++,t},{})}function c1(t,e,n,r){var i,o,a,s,l,c="dense"===r?(l=1,e[n?"reduce":"reduceRight"](function(t,e){return t[e]||(t[e]=l++),t},{})):"fractional"===r?(a=s1(i=e,o=n),s=l1(i,o),Object.keys(a).reduce(function(t,e){return t[e]=(a[e]+s[e])/2,t},{})):("worst"===r?l1:s1)(e,n),r="ordinal"===r?function(t){return c[t]++}:function(t){return c[t]};return t.map(r)}function u1(n){return n=n||Math.random,function(t,e){e=e-t+1;return Math.floor(n()*e)+t}}function f1(t,e){return t[u1(e)(0,t.length-1)]}function d1(t,e,n,r){var i=t.length;if(n=void 0!==e&&n,e=void 0!==e?Math.floor(e):i,!i||e<1)return[];var o=u1(r);if(n||1===e){for(var a=[],s=0;s<e;s++)a.push(t[o(0,i-1)]);return a}a=t.slice();for(var l=Math.min(i,e),s=0;s<l;s++){var c,u,f=o(s,i-1);f!==s&&(c=a[f],u=a[s],a[s]=c,a[f]=u)}return a.length=l,a}function h1(t,n,r){if(!n.length)return t.slice();for(var i=0,e=t.reduce(function(t,e){for(;t.length===n[i];)t.push(r),i++;return t.push(e),t},[]);n[i++];)e.push(r);return e}function p1(e,t){return i1(t)?t.map(function(t){return tl(e,t)}):tl(e,t)}function g1(t){return-90<=t&&t<=90}function _1(t){return-180<=t&&t<=180}function m1(t,n,e){return t.length?e?n(t.min)&&n(t.max)?1:0:t.values.reduce(function(t,e){return t+n(e)},0)/t.length:null}function y1(t,e,r){r=r||o1;var i=1/0,o=-1/0,a=null,s=0,l=[],c=Object.freeze(e.reduce(function(t,e,n){e=r(e);return"number"!=typeof e||isNaN(e)?l.push(n):(t.push(e),i=Math.min(i,e),o=Math.max(o,e),s+=e),t},[])),e=a1(t);return e.prop("enhanced_array",!0),e.prop("numeric_array",!0),e.prop("values",c),e.prop("min",c.length?i:null),e.prop("max",c.length?o:null),e.prop("sum",s),e.prop("mean",c.length?s/c.length:null),e.prop("range",c.length?o-i:null),e.prop("length",c.length),e.prop("dropped_indexes",Object.freeze(l)),e.method("extent",function(){return[this.min,this.max]}),e.getter("sorted_values",function(){var e,n;return a||(n=-1/0,c.every(function(t){if(n<=t)return n=t,!0})&&(a=c),e=1/0,a=c.every(function(t){if(t<=e)return e=t,!0})?Object.freeze(c.slice().reverse()):Object.freeze(c.slice().sort(Fs))),a}),t}var v1,b1,x1,w1=(x1=a1(b1={}),(v1=x1).method("unsorted",function(){return this.values.slice()}),v1.method("ascending",function(){return this.sorted_values.slice()}),v1.method("descending",function(){return this.sorted_values.slice().reverse()}),v1.method("unique",function(){return r1(this.values)}),v1.method("uniqueAscending",function(){return r1(this.sorted_values)}),v1.method("uniqueDescending",function(){return r1(this.sorted_values).reverse()}),(v1=x1).getter("variance",function(){return qs(this.values)}),v1.getter("sd",function(){return Math.sqrt(this.variance)}),v1.getter("median",function(){return p1(this.sorted_values,.5)}),v1.getter("iqr",function(){var t=p1(this.sorted_values,[.25,.75]);return t[1]-t[0]}),v1.method("quantiles",function(t){return p1(this.sorted_values,t)}),v1.method("quartiles",function(){return p1(this.sorted_values,[.25,.5,.75])}),(v1=x1).method("random",function(t){return f1(this.values,t)}),v1.method("sample",function(t,e,n){return d1(this.values,t,e,n)}),x1.method("rank",function(t,e){return c1(this.values,this.sorted_values,t,e)}),x1.method("unclean",function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return h1(t=t||this.values,this.dropped_indexes,NaN)}),(x1=x1).method("latitudeScore",function(t){return m1(this,g1,t)}),x1.method("longitudeScore",function(t){return m1(this,_1,t)}),b1);function M1(t,e){var n=Object.create(w1);return y1(n,t,e),n}var k1=Object.freeze(["min","max","mean"]),j1=Object.freeze(["extent","random","sample","unsorted","ascending","descending","unique","uniqueAscending","uniqueDescending","quartiles","quantiles","unclean"]);function A1(t){return"number"!=typeof t?null:new Date(t)}function T1(t,e,n){n=n||o1;var r=M1(e.map(function(t){var e=n(t);return t=e,"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime())?null:e.getTime()})),i=a1(t);i.prop("enhanced_array",!0),i.prop("datetime_array",!0),i.getter("values",function(){return Object.freeze(r.values.map(A1))}),i.getter("sorted_values",function(){return Object.freeze(r.sorted_values.map(A1))}),i.getter("median",function(){return A1(r.median)}),i.prop("length",r.values.length),i.prop("dropped_indexes",r.dropped_indexes),i.method("rank",function(){return r.rank(arguments)});var o=function(e,n){return function(){var t=e[n].apply(e,arguments);return Array.isArray(t)?t.map(A1):A1(t)}}.bind(null,r);return k1.forEach(function(t){i.prop(t,A1(r[t]))}),j1.forEach(function(t){i.method(t,o(t))}),t}function z1(t,e,r){r=r||o1;for(var n=null,i=[],o=0,a=null,s=0;null===a&&s<e.length;){var l=r(e[s++]);"string"==typeof l&&(a=l)}var c=a,u=Object.freeze(e.reduce(function(t,e,n){e=r(e);return"string"==typeof e?(t.push(e),a=e<a?e:a,c=c<e?e:c,e||o++):i.push(n),t},[])),f=a1(t);return f.prop("enhanced_array",!0),f.prop("string_array",!0),f.prop("values",u),f.prop("min",a),f.prop("max",c),f.prop("length",u.length),f.prop("dropped_indexes",Object.freeze(i)),f.prop("n_empty",o),f.method("extent",function(){return[this.min,this.max]}),f.getter("sorted_values",function(){return n||(function(t){if(t.length<2)return 1;var e=t[0];return t.every(function(t){if(e<=t)return e=t,!0})}(u)&&(n=u),n=function(t){if(t.length<2)return 1;var e=t[0];return t.every(function(t){if(t<=e)return e=t,!0})}(u)?Object.freeze(u.slice().reverse()):Object.freeze(u.slice().sort())),n}),t}var N1,D1,S1,I1,E1=(S1=a1(D1={}),(N1=S1).method("unsorted",function(){return this.values.slice()}),N1.method("ascending",function(){return this.sorted_values.slice()}),N1.method("descending",function(){return this.sorted_values.slice().reverse()}),N1.method("unique",function(){return r1(this.values)}),N1.method("uniqueAscending",function(){return r1(this.sorted_values)}),N1.method("uniqueDescending",function(){return r1(this.sorted_values).reverse()}),(N1=S1).method("random",function(t){return f1(this.values,t)}),N1.method("sample",function(t,e,n){return d1(this.values,t,e,n)}),S1.method("rank",function(t,e){return c1(this.values,this.sorted_values,t,e)}),S1.method("unclean",function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return h1(t=t||this.values,this.dropped_indexes)}),D1);function L1(t,e,n){t=getComputedStyle(t.node()).fontFamily;return(n?n+" ":"")+(I1(e)+"px ")+t}function C1(t,e){return"translate("+t+","+e+")"}function O1(t,e,n){return"rotate("+t+","+(e=e||0)+","+(n=n||0)+")"}var P1=Math.log10||function(t){return Math.log(t)*Math.LOG10E};function R1(t){return Math.floor(P1(Math.abs(t)))}function F1(t){if(0===t)return 0;for(var e=Math.abs(String(t).replace(".",""));0!==e&&e%10==0;)e/=10;return R1(e)+1}function Y1(t,e){var n=t[0][0],r=t[1][0],i=e[0][0],o=e[1][0],a=t[0][1],s=t[1][1],l=e[0][1],t=e[1][1],e=(n-r)*(l-t)-(i-o)*(a-s);if(!e)return!(n<i&&n<o&&r<i&&r<o||i<n&&o<n&&i<r&&o<r||a<l&&a<t&&s<l&&s<t||l<a&&t<a&&l<s&&t<s);o=((n-i)*(l-t)-(a-l)*(i-o))/e;if(!(o<0||1<o)){e=-((n-r)*(a-l)-(a-s)*(n-i))/e;return e<0||1<e?void 0:1}}function U1(t){return t&&"number"==typeof t?0<t?1:-1:0}function B1(r){var i=r.type;(r=r.copy()).type=i;function n(t){var e,n=r(t);return!isNaN(n)&&Math.abs(n)!==1/0||(e=r.range(),n=-1e6*(("numeric"!==i?e[0]>e[1]:U1((t=r.domain())[1]-t[0])!==U1(e[1]-e[0]))?-1:1)),n}return["domain","range"].forEach(function(e){n[e]=function(){var t=r[e].apply(r,arguments);return t===r?n:t}}),n.copy=function(){return B1(r)},n.type=r.type,n.step=r.step,n}function H1(t){return"[object Date]"===Object.prototype.toString.call(t)}var Z1="Input data must be an array or Flourish array";function G1(t,e){if(!t)throw new TypeError(Z1);if(t.enhanced_array)return t;if(!Array.isArray(t))throw new TypeError(Z1);for(var n,r,i=e||function(t){return t},o=0;o<t.length;o++){var a=i(t[o]),s=Zs(a);if("number"===s)return M1(t,e);if("string"===s)return n=t,r=e,s=void 0,z1(s=Object.create(E1),n,r),s;if(H1(a))return void 0,T1(a={},t,e),a}return M1(t,e)}function q1(n){var r=G1([]);return function(t,e){return void 0===t?r:(r=G1(t,e),n)}}var Q1="Testing";function W1(t){return t*(Math.PI/180)}function V1(t,e){var n;return t.filter(function(t){t=e(t);if(t!==n)return n=t,!0})}function X1(t){var e=void 0!==t.max_space?t.max_space:100,n=void 0!==t.text_height?t.text_height:I1(1),h=t.max_lines,r=t.angle||0,p=document.createElement("canvas").getContext("2d");p.font=t.font;var r=W1(r),g=(e-n*Math.sin(r))/Math.cos(r);return function(t){var e=[],n=0,r=p.measureText(t).width;if(r<=g)e.push(t),n=r;else{for(var i=t.trim().split(/\s+/g),o="",a=0;a<i.length;a++){var s=i[a],l=o+(o?" ":"")+s,c=p.measureText(l).width;if(!(c<=g)){var u=e.length+1==h;if(!u&&o)if(e.push(o),p.measureText(s).width<=g){o=s;continue}for(var f=1,d=l;d=l.substring(0,l.length-f)+"…",c=p.measureText(d).width,g<c&&++f<l.length;);n=Math.max(n,c),o=d;break}o=l,n=Math.max(n,c)}e.push(o)}return{lines:e,text_width:n}}}function $1(i,o){var a=["px","rem","fraction"];o=o||"width";var s=.3,l="fraction";return function(t,e){return void 0===t?(n=i[o](),{px:r="px"===l?s:"rem"===l?I1(s):s*n,rem:"rem"===l?s:r/I1(1),fraction:"fraction"===l?s:r/n,unit:l}):(s=Math.max(t,0),l=-1!==a.indexOf(e)?e:"px",i);var n,r}}function J1(r,t,e){var b=t[e],i=e+"Data",o=e+"Format",a=e+"Ticks",s=Object.freeze([]),l=r.chart.select(".fl-y-axes"),e=function(){return s};return e._update=function(t){var p,g=r[i]().string_array?"string":"numeric",e=L1(j0(".fl-y-axes"),b.tick_label_size,b.tick_label_weight),_="default"===b.tick_label_position?+b.tick_label_angle:0,m=0,y=r[o]();l.append("text").style("opacity",0).style("font",e).each(function(){var t=j0(this).text(Q1).node().getBoundingClientRect();p=t.height}).remove(),"object"===Zs(t[0])&&(t=V1(t,y));var n=I1(b.tick_label_space);"auto"===b.tick_label_space_mode&&(n=r[a].autoLabelSpace().px);var v=X1({text_height:p,max_space:n,font:e,angle:_,max_lines:_?1:b.tick_label_max_lines});return(s=t.map(function(t,e){var n,r,i,o,a,s,l=v(y(t)),c=l.lines,u=l.text_width,f=0,l=p*c.length+(c.length-1)*b.tick_label_line_height;0==_||90==_?(r=n=a=_?l:u,i=o=(s=_?u+I1(.5):l)/2,0==_&&(f=c.length<2?0:(c.length-1)/2*(p*b.tick_label_line_height))):(d=W1(_),a=(n=l*(h=Math.sin(d)))+(r=u*(d=Math.cos(d))),s=(i=l*d)+(o=u*h)),m=Math.max(m,a);var d="numeric"==g?F1(t):null,h="numeric"==g?R1(t):null;return Object.freeze({index:e,value:t,lines:c,type:g,significant_digits:d,exponent:h,text_width:u,text_height:p,box_width:a,box_height:s,box_width_above:n,box_width_below:r,box_height_above:i,box_height_below:o,multiline_offset:f})})).type=g,s.max_box_width="fixed"===b.tick_label_space_mode?I1(b.tick_label_space):m,Object.freeze(s),r},e.autoLabelSpace=$1(r),e}function K1(e,t){function n(){return e[r+"Scale"]({domain_only:!0}).ticks()}var r=1<arguments.length&&void 0!==t?t:"x",i=n;return function(t){return void 0===t?i:(i=null===t?n:t,e)}}function tv(e){var n="";return function(t){return void 0===t?n:(n=t,e)}}function ev(t,e){var n=e.x,r=n.axis_position;if("off"===r)return 0;var i=0,o=0,a=0;return"top"!==r&&"bottom"!=r||(i=(r=t.xTicks()).length&&"out"===n.tick_side&&"default"===n.tick_label_position?I1(n.tick_length):0,a=r.max_box_height||0,o=r.length?I1(n.tick_padding):0),i+o+a+(o=t,t=(a=e).x,e=o.xTitle(),"off"!==t.axis_visible&&e?(o=L1(a=o.chart.select(".fl-x-axis .fl-axis-title"),t.title_size,t.title_weight),e=a.append("text").text(e).style("opacity",0).style("font",o),o=e.node().getBoundingClientRect().height,e.remove(),o+2*I1(t.title_padding)):0)}function nv(t,e){var n,r=e.y,i=0;r.axis_visible&&(i=((n=t.yHide()?[]:t.yTicks()).length&&"out"===r.tick_side&&"default"===r.tick_label_position?I1(r.tick_length):0)+(n.length?I1(r.tick_padding):0)+(n.max_box_width||0)+(t.yHide()?0:(o=t,a=(r=e).y,n=o.yTitle(),a.axis_visible&&n?(o=L1(r=o.chart.select(".fl-left-axis .fl-axis-title"),a.title_size,a.title_weight),n=r.append("text").text(n).style("opacity",0).style("font",o),o=n.node().getBoundingClientRect().height,n.remove(),o+2*I1(a.title_padding)):0)));var o=I1(.25),a=0,t=t.xHide()?[]:t.xTicks();return t.length&&(t=t[0],"default"==e.x.tick_label_position?a=.9*t.box_width_left:"left"==e.x.tick_label_position&&(a=t.box_width),o=Math.max(o,a)),Math.max(i,o)}function rv(t,e){var n,r=e.y2,i=0;r.axis_visible&&(i=((n=t.y2Hide()?[]:t.y2Ticks()).length&&"out"===r.tick_side&&"default"===r.tick_label_position?I1(r.tick_length):0)+(n.length?I1(r.tick_padding):0)+(n.max_box_width||0)+(t.y2Hide()?0:(o=t,a=(r=e).y2,n=o.y2Title(),a.axis_visible&&n?(o=L1(r=o.chart.select(".fl-right-axis .fl-axis-title"),a.title_size,a.title_weight),n=r.append("text").text(n).style("opacity",0).style("font",o),o=n.node().getBoundingClientRect().height,n.remove(),o+2*I1(a.title_padding)):0)));var o=I1(.25),a=0,t=t.xHide()?[]:t.xTicks();return t.length&&(t=t[t.length-1],"default"==e.x.tick_label_position?a=.9*t.box_width_right:"right"==e.x.tick_label_position&&(a=t.box_width),o=Math.max(o,a)),Math.max(i,o)}function iv(e,n){function t(){return{top:r,right:i,bottom:o,left:a}}var r,i,o,a;return t._update=function(t){r=void 0!==(t=t||{}).top?t.top:function(t,e){var n=e.x,r=0;t.xHide()||-1===["top","float-above"].indexOf(n.axis_position)||(r=ev(t,e));var i=0,o=0;return(n=t.yHide()?[]:t.yTicks()).length&&(n=n[n.length-1],"default"==e.y.tick_label_position?i=.9*n.box_height_above:"above"==e.y.tick_label_position&&(i+=n.box_height)),(t=t.y2Hide()?[]:t.y2Ticks()).length&&(t=t[t.length-1],"default"==e.y2.tick_label_position?o=.9*t.box_height_above:"above"==e.y2.tick_label_position&&(o+=t.box_height)),o=Math.max(I1(.25),i,o),Math.max(r,o)}(e,n),i=void 0!==t.right?t.right:rv(e,n),o=void 0!==t.bottom?t.bottom:function(t,e){var n=e.x,r=0;t.xHide()||-1===["bottom","float-below"].indexOf(n.axis_position)||(r=ev(t,e));var i=0,o=0;return(n=t.yHide()?[]:t.yTicks()).length&&(n=n[0],"default"==e.y.tick_label_position?i=.9*n.box_height_below:"below"==e.y.tick_label_position&&(i+=n.box_height)),(t=t.y2Hide()?[]:t.y2Ticks()).length&&(t=t[0],"default"==e.y2.tick_label_position?o=.9*t.box_height_below:"below"==e.y2.tick_label_position&&(o+=t.box_height)),o=Math.max(I1(.25),i,o),Math.max(r,o)}(e,n),a=void 0!==t.left?t.left:nv(e,n)},Object.defineProperty(t,"top",{get:function(){return r}}),Object.defineProperty(t,"right",{get:function(){return i}}),Object.defineProperty(t,"bottom",{get:function(){return o}}),Object.defineProperty(t,"left",{get:function(){return a}}),t}var ov=de.includes;function av(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function sv(n){var r,i=n,o=n;function a(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=1+i:r=i}return n}return 1===n.length&&(i=function(t,e){return n(t)-e},r=n,o=function(t,e){return av(r(t),e)}),{left:a,center:function(t,e,n,r){return r=a(t,e,n=null==n?0:n,(r=null==r?t.length:r)-1),n<r&&i(t[r-1],e)>-i(t[r],e)?r-1:r},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=1+i}return n}}}$t({target:"Array",proto:!0},{includes:function(t){return ov(this,t,1<arguments.length?arguments[1]:void 0)}}),Ee("includes");Yt=sv(av).right;sv(function(t){return null===t?NaN:+t}).center;var lv=Yt,cv=Math.sqrt(50),uv=Math.sqrt(10),fv=Math.sqrt(2);function dv(t,e,n){var r,i,o,a=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(c=hv(t,e,n))||!isFinite(c))return[];if(0<c){var s=Math.round(t/c),l=Math.round(e/c);for(s*c<t&&++s,e<l*c&&--l,o=new Array(i=l-s+1);++a<i;)o[a]=(s+a)*c}else{var c=-c,u=Math.round(t*c),l=Math.round(e*c);for(u/c<t&&++u,e<l/c&&--l,o=new Array(i=l-u+1);++a<i;)o[a]=(u+a)/c}return r&&o.reverse(),o}function hv(t,e,n){t=(e-t)/Math.max(0,n),n=Math.floor(Math.log(t)/Math.LN10),t/=Math.pow(10,n);return 0<=n?(cv<=t?10:uv<=t?5:fv<=t?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(cv<=t?10:uv<=t?5:fv<=t?2:1)}function pv(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),n=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),r=r/n;return cv<=r?n*=10:uv<=r?n*=5:fv<=r&&(n*=2),e<t?-n:n}function gv(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var _v=Symbol("implicit");function mv(){var i,o,t=function t(){var o=new Map,a=[],r=[],i=_v;function s(t){var e=t+"",n=o.get(e);if(!n){if(i!==_v)return i;o.set(e,n=a.push(t))}return r[(n-1)%r.length]}return s.domain=function(t){if(!arguments.length)return a.slice();a=[],o=new Map;var e,n=za(t);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r+"";o.has(i)||o.set(i,a.push(r))}}catch(t){n.e(t)}finally{n.f()}return s},s.range=function(t){return arguments.length?(r=Array.from(t),s):r.slice()},s.unknown=function(t){return arguments.length?(i=t,s):i},s.copy=function(){return t(a,r).unknown(i)},gv.apply(s,arguments),s}().unknown(void 0),a=t.domain,s=t.range,l=0,c=1,u=!1,f=0,d=0,h=.5;function e(){var t=a().length,e=c<l,n=e?c:l,r=e?l:c;i=(r-n)/Math.max(1,t-f+2*d),u&&(i=Math.floor(i)),n+=(r-n-i*(t-f))*h,o=i*(1-f),u&&(n=Math.round(n),o=Math.round(o));t=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}(t).map(function(t){return n+i*t});return s(e?t.reverse():t)}return delete t.unknown,t.domain=function(t){return arguments.length?(a(t),e()):a()},t.range=function(t){return arguments.length?(t=ka(t,2),l=t[0],c=t[1],l=+l,c=+c,e()):[l,c]},t.rangeRound=function(t){var t=t,t=ka(t,2);return l=t[0],c=t[1],l=+l,c=+c,u=!0,e()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(t){return arguments.length?(u=!!t,e()):u},t.padding=function(t){return arguments.length?(f=Math.min(1,d=+t),e()):f},t.paddingInner=function(t){return arguments.length?(f=Math.min(1,t),e()):f},t.paddingOuter=function(t){return arguments.length?(d=+t,e()):d},t.align=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},t.copy=function(){return mv(a(),[l,c]).round(u).paddingInner(f).paddingOuter(d).align(h)},gv.apply(e(),arguments)}function yv(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(mv.apply(null,arguments).paddingInner(1))}function vv(t){return+t}var bv=[0,1];function xv(t){return t}function wv(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:(t=isNaN(n)?NaN:.5,function(){return t});var t}function Mv(t,e,n){var r=t[0],t=t[1],i=e[0],e=e[1],i=t<r?(r=wv(t,r),n(e,i)):(r=wv(r,t),n(i,e));return function(t){return i(r(t))}}function kv(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=wv(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(t){var e=lv(n,t,1,r)-1;return o[e](i[e](t))}}function jv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Av(){var n,r,e,i,o,a,s=bv,l=bv,c=ku,u=xv;function f(){var e,n,t,r=Math.min(s.length,l.length);return u!==xv&&(e=s[0],(n=s[r-1])<e&&(t=e,e=n,n=t),u=function(t){return Math.max(e,Math.min(n,t))}),i=2<r?kv:Mv,o=a=null,d}function d(t){return isNaN(t=+t)?e:(o=o||i(s.map(n),l,c))(n(u(t)))}return d.invert=function(t){return u(r((a=a||i(l,s.map(n),vu))(t)))},d.domain=function(t){return arguments.length?(s=Array.from(t,vv),f()):s.slice()},d.range=function(t){return arguments.length?(l=Array.from(t),f()):l.slice()},d.rangeRound=function(t){return l=Array.from(t),c=ju,f()},d.clamp=function(t){return arguments.length?(u=!!t||xv,f()):u!==xv},d.interpolate=function(t){return arguments.length?(c=t,f()):c},d.unknown=function(t){return arguments.length?(e=t,d):e},function(t,e){return n=t,r=e,f()}}function Tv(){return Av()(xv,xv)}function zv(c){var u=c.domain;return c.ticks=function(t){var e=u();return dv(e[0],e[e.length-1],null==t?10:t)},c.tickFormat=function(t,e){var n=u();return function(t,e,n,r){var i,o=pv(t,e,n);switch((r=zf(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Pf(o,a))||(r.precision=i),Hf(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Rf(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Of(o))||(r.precision=i-2*("%"===r.type))}return Bf(r)}(n[0],n[n.length-1],null==t?10:t,e)},c.nice=function(t){null==t&&(t=10);var e,n,r=u(),i=0,o=r.length-1,a=r[i],s=r[o],l=10;for(s<a&&(n=a,a=s,s=n,n=i,i=o,o=n);0<l--;){if((n=hv(a,s,t))===e)return r[i]=a,r[o]=s,u(r);if(0<n)a=Math.floor(a/n)*n,s=Math.ceil(s/n)*n;else{if(!(n<0))break;a=Math.ceil(a*n)/n,s=Math.floor(s*n)/n}e=n}return c},c}function Nv(){var t=Tv();return t.copy=function(){return jv(t,Nv())},gv.apply(t,arguments),zv(t)}function Dv(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Sv(t){return Math.log(t)}function Iv(t){return Math.exp(t)}function Ev(t){return-Math.log(-t)}function Lv(t){return-Math.exp(-t)}function Cv(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ov(e){return function(t){return-e(-t)}}function Pv(t){var u,f,i=t(Sv,Iv),d=i.domain,h=10;function e(){var e,n;return u=(n=h)===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),function(t){return Math.log(t)/n}),f=10===(e=h)?Cv:e===Math.E?Math.exp:function(t){return Math.pow(e,t)},d()[0]<0?(u=Ov(u),f=Ov(f),t(Ev,Lv)):t(Sv,Iv),i}return i.base=function(t){return arguments.length?(h=+t,e()):h},i.domain=function(t){return arguments.length?(d(t),e()):d()},i.ticks=function(t){var e=d(),n=e[0],r=e[e.length-1];(e=r<n)&&(s=n,n=r,r=s);var i,o,a,s=u(n),l=u(r),t=null==t?10:+t,c=[];if(!(h%1)&&l-s<t){if(s=Math.floor(s),l=Math.ceil(l),0<n){for(;s<=l;++s)for(o=1,i=f(s);o<h;++o)if(!((a=i*o)<n)){if(r<a)break;c.push(a)}}else for(;s<=l;++s)for(o=h-1,i=f(s);1<=o;--o)if(!((a=i*o)<n)){if(r<a)break;c.push(a)}2*c.length<t&&(c=dv(n,r,t))}else c=dv(s,l,Math.min(l-s,t)).map(f);return e?c.reverse():c},i.tickFormat=function(t,n){if("function"!=typeof(n=null==n?10===h?".0e":",":n)&&(n=Bf(n)),t===1/0)return n;null==t&&(t=10);var r=Math.max(1,h*t/i.ticks().length);return function(t){var e=t/f(Math.round(u(t)));return e*h<h-.5&&(e*=h),e<=r?n(t):""}},i.nice=function(){return d(Dv(d(),{floor:function(t){return f(Math.floor(u(t)))},ceil:function(t){return f(Math.ceil(u(t)))}}))},i}var Rv=36e5,Fv=864e5,Yv=365*Fv;function Uv(t){return new Date(t)}function Bv(t){return t instanceof Date?+t:+new Date(+t)}function Hv(){return gv.apply(function t(a,e,n,r,i,o,s,l,c){var u=Tv(),f=u.invert,d=u.domain,h=c(".%L"),p=c(":%S"),g=c("%I:%M"),_=c("%I %p"),m=c("%a %d"),y=c("%b %d"),v=c("%B"),b=c("%Y"),x=[[s,1,1e3],[s,5,5e3],[s,15,15e3],[s,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Rv],[i,3,3*Rv],[i,6,6*Rv],[i,12,432e5],[r,1,Fv],[r,2,2*Fv],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[a,1,Yv]];function w(t){return(s(t)<t?h:o(t)<t?p:i(t)<t?g:r(t)<t?_:e(t)<t?n(t)<t?m:y:a(t)<t?v:b)(t)}function M(t,e,n){if("number"!=typeof(t=null==t?10:t))return t;var r,i=Math.abs(n-e)/t,o=sv(function(t){return t[2]}).right(x,i);return(t=o===x.length?(r=pv(e/Yv,n/Yv,t),a):o?(r=(o=x[i/x[o-1][2]<x[o][2]/i?o-1:o])[1],o[0]):(r=Math.max(pv(e,n,t),1),l)).every(r)}return u.invert=function(t){return new Date(f(t))},u.domain=function(t){return arguments.length?d(Array.from(t,Bv)):d().map(Uv)},u.ticks=function(t){var e,n=d(),r=n[0],i=n[n.length-1];return(n=i<r)&&(e=r,r=i,i=e),e=(e=M(t,r,i))?e.range(r,i+1):[],n?e.reverse():e},u.tickFormat=function(t,e){return null==e?w:c(e)},u.nice=function(t){var e=d();return(t=M(t,e[0],e[e.length-1]))?d(Dv(e,t)):u},u.copy=function(){return jv(u,t(a,e,n,r,i,o,s,l,c))},u}(Gg,Zg,Ug,Fg,Rg,Pg,Og,Cg,$y).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Zv(t,e){e=e.edge_padding,e=yv().domain(t.unique()).padding(e/100);return e.type="ordinal",e}function Gv(t,e){var n,r,i,o,a=(n=t,i=(r=e).min,o=e.max,t=e.include_zero,r=e.nice,null!==(i=i===o?o=null:i)&&null!==o?[i,o]:(n.range?(a=n.extent(),r&&(a=Nv().domain(a).nice().domain()),t&&(0<=a[0]?a[0]=0:a[1]<0&&(a[1]=0))):a=n.length?0<(t=n.min)?[0,2*t]:t<0?[2*t,0]:[-50,50]:[0,100],null!==i?(a[0]=i,a[0]===a[1]&&(a[1]=i+(n.range||100))):null!==o&&(a[1]=o,a[0]===a[1]&&(a[0]=o-(n.range||100))),a)),a=Nv().domain(a);return a.type="numeric",a}function qv(t,e){var n=e.min,r=e.max,e=e.nice,t=t.extent();t[0]<=0&&(0<t[1]?t[0]=Math.min(1,t[1]/1e3):t[0]=1),t[1]<=t[0]&&(t[1]=1e3*t[0]);t=function t(){var e=Pv(Av()).domain([1,10]);return e.copy=function(){return jv(e,t()).base(e.base())},gv.apply(e,arguments),e}().domain(t);e&&t.nice();e=t.domain();return 0<(n=n===r?r=null:n)&&(e[0]=n),0<r&&(e[1]=r),t.domain(e),t.type="numeric",t}function Qv(t,e){var n=e.min,r=e.max,i=e.format,e=e.nice,t=t.extent(),t=Hv().domain(t);e&&t.nice(),i&&t.tickFormat(null,i);e=t.domain();return(n=n===r?r=null:n)&&(e[0]=i(n)),r&&(e[1]=i(r)),t.domain(e),t.type="datetime",t}function Wv(t,e){if(e.step)return e.step();var n=t.uniqueAscending().map(function(t){return e(t)}),r=n.length;if(r<2)return 0;for(var i=1/0,o=1;o<r;o++)var a=Math.abs(n[o]-n[o-1]),i=Math.min(i,a);return i}function Vv(s,t){var l=t.x;return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.xData(),n={nice:l.nice};e.string_array?(o=Zv,n.edge_padding=l.edge_padding):e.datetime_array?(o=Qv,n.min=l.datetime_min,n.max=l.datetime_max,n.format=s.xDatetimeParse()):"log"===l.numeric_scale_type?(o=qv,n.min=l.log_min,n.max=l.log_max):(o=Gv,n.min=l.linear_min,n.max=l.linear_max,n.include_zero="off"!==l.zero_axis&&("on"===l.zero_axis||s.xZeroAxis()));var r=o(e,n);if(t.domain_only)return r;var i=s.plot_width,o=s.margins.left,e=function(t,e,n){var r={left:0,right:0},i=t.xData();if(i.string_array)return r;var o=(s=t.xPadding()).left,a=s.right,s=s.unit;if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==s)return r;if("px"===s||!o&&!a)return{left:o,right:a};var l=i.uniqueAscending(),c=l.length;if(c<2)return r;for(var u=1/0,f=1;f<c;f++)var d=Math.abs(l[f]-l[f-1]),u=Math.min(u,d);return n=Math.max.apply(Math,ja(n))-Math.min.apply(Math,ja(n)),n=t.plot_width/((n+(o+a)*u)/u),{left:o*n,right:a*n}}(s,l,r.domain()),n=e.left,o=o+n,e=[o,o+(i-(n+e.right))],a=t.global&&s.offsetLeft();return a&&(e=e.map(function(t){return t+a})),r.range(e)}}function Xv(s,t){var l=t.y;return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.yData(),n={nice:l.nice};e.string_array?(o=Zv,n.edge_padding=l.edge_padding):e.datetime_array?(o=Qv,n.min=l.datetime_min,n.max=l.datetime_max,n.format=s.yDatetimeParse()):"log"===l.numeric_scale_type?(o=qv,n.min=l.log_min,n.max=l.log_max):(o=Gv,n.min=l.linear_min,n.max=l.linear_max,n.include_zero="off"!==l.zero_axis&&("on"===l.zero_axis||s.yZeroAxis()));var r=o(e,n);if(t.domain_only)return r;var i=s.plot_height,o=s.margins.top,e=function(t,e,n){var r={bottom:0,top:0},i=t.yData();if(i.string_array)return r;var o=(s=t.yPadding()).bottom,a=s.top,s=s.unit;if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==s)return r;if("px"===s||!o&&!a)return{bottom:o,top:a};var l=i.uniqueAscending(),c=l.length;if(c<2)return r;for(var u=1/0,f=1;f<c;f++)var d=Math.abs(l[f]-l[f-1]),u=Math.min(u,d);return n=Math.max.apply(Math,ja(n))-Math.min.apply(Math,ja(n)),n=t.plot_height/((n+(o+a)*u)/u),{bottom:o*n,top:a*n}}(s,l,r.domain()),n=e.bottom,e=e.top,n=i-(n+e),a=t.global&&s.offsetTop(),e=o+e,e=[e+n,e];return a&&(e=e.map(function(t){return t+a})),r.range(e)}}function $v(s,t){var l=t.y2;return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.y2Data(),n={nice:l.nice};e.string_array?(o=Zv,n.edge_padding=l.edge_padding):e.datetime_array?(o=Qv,n.min=l.datetime_min,n.max=l.datetime_max,n.format=s.y2DatetimeParse()):"log"===l.numeric_scale_type?(o=qv,n.min=l.log_min,n.max=l.log_max):(o=Gv,n.min=l.linear_min,n.max=l.linear_max,n.include_zero="off"!==l.zero_axis&&("on"===l.zero_axis||s.y2ZeroAxis()));var r=o(e,n);if(t.domain_only)return r;var i=s.plot_height,o=s.margins.top,e=function(t,e,n){var r={bottom:0,top:0},i=t.y2Data();if(i.string_array)return r;var o=(s=t.y2Padding()).bottom,a=s.top,s=s.unit;if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==s)return r;if("px"===s||!o&&!a)return{bottom:o,top:a};var l=i.uniqueAscending(),c=l.length;if(c<2)return r;for(var u=1/0,f=1;f<c;f++)var d=Math.abs(l[f]-l[f-1]),u=Math.min(u,d);return n=Math.max.apply(Math,ja(n))-Math.min.apply(Math,ja(n)),n=t.plot_width/((n+(o+a)*u)/u),{bottom:o*n,top:a*n}}(s,l,r.domain()),n=e.bottom,e=e.top,n=i-(n+e),a=t.global&&s.offsetTop(),e=o+e,e=[e+n,e];return a&&(e=e.map(function(t){return t+a})),r.range(e)}}function Jv(e){var n=!1;return function(t){return void 0===t?n:(n=!!t,e)}}function Kv(e){var n=!1,r=!1;return function(t){return void 0===t?!!n&&{keep_gridlines:r}:(n=!!t,r=!(!t||"object"!==Zs(t)||!t.keep_gridlines),e)}}function tb(t,e,n){var r,i,o,a,s=2<arguments.length&&void 0!==n?n:"x",l=e[s],n=t[s+"Scale"]({domain_only:!0}),e=t[s+"Data"]();return("x"===s?"off"===l.axis_position:!l.axis_visible)?[]:e.string_array?n.domain():"number"===l.tick_mode?n.ticks(l.tick_number):(e=e.datetime_array,s="custom"===l.tick_mode?(r=t[s+(e?"Datetime":"Number")+"Parse"](),l.tick_custom.split("\n").filter(function(t){return t}).map(function(t){return t.trim()}).map(function(t){return r(t)})):(a=t[s+"AutoTicks"](),Array.isArray(a)?a:a()),s=(a=s).length?H1(a[0])?Array.from(new Set(a.map(function(t){return t.getTime()}))).map(function(t){return new Date(t)}):Array.from(new Set(a)):a.slice(),n=n.domain(),i=Math.min.apply(Math,ja(n)),o=Math.max.apply(Math,ja(n)),e?s.filter(function(t){return H1(e=t)&&!isNaN(e.getTime())&&i<=t&&t<=o;var e}):s.filter(function(t){return!isNaN(t)&&i<=t&&t<=o}))}function eb(t,e){return function(){t.xTicks._update(tb(t,e,"x")),t.yTicks._update(tb(t,e,"y")),t.y2Ticks._update(tb(t,e,"y2"))}}function nb(t,e){var n=t.significant_digits-e.significant_digits;return n||((n=e.exponent-t.exponent)||(n=Math.abs(e.value)-Math.abs(t.value))?n:n=e.value-t.value)}function rb(t){t.style("user-select","none").style("-moz-user-select","none").style("-webkit-user-select","none").style("-ms-user-select","none").style("cursor","default")}function ib(g,_){var m,y,v,b,x,w,M,k,j,A,T,z,N,D,S,I,i,E,L,C,O=_.x;var P,R,F,Y,p,t,U,B,H,n=(t=g.chart.select("g.fl-bottom-axis"),R=t.select("g.fl-axis-line"),F=t.select("g.fl-axis-ticks"),Y=t.select("g.fl-axis-title"),function(){var s=O.axis_position,t={pos:s},e=!g.xHide()&&-1!==["bottom","float-below"].indexOf(s),n=e?g.xTicks():[],r=g.y_bottom;void 0===P&&(P=r);var i=r+I1(O.title_padding);function o(t,e){return void 0===t||isNaN(t)?e:t}"bottom"===s&&(i+=j+n.max_box_height,t.extended_gridline=r+j+n.max_box_height);var a=P,l=r;"float-below"===s&&(a=o((C||y)(O.y_axis_position),P),l=o(y(O.y_axis_position),r));var c=R.selectAll("line").data(e&&O.line_visible?[m.domain()]:[]);c.exit().style("stroke",b).style("stroke-width",x).transition().duration(v).attr("x1",z).attr("x2",D).attr("y1",l).attr("y2",l).style("opacity",0).remove();var u=c.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",x).attr("x1",S).attr("x2",I).attr("y1",a).attr("y2",a).style("opacity",0);c.merge(u).style("stroke",b).style("stroke-width",x).transition().duration(v).attr("x1",z).attr("x2",D).attr("y1",l).attr("y2",l).style("opacity",1);u=e?n:[];"numeric"===n.type&&"custom"!==O.tick_mode&&(u=n.slice().sort(nb));function f(t){var e="default"==O.tick_label_position?-O.tick_label_angle:-90,n=O1(e,0,0);return"default"===O.tick_label_position?0==e?C1(t.text_width/2,j+.66*k):-90==e?C1(0,j)+" "+n+" "+C1(0,.33*k-t.multiline_offset):C1(0,j)+" "+n+" "+C1(0,.66*k):(t="left"===O.tick_label_position?-.3:1,C1(0,j)+" "+n+" "+C1(0,k*t))}n=F.selectAll("g").data(u,function(t){return t.type+"-"+t.value}),u=n.exit();u.transition().duration(v).attr("transform",function(t){return C1(L(t.value),l)}).style("opacity",0).remove(),u.each(function(){var t=j0(this);t.select("line").style("stroke",b).style("stroke-width",x).transition().duration(v).attr("y2",M),t.select("text").style("fill",w).style("font-size",k+"px").style("font-weight",O.tick_label_weight).attr("transform",f).transition().duration(v)});u=n.enter().append("g").style("opacity",0);u.attr("transform",function(t){return C1(E(t.value),a)}),u.each(function(){var t=j0(this);t.append("line").attr("y2",M),t.append("text").attr("text-anchor","middle").attr("transform",f).call(rb)});u=n.merge(u);u.transition().duration(v).style("opacity",1).attr("transform",function(t){return C1(m(t.value),l)});var d,h,p=(d=[],h=l+j,function(t){var e=m(t.value);if("float-below"===s){var n=m.range();if(_.y.axis_visible)if(e-t.box_width_left<n[0])return 0;if(_.y2.axis_visible)if(e+t.box_width_right>n[1])return 0}for(var n=[e,h],r=[n,[e+t.box_width_right,h+t.box_height_right]],i=[n,[e-t.box_width_left,h+t.box_height_left]],o=0;o<d.length;o++){var a=d[o];if(e<=a.x_anchor){if(Y1(r,a.q))return 0}else if(Y1(a.p,i))return 0}return d.push({x_anchor:e,p:r,q:i}),1});u.each(function(){var t=j0(this);t.select("line").style("stroke",b).style("stroke-width",x).transition().duration(v).attr("y2",M),t.select("text").each(function(){var t=j0(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?O.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).attr("text-anchor","end").style("fill",w).style("font-size",k+"px").style("font-weight",O.tick_label_weight).transition().duration(v).style("opacity",p).attr("transform",f)});e=Y.selectAll("text").data(e&&T?[T]:[]);return e.exit().remove(),e.enter().append("text").attr("text-anchor","middle").style("font-size",A+"px").style("fill",O.title_color).style("font-weight",O.title_weight).call(rb).transition().duration(0).delay(v).text(function(t){return t}).attr("x",N).attr("y",i).attr("dy",A),e.text(function(t){return t}).style("fill",O.title_color).style("font-size",A+"px").style("font-weight",O.title_weight).transition().duration(v).attr("x",N).attr("y",i).attr("dy",A),P=r,"bottom"==s?t:null}),r=(t=g.chart.select("g.fl-top-axis"),U=t.select("g.fl-axis-line"),B=t.select("g.fl-axis-ticks"),H=t.select("g.fl-axis-title"),function(){var s=O.axis_position,t={pos:s},e=!g.xHide()&&-1!==["top","float-above"].indexOf(s),n=e?g.xTicks():[],r=g.y_top;void 0===p&&(p=r);var i=r-I1(O.title_padding);"top"===s&&(i-=j+n.max_box_height,t.extended_gridline=r-(j+n.max_box_height));var o="float-above"===s?(C||y)(O.y_axis_position):p,a="float-above"===s?y(O.y_axis_position):r,l=U.selectAll("line").data(e&&O.line_visible?[m.domain()]:[]);l.exit().style("stroke",b).style("stroke-width",x).transition().duration(v).attr("x1",z).attr("x2",D).attr("y1",a).attr("y2",a).style("opacity",0).remove();var c=l.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",x).attr("x1",S).attr("x2",S).attr("y1",o).attr("y2",o).style("opacity",0);l.merge(c).style("stroke",b).style("stroke-width",x).transition().duration(v).attr("x1",z).attr("x2",D).attr("y1",a).attr("y2",a).style("opacity",1);c=[];e&&(c="numeric"===n.type?n.slice().sort(nb):n);function u(t){var e="default"==O.tick_label_position?-O.tick_label_angle:-90,n=O1(e,0,0);return"default"===O.tick_label_position?0==e?C1(-t.text_width/2,-(j+.33*k)):-90==e?C1(0,-j)+" "+n+" "+C1(0,.33*k-t.multiline_offset):C1(0,-j)+" "+n+C1(0,-t.multiline_offset):(t="left"===O.tick_label_position?-.3:1,C1(0,-j)+" "+n+" "+C1(0,k*t))}n=B.selectAll("g").data(c,function(t){return t.type+"-"+t.value}),c=n.exit();c.transition().duration(v).attr("transform",function(t){return C1(L(t.value),a)}).style("opacity",0).remove(),c.each(function(){var t=j0(this);t.select("line").style("stroke",b).style("stroke-width",x).transition().duration(v).attr("y2",-M),t.select("text").style("fill",w).style("font-size",k+"px").style("font-weight",O.tick_label_weight).attr("transform",u).transition().duration(v)});c=n.enter().append("g").style("opacity",0);c.attr("transform",function(t){return C1(E(t.value),o)}),c.each(function(){var t=j0(this);t.append("line").attr("y2",-M),t.append("text").attr("text-anchor","middle").attr("transform",u).call(rb)});c=n.merge(c);c.transition().duration(v).style("opacity",1).attr("transform",function(t){return C1(m(t.value),a)});var f,d,h=(f=[],d=a+j,function(t){var e=m(t.value);if("float-above"===s){var n=m.range();if(_.y.axis_visible)if(e-t.box_width_left<n[0])return 0;if(_.y2.axis_visible)if(e+t.box_width_right>n[1])return 0}for(var n=[e,d],r=[n,[e-t.box_width_left,d-t.box_height_left]],i=[n,[e+t.box_width_right,d-t.box_height_right]],o=0;o<f.length;o++){var a=f[o];if(e<=a.x_anchor){if(Y1(i,a.p))return 0}else if(Y1(r,a.q))return 0}return f.push({x_anchor:e,p:r,q:i}),1});c.each(function(){var t=j0(this);t.select("line").style("stroke",b).style("stroke-width",x).transition().duration(v).attr("y2",-M),t.select("text").each(function(){var t=j0(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?O.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).attr("text-anchor","start").style("fill",w).style("font-size",k+"px").style("font-weight",O.tick_label_weight).transition().duration(v).style("opacity",h).attr("transform",u)});e=H.selectAll("text").data(e&&T?[T]:[]);return e.exit().remove(),e.enter().append("text").attr("text-anchor","middle").style("font-size",A+"px").style("fill",O.title_color).style("font-weight",O.title_weight).call(rb).transition().duration(0).delay(v).text(function(t){return t}).attr("x",N).attr("y",i).attr("dy",-.33*A),e.text(function(t){return t}).style("fill",O.title_color).style("font-size",A+"px").style("font-weight",O.title_weight).transition().duration(v).attr("x",N).attr("y",i).attr("dy",-.33*A),p=r,"top"==s?t:null});return function(){!function(){m=B1(g.xScale()),y=B1(g.yScale()),v=i?g.animationDuration():0,z=g.x_left,D=g.x_right,N=(z+D)/2,void 0===S&&(S=z),E=(i=i||m).type===m.type&&"ordinal"!==m.type?i:m,L=i.type===m.type&&"ordinal"!==i.type?m:i,b=O.line_and_tick_color,x=I1(O.line_and_tick_width,!0),w=O.tick_label_color;var t="default"===O.tick_label_position,e=g.xTicks(),n=e.max_box_height,r=e.length?I1(O.tick_padding):0;"top"!=O.axis_position&&"bottom"!=O.axis_position||(n+=r),e="out"===O.tick_side,M=t?I1(O.tick_length)*(e?1:-1):n,k=I1(O.tick_label_size),j=(e&&t?M:0)+r,A=I1(O.title_size),T=g.xTitle()}();var t=n(),e=r();return i=m,C=y,S=z,I=D,t||e}}function ob(T,t){var z,N,D,S,I,e=T.chart.select("g.fl-left-axis"),E=e.select("g.fl-axis-line"),L=e.select("g.fl-axis-ticks"),C=e.select("g.fl-axis-title"),O=t.y;return function(){var t={},e=O.axis_visible&&!T.yHide(),n=B1(T.xScale()),s=B1(T.yScale()),r=e?T.yTicks():[],i=z?T.animationDuration():0;z=z||n;var o=(N=N||s).type===s.type&&"ordinal"!==s.type?N:s,a=N.type===s.type&&"ordinal"!==N.type?s:N,l=T.y_bottom,c=T.y_top;void 0===D&&(D=l),void 0===S&&(S=c);var u=T.x_left;void 0===I&&(I=u);var f=O.line_and_tick_color,d=I1(O.line_and_tick_width,!0),h=O.tick_label_color,p="default"===O.tick_label_position,g="out"===O.tick_side,_=I1(O.tick_padding),m=T.yTicks().max_box_width+_,y=p?I1(O.tick_length)*(g?1:-1):m,v=I1(O.tick_label_size),b=(g&&p?y:0)+_,m=T.yTitle(),g=I1(O.title_size),x=b+r.max_box_width+I1(O.title_padding)+.33*g;t.extended_gridline=u-(b+r.max_box_width);var w=(c+l)/2,p=E.selectAll("line").data(e&&O.line_visible?[s.domain()]:[]);p.exit().style("stroke",f).style("stroke-width",d).transition().duration(i).attr("x1",u).attr("x2",u).attr("y1",l).attr("y2",c).style("opacity",0).remove();_=p.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",d).attr("x1",I).attr("x2",I).attr("y1",D).attr("y2",S).style("opacity",0);p.merge(_).style("stroke",f).style("stroke-width",d).transition().duration(i).attr("x1",u).attr("x2",u).attr("y1",l).attr("y2",c).style("opacity",1);p=e?r:[];function M(t){if("default"!==O.tick_label_position)return C1(-b-(r.max_box_width-t.box_width),("above"===O.tick_label_position?-.3:1)*v);var e=-O.tick_label_angle;if(0==e)return C1(-b,.33*v-t.multiline_offset);var n=C1(-b,0)+" "+O1(e);return-90==e&&(n+=" "+C1(t.text_width/2,0)),n}"numeric"===r.type&&"custom"!==O.tick_mode&&(p=r.slice().sort(nb));_=L.selectAll("g").data(p,function(t){return t.type+"-"+t.value}),p=_.exit();p.transition().duration(i).attr("transform",function(t){return C1(u,a(t.value))}).style("opacity",0).remove(),p.each(function(){var t=j0(this);t.select("line").style("stroke",f).style("stroke-width",d).transition().duration(i).attr("x2",-y),t.select("text").style("fill",h).style("font-size",v+"px").style("font-weight",O.tick_label_weight).attr("transform",M).transition().duration(i)});p=_.enter().append("g").style("opacity",0);p.attr("transform",function(t){return C1(I,o(t.value))}),p.each(function(){var t=j0(this);t.append("line").attr("x2",-y),t.append("text").attr("text-anchor","end").attr("transform",M).call(rb)});p=_.merge(p);p.transition().duration(i).style("opacity",1).attr("transform",function(t){return C1(u,s(t.value))});var k,j,A=(k=[],j=u-b,function(t){for(var e=s(t.value),n=[j,e],r=[n,[j-t.box_width_above,e-t.box_height_above]],i=[n,[j-t.box_width_below,e+t.box_height_below]],o=0;o<k.length;o++){var a=k[o];if(e>=a.y_anchor){if(Y1(r,a.q))return 0}else if(Y1(a.p,i))return 0}return k.push({y_anchor:e,p:r,q:i}),1});p.each(function(){var t=j0(this);t.select("line").style("stroke",f).style("stroke-width",d).transition().duration(i).attr("x2",-y),t.select("text").each(function(){var t=j0(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?O.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).style("fill",h).style("font-size",v+"px").style("font-weight",O.tick_label_weight).transition().duration(i).style("opacity",A).attr("transform",M)});e=C.selectAll("text").data(e&&m?[m]:[]);e.exit().remove();m=function(){return C1(u,w)+" "+O1(-90)+" "+C1(0,-x)};return e.enter().append("text").attr("text-anchor","middle").style("font-size",g+"px").style("fill",O.title_color).style("font-weight",O.title_weight).call(rb).transition().duration(0).delay(i).text(function(t){return t}).attr("x",0).attr("y",0).attr("transform",m),e.text(function(t){return t}).style("fill",O.title_color).style("font-size",g+"px").style("font-weight",O.title_weight).transition().duration(i).attr("x",0).attr("y",0).attr("transform",m),z=n,N=s,D=l,S=c,I=u,t}}function ab(T,t){var z,N,D,S,I,e=T.chart.select("g.fl-right-axis"),E=e.select("g.fl-axis-line"),L=e.select("g.fl-axis-ticks"),C=e.select("g.fl-axis-title"),O=t.y2;return function(){var t={},e=O.axis_visible&&!T.y2Hide(),n=B1(T.xScale()),s=B1(T.y2Scale()),r=e?T.y2Ticks():[],i=z?T.animationDuration():0;z=z||n;var o=(N=N||s).type===s.type&&"ordinal"!==s.type?N:s,a=N.type===s.type&&"ordinal"!==N.type?s:N,l=T.y_bottom,c=T.y_top;void 0===D&&(D=l),void 0===S&&(S=c);var u=T.x_right;void 0===I&&(I=u);var f=O.line_and_tick_color,d=I1(O.line_and_tick_width,!0),h=O.tick_label_color,p="default"===O.tick_label_position,g="out"===O.tick_side,_=I1(O.tick_padding),m=T.y2Ticks().max_box_width+_,y=p?I1(O.tick_length)*(g?1:-1):m,v=I1(O.tick_label_size),b=(g&&p?y:0)+_,m=T.y2Title(),g=I1(O.title_size),x=b+r.max_box_width+I1(O.title_padding)+.85*g;t.extended_gridline=u+b+r.max_box_width;var w=(l+c)/2,p=E.selectAll("line").data(e&&O.line_visible?[s.domain()]:[]);p.exit().style("stroke",f).style("stroke-width",d).transition().duration(i).attr("x1",u).attr("x2",u).attr("y1",l).attr("y2",c).style("opacity",0).remove();_=p.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",d).attr("x1",I).attr("x2",I).attr("y1",D).attr("y2",S).style("opacity",0);p.merge(_).style("stroke",f).style("stroke-width",d).transition().duration(i).attr("x1",u).attr("x2",u).attr("y1",l).attr("y2",c).style("opacity",1);p="numeric"===r.type?r.slice().sort(nb):r;function M(t){if("default"!==O.tick_label_position)return C1(b+(r.max_box_width-t.box_width),("above"===O.tick_label_position?-.3:1)*v);var e=-O.tick_label_angle;if(0==e)return C1(b,.33*v-t.multiline_offset);var n=C1(b,0)+" "+O1(e);return-90==e&&(n+=" "+C1(t.text_width/2,0)),n}_=L.selectAll("g").data(p,function(t){return t.type+"-"+t.value}),p=_.exit();p.transition().duration(i).attr("transform",function(t){return C1(u,a(t.value))}).style("opacity",0).remove(),p.each(function(){var t=j0(this);t.select("line").style("stroke",f).style("stroke-width",d).transition().duration(i).attr("x2",-y),t.select("text").style("fill",h).style("font-size",v+"px").style("font-weight",O.tick_label_weight).attr("transform",M).transition().duration(i)});p=_.enter().append("g").style("opacity",0);p.attr("transform",function(t){return C1(I,o(t.value))}),p.each(function(){var t=j0(this);t.append("line").attr("x2",y),t.append("text").attr("text-anchor","start").attr("transform",M).call(rb)});p=_.merge(p);p.transition().duration(i).style("opacity",1).attr("transform",function(t){return C1(u,s(t.value))});var k,j,A=(k=[],j=u+b,function(t){for(var e=s(t.value),n=[j,e],r=[n,[j-t.box_width_above,e-t.box_height_above]],i=[n,[j-t.box_width_below,e+t.box_height_below]],o=0;o<k.length;o++){var a=k[o];if(e>=a.y_anchor){if(Y1(r,a.q))return 0}else if(Y1(a.p,i))return 0}return k.push({y_anchor:e,p:r,q:i}),1});p.each(function(){var t=j0(this);t.select("line").style("stroke",f).style("stroke-width",d).transition().duration(i).attr("x2",y),t.select("text").each(function(){var t=j0(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?O.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).style("fill",h).style("font-size",v+"px").style("font-weight",O.tick_label_weight).transition().duration(i).style("opacity",A).attr("transform",M)});e=C.selectAll("text").data(e&&m?[m]:[]);e.exit().remove();m=function(){return C1(u,w)+" "+O1(-90)+" "+C1(0,x)};return e.enter().append("text").attr("text-anchor","middle").style("font-size",g+"px").style("fill",O.title_color).style("font-weight",O.title_weight).call(rb).transition().duration(0).delay(i).text(function(t){return t}).attr("x",0).attr("y",0).attr("transform",m),e.text(function(t){return t}).style("fill",O.title_color).style("font-size",g+"px").style("font-weight",O.title_weight).transition().duration(i).attr("x",0).attr("y",0).attr("transform",m),z=n,N=s,D=l,S=c,I=u,t}}var sb={solid:null,dash:[4,1],dot:[1,1],dot_dash:[4,1,1,1]};function lb(t){if("solid"===t)return null;var e=I1(1)/4;return sb[t].map(function(t){return t*e}).join(" ")}function cb(i,t){var l,c,u,f,d,h,p,g,_,o,a,s,m,y,e,n,r,v,b,x,w,M,k,j,A,T,z,N,D,S,I,E,L,C=eb(i,t),O=(c=t,u=(l=i).chart.select("clipPath.fl-data-clip-path"),f=u.select("rect"),d=l.chart.select("clipPath.fl-grid-clip-path"),h=d.select("rect"),p=l.chart.select(".fl-data-background"),g=l.chart.select(".fl-data-foreground"),_=l.chart.select(".fl-gridlines"),function(){var t=l.identifier()+"-clip-path",e="url(#"+t+")";u.attr("id",t);var n=l.identifier()+"-grid-clip-path",r="url(#"+n+")";d.attr("id",n),p.attr("clip-path",e),g.attr("clip-path",e),_.attr("clip-path",r);var i=l.x_left,o=l.x_right,a=l.y_top,s=l.y_bottom,t=l.clip(),n=t.left?i:0,e=t.top?a:0,r=Math.max((t.right?o:l.width())-n,1),t=Math.max((t.bottom?s:l.height())-e,1);f.attr("x",n).attr("y",e).attr("width",r).attr("height",t);r=I1(c.x.gridline_width,!0),t=I1(c.y.gridline_width,!0);h.transition().duration(l.animationDuration()).attr("x",i-r).attr("y",a-t).attr("width",o-i+2*r).attr("height",s-a+2*t)}),P=(o=i,a=t.background,s=o.chart.select("rect.fl-chart-fill"),m=o.chart.select("image.fl-chart-image"),y=o.chart.select("rect.fl-chart-interaction"),function(){var t=o.xScale().range(),e=o.yScale().range(),n=t[0],r=e[1],t=Math.max(o.plot_width,1),e=Math.max(o.plot_height,1);s.attr("x",n).attr("y",r).attr("width",t).attr("height",e).attr("fill",a.background_color_enabled?a.background_color:"none"),m.attr("x",n).attr("y",r).attr("width",t).attr("height",e).attr("xlink:href",a.background_image_enabled?a.background_image_src:null).attr("preserveAspectRatio",function(){return"stretch"==a.background_image_size?"none":a.background_image_position+" "+a.background_image_size}),y.attr("x",n).attr("y",r).attr("width",t).attr("height",e)}),R=(r=ib(e=i,n=t),v=ob(e,n),b=ab(e,n),function(){return{x:r(),y:v(),y2:b()}}),F=(x=i,D=(w=t).x,S=w.y,I=w.y2,E=x.chart.select("g.fl-gridlines-vertical"),L=x.chart.select("g.fl-gridlines-horizontal"),function(r){var e=B1(x.xScale()),n=B1(x.yScale()),i=B1(x.y2Scale()),t=x.x_left,o=x.x_right;void 0===A&&(A=t),void 0===T&&(T=o);var a=x.y_bottom,s=x.y_top;void 0===z&&(z=a),void 0===N&&(N=s),k=k||n,j=j||i;var l,c=(M=M||e).type===e.type&&"ordinal"!==e.type?M:e,u=M.type===e.type&&"ordinal"!==M.type?e:M,f=k.type===n.type&&"ordinal"!==n.type?k:n,d=k.type===n.type&&"ordinal"!==k.type?n:k,h=j.type===i.type&&"ordinal"!==j.type?j:i,p=j.type===i.type&&"ordinal"!==j.type?i:j,g=M?x.animationDuration():0,_=function(t){if("x"===t&&"off"===w.x.axis_position)return[];if("x"!==t&&!w[t].axis_visible)return[];if(!w[t].gridlines_visible)return[];var e=x[t+"Hide"]();return e&&!e.keep_gridlines?[]:x[t+"Ticks"]()},m=_("x"),y=_("y"),_=_("y2"),m=m.map(function(t){return{type:t.type,value:t.value,dasharray:lb(D.gridline_style),stroke:D.gridline_color,width:I1(D.gridline_width,!0),x_enter:c(t.value),x:e(t.value)}});D.gridline_category_dividers&&e.step&&(l=e.step(),m.pop(),m.forEach(function(t){var e,n;t.x_enter+=l/2,t.x+=l/2,D.gridline_category_dividers_extend&&(e=r.x&&"top"==r.x.pos,n=r.x&&"bottom"==r.x.pos,e?t.y2=r.x.extended_gridline:n&&(t.y1=r.x.extended_gridline))}));var v,y=y.map(function(t){return{axis:"y",type:t.type,value:t.value,dasharray:lb(S.gridline_style),stroke:S.gridline_color,width:I1(S.gridline_width,!0),y_enter:f(t.value),y:n(t.value)}});S.gridline_category_dividers&&n.step&&(v=n.step(),y.pop(),y.forEach(function(t){t.y_enter-=v/2,t.y-=v/2,S.gridline_category_dividers_extend&&(t.x1=r.y.extended_gridline)}));var b,_=_.map(function(t){return{axis:"y2",type:t.type,value:t.value,dasharray:lb(I.gridline_style),stroke:I.gridline_color,width:I1(I.gridline_width),y_enter:h(t.value),y:i(t.value)}});I.gridline_category_dividers&&i.step&&(b=i.step(),_.pop(),_.forEach(function(t){t.y_enter-=b/2,t.y-=b/2,I.gridline_category_dividers_extend&&(t.x2=r.y2.extended_gridline)}));y=y.concat(_),_=E.selectAll("line").data(m,function(t){return t.type+"-"+t.value});_.exit().attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(g).attr("x1",function(t){return u(t.value)}).attr("x2",function(t){return u(t.value)}).attr("y1",a).attr("y2",s).style("opacity",0).remove();m=_.enter().append("line").style("shape-rendering","crispEdges").attr("x1",function(t){return t.x_enter}).attr("x2",function(t){return t.x_enter}).attr("y1",z).attr("y2",N).style("opacity",0);_.merge(m).attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(g).attr("x1",function(t){return t.x}).attr("x2",function(t){return t.x}).attr("y1",a).attr("y2",s).style("opacity",1);s=L.selectAll("line").data(y,function(t){return t.axis+"-"+t.type+"-"+t.value});s.exit().attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(g).attr("x1",t).attr("x2",o).attr("y1",function(t){return("y"===t.axis?d:p)(t.value)}).attr("y2",function(t){return("y"===t.axis?d:p)(t.value)}).style("opacity",0).remove();y=s.enter().append("line").style("shape-rendering","crispEdges").attr("x1",A).attr("x2",T).attr("y1",function(t){return t.y_enter}).attr("y2",function(t){return t.y_enter}).style("opacity",0);s.merge(y).attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(g).attr("x1",t).attr("x2",o).attr("y1",function(t){return t.y}).attr("y2",function(t){return t.y}).style("opacity",1),M=e,k=n,j=i,A=t,T=o});return function(t){var n,r,e;if(t=t||{},n=parseFloat(getComputedStyle(document.documentElement).fontSize),r=window.devicePixelRatio,I1=function(t,e){return t?e?Math.max(Math.round(t*n*r),1)/r:t*n:0},e=null,(i.offsetLeft()||i.offsetTop())&&(e="translate("+i.offsetLeft()+","+i.offsetTop()+")"),i.chart.attr("transform",e),C(),e=t.margins,i.margins._update(e),t.skip_rendering)return i;O(),P();t=R();return F(t),i}}function ub(t,e){e=pd(e);var n,r,i,o,a,s,l,c={},u=function(t){var e=t&&t.select&&t.selectAll?j0(t.node()):j0(t),n=e.node();if(!n)throw new Error("Chart layout instance must have a target");var r=A0(n);return{container:e,getSvg:function(){if(r)return e;for(var t=n.parentElement;t&&!A0(t);)t=t.parentElement;if(!A0(t))throw new Error("target must be an SVG or a descendant of an SVG");return j0(t)}}}(t);Object.defineProperty(c,"svg",{get:u.getSvg}),c.container=u.container,c.chart=(($=(n=c).container.append("g").attr("class","fl-chart")).append("clipPath").attr("class","fl-data-clip-path").append("rect"),$.append("clipPath").attr("class","fl-grid-clip-path").append("rect"),(t=(t=$).append("g").attr("class","fl-chart-background")).append("rect").attr("class","fl-chart-fill"),t.append("image").attr("class","fl-chart-image"),t.append("rect").attr("class","fl-chart-interaction").style("opacity",0),$.append("g").attr("class","fl-data-background"),(u=(u=$).append("g").attr("class","fl-gridlines").style("pointer-events","none")).append("g").attr("class","fl-gridlines-vertical"),u.append("g").attr("class","fl-gridlines-horizontal"),t=(n=$).append("g").attr("class","fl-axes"),u=t.append("g").attr("class","fl-x-axes"),n=t.append("g").attr("class","fl-y-axes"),(t=u.append("g").attr("class","fl-axis fl-x-axis fl-bottom-axis")).append("g").attr("class","fl-axis-line"),t.append("g").attr("class","fl-axis-ticks"),t.append("g").attr("class","fl-axis-title"),(u=u.append("g").attr("class","fl-axis fl-x-axis fl-top-axis")).append("g").attr("class","fl-axis-line"),u.append("g").attr("class","fl-axis-ticks"),u.append("g").attr("class","fl-axis-title"),(u=n.append("g").attr("class","fl-axis fl-y-axis fl-left-axis")).append("g").attr("class","fl-axis-line"),u.append("g").attr("class","fl-axis-ticks"),u.append("g").attr("class","fl-axis-title"),(n=n.append("g").attr("class","fl-axis fl-y-axis fl-right-axis")).append("g").attr("class","fl-axis-line"),n.append("g").attr("class","fl-axis-ticks"),n.append("g").attr("class","fl-axis-title"),$.append("g").attr("class","fl-data-foreground"),$),c.data_background=c.chart.select("g.fl-data-background"),c.data_foreground=c.chart.select("g.fl-data-foreground"),c.identifier=(r=c,i="fl-chart-layout-"+T0++,function(t){return void 0===t?i:(i=t,r)}),c.clip=(o=c,a=z0,function(t){return void 0===t?a:(a=t?"object"!==Zs(t)?z0:Object.freeze({left:!!t.left,top:!!t.top,right:!!t.right,bottom:!!t.bottom}):N0,o)}),c.animationDuration=(s=c,l=0,function(t){return void 0===t?l:(l=t,s)});var f,d,h,p,g,_,m,y,v,b,x,w,M,k,j,A,T,z,N,D,S,I,E,L,C,O,P,R,F,Y,U,B,H,Z,G,q,Q,W,V,X,$=(f=c,g=p=h=null,(d={}).width=function(t){return void 0===t?null!==h?h:f.svg.node().getBoundingClientRect().width:(h=t,f)},d.height=function(t){return void 0===t?null!==p?p:null!==g?d.plotHeight()+f.margins.top+f.margins.bottom:f.svg.node().getBoundingClientRect().height:(p=t,g=null,f)},d.plotAspect=function(t){return void 0===t?null!==g?g:d.plotWidth()/d.plotHeight():(p=null,g=t,f)},d.plotWidth=function(){return f.width()-(f.margins.right+f.margins.left)},d.plotHeight=function(){return null===g?d.height()-(f.margins.top+f.margins.bottom):d.plotWidth()/g},d.xLeft=function(){return f.margins.left},d.xRight=function(){return f.width()-f.margins.right},d.yBottom=function(){return f.height()-f.margins.bottom},d.yTop=function(){return f.margins.top},d);return c.width=$.width,c.height=$.height,c.plotAspect=$.plotAspect,Object.defineProperty(c,"plot_width",{get:$.plotWidth}),Object.defineProperty(c,"plot_height",{get:$.plotHeight}),Object.defineProperty(c,"x_left",{get:$.xLeft}),Object.defineProperty(c,"x_right",{get:$.xRight}),Object.defineProperty(c,"y_bottom",{get:$.yBottom}),Object.defineProperty(c,"y_top",{get:$.yTop}),c.offsetLeft=(_=c,m=0,function(t){return void 0===t?m:(m=t,_)}),c.offsetTop=(y=c,v=0,function(t){return void 0===t?v:(v=t,y)}),c.margins=iv(c,e),c.xData=q1(c),c.yData=q1(c),c.y2Data=q1(c),c.xFormat=Dg(c),c.yFormat=Dg(c),c.y2Format=Dg(c),c.xNumberParse=e1(c),c.yNumberParse=e1(c),c.y2NumberParse=e1(c),c.xDatetimeParse=n1(c),c.yDatetimeParse=n1(c),c.y2DatetimeParse=n1(c),c.xTitle=(x=e,(b=c).xAutoTitle=tv(b),b.xAutoTitle("X"),function(){return("auto"===x.x.title_mode?b.xAutoTitle():x.x.title).trim()}),c.yTitle=(M=e,(w=c).yAutoTitle=tv(w),w.yAutoTitle("Y"),function(){return("auto"===M.y.title_mode?w.yAutoTitle():M.y.title).trim()}),c.y2Title=(j=e,(k=c).y2AutoTitle=tv(k),k.y2AutoTitle("Y2"),function(){return("auto"===j.y2.title_mode?k.y2AutoTitle():j.y2.title).trim()}),c.xTicks=(A=c,T=($=e).x,z=Object.freeze([]),N=A.chart.select(".fl-x-axes"),($=function(){return z})._update=function(t){var g,_=A.xData().string_array?"string":"numeric",e=L1(j0(".fl-x-axes"),T.tick_label_size,T.tick_label_weight),m="default"===T.tick_label_position?+T.tick_label_angle:90,y=0,v=A.xFormat(),b=I1(T.tick_label_size);N.append("text").style("opacity",0).style("font",e).each(function(){var t=j0(this).text(Q1).node().getBoundingClientRect();g=t.height}).remove(),"object"===Zs(t[0])&&(t=V1(t,v));var n=I1(T.tick_label_space);"auto"===T.tick_label_space_mode&&(n=A.xTicks.autoLabelSpace().px);var x=X1({text_height:g,max_space:n,font:e,angle:90-m,max_lines:T.tick_label_max_lines});return(z=t.map(function(t,e){var n,r,i,o,a,s,l=x(v(t)),c=l.lines,u=l.text_width,f=0,d=g*c.length+(c.length-1)*T.tick_label_line_height;0==m||90==m?(n=r=(a=0==m?u+I1(.5):d)/2,o=i=s=0==m?d:u,90==m&&(f=c.length<2?0:(c.length-1)/2*(b*T.tick_label_line_height))):(h=W1(m),l=Math.sin(h),a=(n=u*(h=Math.cos(h)))+(r=d*l),s=(i=u*l)+(o=d*h)),"top"!==T.axis_position&&"float-above"!==T.axis_position||(p=n,n=r,r=p,p=i,i=o,o=p,0!=m&&90!=m&&(f=c.length<2?0:(c.length-1)*(b*T.tick_label_line_height))),y=Math.max(y,s);var h="numeric"==_?F1(t):null,p="numeric"==_?R1(t):null;return Object.freeze({index:e,value:t,lines:c,significant_digits:h,exponent:p,text_width:u,text_height:g,box_width:a,box_height:s,box_width_left:n,box_width_right:r,box_height_left:i,box_height_right:o,multiline_offset:f})})).type=_,z.max_box_height="fixed"===T.tick_label_space_mode?I1(T.tick_label_space):y,Object.freeze(z),A},$.autoLabelSpace=$1(A,"height"),$),c.yTicks=J1(c,e,"y"),c.y2Ticks=J1(c,e,"y2"),c.xAutoTicks=(D=K1(c,"x"),function(t){return D(t)}),c.yAutoTicks=(S=K1(c,"y"),function(t){return S(t)}),c.y2AutoTicks=(I=K1(c,"y2"),function(t){return I(t)}),c.xScale=Vv(c,e),c.yScale=Xv(c,e),c.y2Scale=$v(c,e),c.xPadding=(E=c,L=["px","steps"],O=C=0,P="px",function(t){if(void 0===t)return{left:C,right:O,unit:P};var e=t.unit;if(e&&!L.includes(e))throw new Error('Unit "'.concat(e,'" not recognised'));e=t.left;C=void 0===e?C:e;e=t.right;O=void 0===e?O:e;t=t.unit;return P=void 0===t?P:t,E}),c.yPadding=(R=c,F=["px","steps"],U=Y=0,B="px",function(t){if(void 0===t)return{bottom:Y,top:U,unit:B};var e=t.unit;if(e&&!F.includes(e))throw new Error('Unit "'.concat(e,'" not recognised'));e=t.bottom;Y=void 0===e?Y:e;e=t.top;U=void 0===e?U:e;t=t.unit;return B=void 0===t?B:t,R}),c.y2Padding=(H=c,Z=["px","steps"],q=G=0,Q="px",function(t){if(void 0===t)return{bottom:G,top:q,unit:Q};var e=t.unit;if(e&&!Z.includes(e))throw new Error('Unit "'.concat(e,'" not recognised'));e=t.bottom;G=void 0===e?G:e;e=t.top;q=void 0===e?q:e;t=t.unit;return Q=void 0===t?Q:t,H}),c.xMinStep=(W=c,function(){return Wv(W.xData(),W.xScale())}),c.yMinStep=(V=c,function(){return Wv(V.yData(),V.yScale())}),c.y2MinStep=(X=c,function(){return Wv(X.y2Data(),X.y2Scale())}),c.xZeroAxis=Jv(c),c.yZeroAxis=Jv(c),c.y2ZeroAxis=Jv(c),c.xHide=Kv(c),c.yHide=Kv(c),c.y2Hide=Kv(c),c.y2Hide(!0),c.update=cb(c,e),c}var fb={render_mode:"svg",height_mode:"auto",facet_aspect:62,beeswarm_plot:!1,box_plot:!1,box_line_width:1,box_line_color:"#333333",box_opacity:.7,box_color:"#ffffff",box_whisker_type:"tukey",box_whisker_multiplier:1.5,violin_plot:!1,violin_bandwidth:null,violin_color:"#DADADA",violin_opacity:.8,violin_sizing:"area",violin_samples:50,facet_min_w:150,facet_min_h:100,facet_fixed_cols:!1,facet_cols:2,facet_gutter_w:1,facet_gutter_h:1,facet_header_color:"#888888",facet_header_font_size:1.25,facet_title_align:"auto",popup:{popup_width:16,panel_vertical_position:"center"},color_type:"auto",color:{},spectrum:"interpolateCool",legend_position:"above",legend_filtering_mode:"filter_out",text_legend:"off",text_legend_title:!0,text_legend_subtitle:!0,text_legend_bold:!0,legend_filter:[],categorical_legend:{swatch_width:1,swatch_radius:10},continuous_legend:{},lines_show:!0,line_width_responsive:!0,line_width:1,line_width_min:.75,line_width_max:1.25,line_opacity:1,line_curve:"curveLinear",line_color_mode:"by_dot",line_color:"#000000",line_animate_in:!0,line_animate_out:!1,line_per_facet:!0,line_arrows:!1,line_arrow_size:5,line_arrow_color_mode:"auto",line_arrow_color:"#000000",show_dots:!0,data_point_default_size:50,data_point_min_size:5,data_point_max_size:500,fill_opacity:.8,stroke_opacity:0,stroke_width:1,default_color:"#1D6996",default_shape:"symbolCircle",responsive_dots:!0,stroke_mode:"auto",stroke_color:"#1D6996",labels_show:!1,labels_selective:!1,labels_selected:[],label_color:null,label_color_type:"auto",label_font_size:12,labels_responsive:"chart",label_font_size_min:9,label_font_size_max:12,label_bg_size:20,label_align:"auto",label_offset:"top",animation_duration:1,animation_stagger:0,margin_top:1,margin_right:0,margin_bottom:0,margin_left:0,x:{},x_type:"auto",x_matching:!0,x_single_row:!0,y:{},y_type:"auto",y_matching:!0,y_single_col:!0,chart_bg:{},filter:{sort:"unsorted"},filter_updates_axes:"both",filter_show_all:!0,filter_show_all_text:"All",slider:{control_type:"slider",sort:"temporal",control_styles:!0},slider_updates_axes:"off",controls_style:{},button_style:{},dropdown_style:{},fit_type:"none",fit_force_origin:!1,fit_line_color:"#999999",fit_line_width:1,fit_line_dash:0,annotations:{},axes_highlights:{},time_label_show:!0,time_label_font_size:100,time_label_color:"#333333",time_label_opacity:.1,sort_categories:"spreadsheet",layout:{margin:10},localization:{},x_formatting:{},y_formatting:{},color_formatting:{},url_state:{}};function db(t){return ub(t,{x:fb.x,y:fb.y,background:fb.chart_bg})}function hb(){return parseFloat}function pb(){return function(t){return t.toString()}}var gb=new Date,_b=new Date;function mb(o,a,n,r){function s(t){return o(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return o(t=new Date(+t)),t},s.ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return a(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(t,e,n){var r,i=[];if(t=s.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return i;for(;i.push(r=new Date(+t)),a(t,n),o(t),r<t&&t<e;);return i},s.filter=function(n){return mb(function(t){if(t<=t)for(;o(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;a(t,-1),!n(t););else for(;0<=--e;)for(;a(t,1),!n(t););})},n&&(s.count=function(t,e){return gb.setTime(+t),_b.setTime(+e),o(gb),o(_b),Math.floor(n(gb,_b))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?s.filter(r?function(t){return r(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var yb=mb(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1});function vb(e){return mb(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var bb=vb(0),xb=vb(1);vb(2),vb(3);var wb=vb(4);vb(5),vb(6);qt=mb(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});qt.every=function(n){return isFinite(n=Math.floor(n))&&0<n?mb(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var Mb=qt,kb=mb(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});function jb(e){return mb(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var Ab=jb(0),Tb=jb(1);jb(2),jb(3);var zb=jb(4);jb(5),jb(6);te=mb(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});te.every=function(n){return isFinite(n=Math.floor(n))&&0<n?mb(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var Nb=te;function Db(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Sb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ib(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Eb(t){var r=t.dateTime,i=t.date,o=t.time,e=t.periods,n=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Bb(e),u=Hb(e),f=Bb(n),d=Hb(n),h=Bb(a),p=Hb(a),g=Bb(s),_=Hb(s),m=Bb(l),y=Hb(l),v={a:function(t){return a[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:ux,e:ux,f:gx,g:Ax,G:zx,H:fx,I:dx,j:hx,L:px,m:_x,M:mx,p:function(t){return e[+(12<=t.getHours())]},q:function(t){return 1+~~(t.getMonth()/3)},Q:$x,s:Jx,S:yx,u:vx,U:bx,V:wx,w:Mx,W:kx,x:null,X:null,y:jx,Y:Tx,Z:Nx,"%":Xx},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Dx,e:Dx,f:Cx,g:qx,G:Wx,H:Sx,I:Ix,j:Ex,L:Lx,m:Ox,M:Px,p:function(t){return e[+(12<=t.getUTCHours())]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:$x,s:Jx,S:Rx,u:Fx,U:Yx,V:Bx,w:Hx,W:Zx,x:null,X:null,y:Gx,Y:Qx,Z:Vx,"%":Xx},x={a:function(t,e,n){e=h.exec(e.slice(n));return e?(t.w=p[e[0].toLowerCase()],n+e[0].length):-1},A:function(t,e,n){e=f.exec(e.slice(n));return e?(t.w=d[e[0].toLowerCase()],n+e[0].length):-1},b:function(t,e,n){e=m.exec(e.slice(n));return e?(t.m=y[e[0].toLowerCase()],n+e[0].length):-1},B:function(t,e,n){e=g.exec(e.slice(n));return e?(t.m=_[e[0].toLowerCase()],n+e[0].length):-1},c:function(t,e,n){return k(t,r,e,n)},d:tx,e:tx,f:ax,g:Xb,G:Vb,H:nx,I:nx,j:ex,L:ox,m:Kb,M:rx,p:function(t,e,n){e=c.exec(e.slice(n));return e?(t.p=u[e[0].toLowerCase()],n+e[0].length):-1},q:Jb,Q:lx,s:cx,S:ix,u:Gb,U:qb,V:Qb,w:Zb,W:Wb,x:function(t,e,n){return k(t,i,e,n)},X:function(t,e,n){return k(t,o,e,n)},y:Xb,Y:Vb,Z:$b,"%":sx};function w(l,c){return function(t){var e,n,r,i=[],o=-1,a=0,s=l.length;for(t instanceof Date||(t=new Date(+t));++o<s;)37===l.charCodeAt(o)&&(i.push(l.slice(a,o)),null!=(n=Ob[e=l.charAt(++o)])?e=l.charAt(++o):n="e"===e?" ":"0",(r=c[e])&&(e=r(t,n)),i.push(e),a=o+1);return i.push(l.slice(a,o)),i.join("")}}function M(i,o){return function(t){var e,n,r=Ib(1900,void 0,1);if(k(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(1e3*r.s+("L"in r?r.L:0));if(!o||"Z"in r||(r.Z=0),"p"in r&&(r.H=r.H%12+12*r.p),void 0===r.m&&(r.m="q"in r?r.q:0),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(e=4<(n=(e=Sb(Ib(r.y,0,1))).getUTCDay())||0===n?Tb.ceil(e):Tb(e),e=kb.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),r.d=e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=Db(Ib(r.y,0,1))).getDay())||0===n?xb.ceil(e):xb(e),e=yb.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),r.d=e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?Sb(Ib(r.y,0,1)).getUTCDay():Db(Ib(r.y,0,1)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,Sb(r)):Db(r)}}function k(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(l<=r)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in Ob?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=w(i,v),v.X=w(o,v),v.c=w(r,v),b.x=w(i,b),b.X=w(o,b),b.c=w(r,b),{format:function(t){var e=w(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}var Lb,Cb,Ob={"-":"",_:" ",0:"0"},Pb=/^\s*\d+/,Rb=/^%/,Fb=/[\\^$*+?|[\]().{}]/g;function Yb(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",t=i.length;return r+(t<n?new Array(n-t+1).join(e)+i:i)}function Ub(t){return t.replace(Fb,"\\$&")}function Bb(t){return new RegExp("^(?:"+t.map(Ub).join("|")+")","i")}function Hb(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Zb(t,e,n){e=Pb.exec(e.slice(n,n+1));return e?(t.w=+e[0],n+e[0].length):-1}function Gb(t,e,n){e=Pb.exec(e.slice(n,n+1));return e?(t.u=+e[0],n+e[0].length):-1}function qb(t,e,n){e=Pb.exec(e.slice(n,n+2));return e?(t.U=+e[0],n+e[0].length):-1}function Qb(t,e,n){e=Pb.exec(e.slice(n,n+2));return e?(t.V=+e[0],n+e[0].length):-1}function Wb(t,e,n){e=Pb.exec(e.slice(n,n+2));return e?(t.W=+e[0],n+e[0].length):-1}function Vb(t,e,n){e=Pb.exec(e.slice(n,n+4));return e?(t.y=+e[0],n+e[0].length):-1}function Xb(t,e,n){e=Pb.exec(e.slice(n,n+2));return e?(t.y=+e[0]+(68<+e[0]?1900:2e3),n+e[0].length):-1}function $b(t,e,n){e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return e?(t.Z=e[1]?0:-(e[2]+(e[3]||"00")),n+e[0].length):-1}function Jb(t,e,n){e=Pb.exec(e.slice(n,n+1));return e?(t.q=3*e[0]-3,n+e[0].length):-1}function Kb(t,e,n){e=Pb.exec(e.slice(n,n+2));return e?(t.m=e[0]-1,n+e[0].length):-1}function tx(t,e,n){e=Pb.exec(e.slice(n,n+2));return e?(t.d=+e[0],n+e[0].length):-1}function ex(t,e,n){e=Pb.exec(e.slice(n,n+3));return e?(t.m=0,t.d=+e[0],n+e[0].length):-1}function nx(t,e,n){e=Pb.exec(e.slice(n,n+2));return e?(t.H=+e[0],n+e[0].length):-1}function rx(t,e,n){e=Pb.exec(e.slice(n,n+2));return e?(t.M=+e[0],n+e[0].length):-1}function ix(t,e,n){e=Pb.exec(e.slice(n,n+2));return e?(t.S=+e[0],n+e[0].length):-1}function ox(t,e,n){e=Pb.exec(e.slice(n,n+3));return e?(t.L=+e[0],n+e[0].length):-1}function ax(t,e,n){e=Pb.exec(e.slice(n,n+6));return e?(t.L=Math.floor(e[0]/1e3),n+e[0].length):-1}function sx(t,e,n){e=Rb.exec(e.slice(n,n+1));return e?n+e[0].length:-1}function lx(t,e,n){e=Pb.exec(e.slice(n));return e?(t.Q=+e[0],n+e[0].length):-1}function cx(t,e,n){e=Pb.exec(e.slice(n));return e?(t.s=+e[0],n+e[0].length):-1}function ux(t,e){return Yb(t.getDate(),e,2)}function fx(t,e){return Yb(t.getHours(),e,2)}function dx(t,e){return Yb(t.getHours()%12||12,e,2)}function hx(t,e){return Yb(1+yb.count(Mb(t),t),e,3)}function px(t,e){return Yb(t.getMilliseconds(),e,3)}function gx(t,e){return px(t,e)+"000"}function _x(t,e){return Yb(t.getMonth()+1,e,2)}function mx(t,e){return Yb(t.getMinutes(),e,2)}function yx(t,e){return Yb(t.getSeconds(),e,2)}function vx(t){t=t.getDay();return 0===t?7:t}function bx(t,e){return Yb(bb.count(Mb(t)-1,t),e,2)}function xx(t){var e=t.getDay();return 4<=e||0===e?wb(t):wb.ceil(t)}function wx(t,e){return t=xx(t),Yb(wb.count(Mb(t),t)+(4===Mb(t).getDay()),e,2)}function Mx(t){return t.getDay()}function kx(t,e){return Yb(xb.count(Mb(t)-1,t),e,2)}function jx(t,e){return Yb(t.getFullYear()%100,e,2)}function Ax(t,e){return Yb((t=xx(t)).getFullYear()%100,e,2)}function Tx(t,e){return Yb(t.getFullYear()%1e4,e,4)}function zx(t,e){var n=t.getDay();return Yb((t=4<=n||0===n?wb(t):wb.ceil(t)).getFullYear()%1e4,e,4)}function Nx(t){t=t.getTimezoneOffset();return(0<t?"-":(t*=-1,"+"))+Yb(t/60|0,"0",2)+Yb(t%60,"0",2)}function Dx(t,e){return Yb(t.getUTCDate(),e,2)}function Sx(t,e){return Yb(t.getUTCHours(),e,2)}function Ix(t,e){return Yb(t.getUTCHours()%12||12,e,2)}function Ex(t,e){return Yb(1+kb.count(Nb(t),t),e,3)}function Lx(t,e){return Yb(t.getUTCMilliseconds(),e,3)}function Cx(t,e){return Lx(t,e)+"000"}function Ox(t,e){return Yb(t.getUTCMonth()+1,e,2)}function Px(t,e){return Yb(t.getUTCMinutes(),e,2)}function Rx(t,e){return Yb(t.getUTCSeconds(),e,2)}function Fx(t){t=t.getUTCDay();return 0===t?7:t}function Yx(t,e){return Yb(Ab.count(Nb(t)-1,t),e,2)}function Ux(t){var e=t.getUTCDay();return 4<=e||0===e?zb(t):zb.ceil(t)}function Bx(t,e){return t=Ux(t),Yb(zb.count(Nb(t),t)+(4===Nb(t).getUTCDay()),e,2)}function Hx(t){return t.getUTCDay()}function Zx(t,e){return Yb(Tb.count(Nb(t)-1,t),e,2)}function Gx(t,e){return Yb(t.getUTCFullYear()%100,e,2)}function qx(t,e){return Yb((t=Ux(t)).getUTCFullYear()%100,e,2)}function Qx(t,e){return Yb(t.getUTCFullYear()%1e4,e,4)}function Wx(t,e){var n=t.getUTCDay();return Yb((t=4<=n||0===n?zb(t):zb.ceil(t)).getUTCFullYear()%1e4,e,4)}function Vx(){return"+0000"}function Xx(){return"%"}function $x(t){return+t}function Jx(t){return Math.floor(+t/1e3)}function Kx(t){return t.toLowerCase()}function t2(t,e,n,r){var i="numeric"===e.sort,o="temporal"===e.sort,a=Kx;i?a=n:o&&(a=Cb(e.sort_temporal_format));t=t.map(function(t,e){var n=a(t);return{value:t,options_index:e,parsed:n,display:i&&!isNaN(n)?r(n):t}});return"unsorted"==e.sort?t:t.sort(function(t,e){return t=t.parsed,e=e.parsed,t<e?-1:e<t?1:e<=t?0:NaN})}function e2(){return this.declarations=[],this}function n2(t){return this.selector=t,this.styles=[],this}Lb=Eb({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Cb=Lb.parse,e2.prototype.select=function(t){if(!t)return this;t=new n2(t);return(t.parent=this).addDeclaration(t),t},e2.prototype.addDeclaration=function(t){return this.declarations.push(t),this},e2.prototype.print=function(){var e="";return this.declarations.forEach(function(t){e+=t.selector+" {\n",t.styles.forEach(function(t){e+="\t"+t[0]+": "+t[1]+";\n"}),e+="}\n\n"}),e},e2.prototype.clear=function(){return this.declarations=[],this},n2.prototype.style=function(t,e){e="function"==typeof value_?e():e;return""!==e&&null!=e&&this.styles.push([t,e]),this};var r2=!(n2.prototype.select=function(t){return this.parent.select(this.selector+" "+t)});function i2(){var t,e,n;r2||"undefined"==typeof document||((n=new e2).select(".fl-controls-container").style("display","inline-block").style("line-height","1em"),n.select(".fl-controls-title").style("display","inline-block").style("margin","0px 0.5em 0px 0px"),n.select(".fl-controls-container, .fl-controls-container *").style("box-sizing","border-box"),n.select(".slider-holder").style("margin-bottom","20px"),n.select(".fl-controls-slider, .slider-play").style("pointer-events","all").style("display","inline-block").style("vertical-align","middle"),n.select(".slider-play svg").style("height","100%").style("width","100%").style("cursor"," pointer",""),n.select(".slider-play:hover").style("opacity","0.6"),n.select(".fl-control-slider").style("width","100%").style("bottom","0"),n.select(".fl-control").style("position","relative"),n.select(".fl-control.hidden").style("display","none"),n.select(".fl-control .button").style("display","inline-block").style("background","#eee").style("padding","0.5em").style("margin-right","0.25em").style("margin-bottom","0.25em").style("line-height","1em"),n.select(".fl-control.grouped:not(.hidden)").style("display","inline-table").style("table-layout","fixed").select(".button").style("display","table-cell").style("margin","0").style("text-align","center"),n.select(".fl-control .button.selected").style("background","#ddd"),n.select(".fl-control-dropdown").style("line-height","1em").select(".list").style("display","none").style("position","absolute").style("background-color","white").style("z-index","100").style("border","1px solid #eee").select(".list-item").style("text-align","start").style("cursor","pointer").style("padding","0.5rem"),n.select(".fl-control-dropdown.open .list").style("display","block"),n.select(".fl-control-dropdown .main").style("position","relative").style("text-align","start").style("display","flex").style("justify-content","space-between"),n.select(".fl-control-dropdown .symbol").style("float","right").select("div").style("border-top-color","#333333"),t=n.print(),e=document.head||document.getElementsByTagName("head")[0],(n=document.createElement("style")).type="text/css",n.className="flourish-controls",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),r2=!0)}var o2,a2,s2=(o2=document.createElement("canvas").getContext("2d"),function(t,e){return o2.font=e||"10px sans-serif",o2.measureText(t).width});var l2=90;function c2(r,i,n){var o={},a=document.body,s=Ps(n).append("div").attr("class","fl-control fl-control-dropdown"),l=s.node(),t=s.append("div").attr("class","main"),c=t.append("span").attr("class","current");t.append("span").attr("class","symbol").style("width","10px").append("div").style("border-left","5px solid transparent").style("border-right","5px solid transparent").style("border-bottom","5px solid transparent").style("border-top-style","solid").style("border-top-width","5px").style("top","50%").style("position","absolute").style("margin-top","-2.5px");function u(){s.classed("open",!1),f.style("right",null),f.style("max-height",null),f.style("display","none")}function e(){(s.classed("open")?u:function(){s.classed("open",!0),f.style("top","100%"),f.style("bottom",null),f.style("display",null),f.style("overflow","auto");var t=a.getBoundingClientRect(),e=f.node().getBoundingClientRect();0<e.bottom-t.bottom&&(t=t.bottom-e.top-30,l2<t?f.style("max-height",t+"px"):f.style("top","auto").style("bottom","100%")),e.right>window.innerWidth&&f.style("right",0)})()}var f=s.append("div").attr("class","list");t.on("click",function(){e()});function d(){if(s.classed("open")){for(var t=event.target,e=t.parentElement;e;){if(t===l)return;e=(t=e).parentElement}u()}}function h(t){var e="100%";"auto"==i.dropdown_width_mode?e=Math.min(t+40,a2(20))+"px":"fixed"==i.dropdown_width_mode&&(e=a2(i.dropdown_width_fixed)+"px"),n.style.width="full"==i.dropdown_width_mode?e:"",s.style("width",e).style("display","full"!==i.dropdown_width_mode?"inline-table":null),s.select(".main").style("width",e)}function p(){u(),s.style("display","none")}return o.appendedToDOM=function(t){return t&&(a=t),document.querySelector("body").addEventListener("click",d,!1),o},o.removedFromDOM=function(){return document.querySelector("body").removeEventListener("click",d),o},o.show=h,o.hide=p,o.update=function(t){f.text("");var e=window.getComputedStyle(s.node()).fontSize;if(!r.n_options||"dropdown"!==i.control_type)return p(),o;var n="";f.text("").selectAll(".list-item").data(t).enter().append("div").attr("class","list-item").text(function(t){return t.display.length>n.length&&(n=t.display),t.display}).on("click",function(t){u();var e=t.options_index;e!==r.index()&&(r.index(e),c.text(t.display).attr("title",t.display),r.trigger("change"))});e=s2(n,e+" sans-serif"),t=t[r.getSortedIndex()].display;return c.text(t).attr("title",t),h(e),o},o}function u2(i,o,t){function a(){c.classed("hidden",!1)}function s(){c.classed("hidden",!0)}var l={},c=Ps(t).append("div").attr("class","fl-control fl-control-buttons");return l.show=a,l.hide=s,l.update=function(t){if(!i.n_options||"buttons"!==o.control_type)return s(),l;var e=i.index();c.classed("grouped",o.button_group),c.classed("fixed-width","fixed"==o.button_group_width_mode||"full"==o.button_group_width_mode),c.style("width",o.button_group&&"fixed"==o.button_group_width_mode?a2(o.button_group_width_fixed)+"px":"full"==o.button_group_width_mode?"100%":null);function n(t){(t=t.options_index)!==i.index()&&(i.index(t),i.trigger("change"))}var r=c.selectAll(".button").data(t,function(t){return t.display}),t=r.enter().append("div").attr("class","button").style("cursor","pointer").attr("role","button").attr("tabindex",0).on("click",function(t){n(t)}).on("keyup",function(t){"Space"!==zs.code&&"Enter"!==zs.code||(zs.preventDefault(),n(t))});t.append("span").text(function(t){return t.display}),a(),r.merge(t).classed("selected",function(t){return t.options_index===e}).attr("aria-pressed",function(t){return t.options_index===e}),r.exit().remove(),a()},l}function f2(t,e,n,r){var i=Qe(u(t)),t="<"+e;return""!==n&&(t+=" "+n+'="'+h2(Qe(r),d2,"&quot;")+'"'),t+">"+i+"</"+e+">"}var d2=/"/g,h2=v("".replace),r_=function(e){return _(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length})};$t({target:"String",proto:!0,forced:r_("anchor")},{anchor:function(t){return f2(this,"a","name",t)}});var p2=Array.prototype.slice;function g2(t){return t}var _2=1,m2=2,y2=3,v2=4,b2=1e-6;function x2(t){return"translate("+(t+.5)+",0)"}function w2(t){return"translate(0,"+(t+.5)+")"}function M2(e){return function(t){return+e(t)}}function k2(e){var n=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(n=Math.round(n)),function(t){return+e(t)+n}}function j2(){return!this.__axis}function A2(t){return p=t,g=[],m=_=null,v=y=6,b=3,x=(h=y2)===_2||h===v2?-1:1,w=h===v2||h===m2?"x":"y",M=h===_2||h===y2?x2:w2,e.scale=function(t){return arguments.length?(p=t,e):p},e.ticks=function(){return g=p2.call(arguments),e},e.tickArguments=function(t){return arguments.length?(g=null==t?[]:p2.call(t),e):g.slice()},e.tickValues=function(t){return arguments.length?(_=null==t?null:p2.call(t),e):_&&_.slice()},e.tickFormat=function(t){return arguments.length?(m=t,e):m},e.tickSize=function(t){return arguments.length?(y=v=+t,e):y},e.tickSizeInner=function(t){return arguments.length?(y=+t,e):y},e.tickSizeOuter=function(t){return arguments.length?(v=+t,e):v},e.tickPadding=function(t){return arguments.length?(b=+t,e):b},e;function e(t){var e=null==_?p.ticks?p.ticks.apply(p,g):p.domain():_,n=null==m?p.tickFormat?p.tickFormat.apply(p,g):g2:m,r=Math.max(y,0)+b,i=p.range(),o=+i[0]+.5,a=+i[i.length-1]+.5,s=(p.bandwidth?k2:M2)(p.copy()),l=t.selection?t.selection():t,c=l.selectAll(".domain").data([null]),u=(d=l.selectAll(".tick").data(e,p).order()).exit(),f=d.enter().append("g").attr("class","tick"),i=d.select("line"),e=d.select("text"),c=c.merge(c.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),d=d.merge(f),i=i.merge(f.append("line").attr("stroke","currentColor").attr(w+"2",x*y)),e=e.merge(f.append("text").attr("fill","currentColor").attr(w,x*r).attr("dy",h===_2?"0em":h===y2?"0.71em":"0.32em"));t!==l&&(c=c.transition(t),d=d.transition(t),i=i.transition(t),e=e.transition(t),u=u.transition(t).attr("opacity",b2).attr("transform",function(t){return isFinite(t=s(t))?M(t):this.getAttribute("transform")}),f.attr("opacity",b2).attr("transform",function(t){var e=this.parentNode.__axis;return M(e&&isFinite(e=e(t))?e:s(t))})),u.remove(),c.attr("d",h===v2||h==m2?v?"M"+x*v+","+o+"H0.5V"+a+"H"+x*v:"M0.5,"+o+"V"+a:v?"M"+o+","+x*v+"V0.5H"+a+"V"+x*v:"M"+o+",0.5H"+a),d.attr("opacity",1).attr("transform",function(t){return M(s(t))}),i.attr(w+"2",x*y),e.attr(w,x*r).text(n),l.filter(j2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",h===m2?"start":h===v2?"end":"middle"),l.each(function(){this.__axis=s})}var h,p,g,_,m,y,v,b,x,w,M}var g=Array.prototype,T2=g.map,z2=g.slice;function N2(t){return+t}var D2=[0,1];function S2(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:(t=n,function(){return t});var t}function I2(t,e,n,r){var i=t[0],t=t[1],o=e[0],e=e[1],o=t<i?(i=n(t,i),r(e,o)):(i=n(i,t),r(o,e));return function(t){return o(i(t))}}function E2(n,t,e,r){var i=Math.min(n.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=e(n[s],n[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var e=Bs(n,t,1,i)-1;return a[e](o[e](t))}}function L2(e,n){var r,o,a,s=D2,l=D2,c=ku,u=!1;function i(){return r=2<Math.min(s.length,l.length)?E2:I2,o=a=null,t}function t(t){return(o=o||r(s,l,u?(i=e,function(e,n){var r=i(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:r(t)}}):e,c))(+t);var i}return t.invert=function(t){return(a=a||r(l,s,S2,u?(i=n,function(e,n){var r=i(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:r(t)}}):n))(+t);var i},t.domain=function(t){return arguments.length?(s=T2.call(t,N2),i()):s.slice()},t.range=function(t){return arguments.length?(l=z2.call(t),i()):l.slice()},t.rangeRound=function(t){return l=z2.call(t),c=ju,i()},t.clamp=function(t){return arguments.length?(u=!!t,i()):u},t.interpolate=function(t){return arguments.length?(c=t,i()):c},i()}function C2(s){var l=s.domain;return s.ticks=function(t){var e=l();return $s(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){return function(t,e,n){var r,i=t[0],o=t[t.length-1],a=Ks(i,o,null==e?10:e);switch((n=zf(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=Pf(a,s))||(n.precision=r),Hf(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=Rf(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=Of(a))||(n.precision=r-2*("%"===n.type))}return Bf(n)}(l(),t,e)},s.nice=function(t){null==t&&(t=10);var e,n=l(),r=0,i=n.length-1,o=n[r],a=n[i];return a<o&&(e=o,o=a,a=e,e=r,r=i,i=e),0<(e=Js(o,a,t))?e=Js(o=Math.floor(o/e)*e,a=Math.ceil(a/e)*e,t):e<0&&(e=Js(o=Math.ceil(o*e)/e,a=Math.floor(a*e)/e,t)),0<e?(n[r]=Math.floor(o/e)*e,n[i]=Math.ceil(a/e)*e,l(n)):e<0&&(n[r]=Math.ceil(o*e)/e,n[i]=Math.floor(a*e)/e,l(n)),s},s}function O2(){var e=L2(S2,vu);return e.copy=function(){return t=e,O2().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp());var t},C2(e)}function P2(t){this.container=Ps(t),this._width=null,this._height=null,this._handleRadius=15,this._channelHeight=5,this._channelRadius=null,this._handleFill="black",this._channelFill="#eee",this._margin={top:null,left:null,right:null},this._domain=[0,1],this._value=null,this._snap=!1,this._scale=null,this._axis=!1,this._ticks=null,this._tickFormat=null,this._tickSize=null,this._label=null,this._labelSize=18,this._startLabel=null,this._startLabelBelow=!1,this._endLabel=null,this._endLabelBelow=!1,this._startEndLabelSize=16,this.handlers={change:[]}}for(var R2 in new P2)!function(e){0<e.length&&"_"==e.charAt(0)&&(P2.prototype[e.substr(1)]=function(t){return void 0===t?this[e]:(this[e]=t,this)})}(R2);function F2(t,e){return"boolean"==typeof t?t?Math.round(e):e:function t(e,n,r,i){if((i=void 0===i?e.length:i)-(r=void 0===r?0:r)==0)return n;if(i-r==1)return e[r];if(i-r==2)return Math.abs(e[r]-n)<=Math.abs(e[r+1]-n)?e[r]:e[r+1];var o=r+Math.floor((i-r)/2),a=e[o],s=e[o-1];return s<=n&&n<=a?Math.abs(s-n)<=Math.abs(a-n)?s:a:a<=n?t(e,n,o,i):t(e,n,r,o)}(t,e)}function Y2(t){return new P2(t)}function U2(o,a,t){function s(t){(t=l[t]).options_index!==o.index()&&(o.index(t.options_index),o.trigger("change"))}function i(){h.classed("playing",!0),p.html(n),b(),o._isPlaying_(!0),f=!0}var e,n,r,l,c,u,f,d={},h=Ps(t).append("div").attr("class","fl-control fl-control-slider animatable"),p=h.append("div").attr("class","slider-play"),g=h.append("div").attr("class","fl-controls-slider"),_=null,m=function(){clearTimeout(_),_=null},y=Y2(g.node()).snap(!0).on("change",function(t){var e=null!==_;e&&m(),s(t),e&&b()}),v=function(){m(),h.classed("playing",!1),p.html(e),o._isPlaying_(!1),f=!1},b=function t(){var e=o.getSortedIndex(),n=c[e],r=o.n_options-1,i=e<r?e+1:0;_=setTimeout(function(){s(i),(a.slider_loop||i<r?t:v)()},n)};p.on("click",function(){(null===_?i:v)()});function x(){return h.style("display","inline-block"),function(){var t=Math.round(a2(a.slider_handle_height)/2);h.style("width",Math.round(a2(a.slider_width))+"px"),p.style("height",2*t+"px").style("width",2*t+"px").style("display",a.slider_play_button?null:"none");var e=h.node().getBoundingClientRect().width,n=p.node().getBoundingClientRect().width;g.style("width",Math.max(e-n,1)+"px").style("height",2*t+"px"),y.handleRadius(t).margin({left:t+5,right:t+a2(a.slider_margin),top:t})}(),a.slider_play_button?h.classed("animatable",!0):(v(),h.classed("animatable",!1)),r!==a.slider_handle_color&&(y.update(),r=a.slider_handle_color||"currentColor",h.select(".slider-handle").style("fill",r),e='<svg width="25px" height="30px" viewBox="0 0 25 30"> <polygon fill="'+r+'" stroke="none" points="25 15 0 30 0 0"></polygon> </svg>',n='<svg width="26px" height="30px" viewBox="0 0 26 30"> <g stroke="none" stroke-width="1" fill="'+r+'"><rect x="2" y="2" width="9" height="26"></rect> <rect x="15" y="2" width="9" height="26"></rect> </g> </svg>',p.html(_?n:e)),d}function w(){return v(),h.style("display","none"),d}return d.show=x,d.hide=w,d.update=function(t){if(l=t,!o.n_options||"slider"!==a.control_type)return w(),d;x();var n=o.n_options,r=a.slider_loop;c=l.map(function(t,e){return 1e3*(a.slider_step_time+(r&&e===n-1?a.slider_restart_pause:0))});var e=o.getSortedIndex(),t=l[e];return y.domain([0,n-1]).value(e).endLabel(t.display).channelHeight(Math.round(a2(a.slider_track_height))).channelFill(a.slider_background_color).update(),y.container.select("svg").attr("fill","currentColor"),(u=u||g.select("text.slider-end-labels")).style("fill",a.slider_font_color).attr("y","0").attr("dy","0.25em"),o._isPlaying_()&&!f?i():!o._isPlaying_()&&f&&v(),d},d}P2.prototype.margin=function(t){if(!t)return this._margin;for(R2 in t){if(!(R2 in this._margin))throw"Slider.margin: unrecognised option "+R2;this._margin[R2]=t[R2]}return this},P2.prototype.on=function(t,e){if(!(t in this.handlers))throw"Slider.on: No such event: "+t;return this.handlers[t].push(e),this},P2.prototype.fire=function(t,e){if(!(t in this.handlers))throw"Slider.fire: No such event: "+t;for(var n=this.handlers[t],r=0;r<n.length;r++)n[r].call(this,e);return this},P2.prototype.draw=function(){var e=this,t=this._width,n=this._height,r=this.container.node();if(!t){var i=r.getBoundingClientRect();if(!i||0==i.width)return this;t=i.width,n=i.height}var o=null==this._channelRadius?this._channelHeight/2:this._channelRadius,a=null==this._margin.left?Math.max(this._handleRadius,o):this._margin.left,s=null==this._margin.right?Math.max(this._handleRadius,o):this._margin.right,l=null==this._margin.top?Math.max(this._handleRadius,this._channelHeight/2):this._margin.top,c=t-a-s,i=c+2*o,s=1.5*this._labelSize;null!=this._label&&null==this._margin.top&&(l+=s),"http://www.w3.org/2000/svg"==r.namespaceURI?u=this.container:((u=this.container.selectAll("svg").data([{width:t,height:n}])).exit().remove(),(u=u.enter().append("svg").merge(u)).attr("width",function(t){return t.width}).attr("height",function(t){return t.height}));var u=u.selectAll("g.slider-container").data([{left:a,top:l,id:this._id}]);u.exit().remove(),(u=u.enter().append("g").attr("class","slider-container").merge(u)).attr("transform",function(t){return"translate("+t.left+","+t.top+")"}).attr("id",function(t){return t.id}),this.scale=(this._scale?this._scale():O2()).domain(this._domain).range([0,c]),null==this._value||this._value<this._domain[0]?this._value=this._domain[0]:this._value>this._domain[1]&&(this._value=this._domain[1]),this._snap&&(this._value=F2(this._snap,this._value));a=[];this._axis&&(l="boolean"!=typeof this._axis?this._axis(this.scale):A2().scale(this.scale).tickPadding(6),this._ticks&&l.ticks(this._ticks),this._tickFormat&&l.tickFormat(this._tickFormat),this._tickSize?l.tickSize(this._tickSize):l.tickSize(Math.max(5,this._handleRadius-this._channelHeight-2)),a.push(l));var f,d,h,a=u.selectAll(".slider-axis").data(a).enter();function p(){document.removeEventListener("mouseup",p,!1),document.removeEventListener("mousemove",g,!1)}function g(t){y(t.clientX-d)}function _(){document.removeEventListener("touchend",_,!1),document.removeEventListener("touchmove",m,!1)}function m(t){1==t.touches.length&&y(t.touches[0].clientX-d)}function y(t){t=h+t,t=Math.max(0,Math.min(c,t)),t=e.scale.invert(t);e._snap&&(t=F2(e._snap,t)),f.attr("cx",e.scale(t)),t!=e._value&&(e._value=t,e.fire("change",e._value))}a.append("g").attr("class","slider-axis").attr("transform","translate(0,"+this._channelHeight/2+")").each(function(t){t(Ps(this))}),a.select(".domain").attr("fill","none"),a.selectAll(".tick line").attr("stroke","black"),a.exit().remove(),(i=u.selectAll(".slider-channel").data([{width:i,height:this._channelHeight,channel_r:o}])).exit().remove(),(i=i.enter().append("rect").attr("class","slider-channel").attr("cursor","pointer").on("click",function(){var t=Math.max(0,Math.min(c,Rs(this)[0]));e._value=e.scale.invert(t),e._snap&&(e._value=F2(e._snap,e._value)),f.attr("cx",e.scale(e._value)),e.fire("change",e._value)}).merge(i)).attr("width",function(t){return t.width}).attr("fill",this._channelFill).attr("height",function(t){return t.height}).attr("y",function(t){return-t.height/2}).attr("x",function(t){return-t.channel_r}).attr("rx",function(t){return t.channel_r}),(f=(f=u.selectAll(".slider-handle").data([{v:this._value,x:this.scale(this._value)}])).enter().append("circle").attr("class","slider-handle").attr("cursor","col-resize").merge(f)).attr("cx",function(t){return t.x}).attr("r",this._handleRadius).attr("fill",this._handleFill).on("mousedown",function(){var t;zs.preventDefault(),t=zs,document.addEventListener("mouseup",p,!1),document.addEventListener("mousemove",g,!1),d=t.clientX,h=e.scale(e._value)}).on("touchstart",function(){var t;zs.preventDefault(),1==(t=zs).touches.length&&(document.addEventListener("touchend",_,!1),document.addEventListener("touchmove",m,!1),d=t.touches[0].clientX,h=e.scale(e._value))});i=[];this._label&&i.push({label:this._label,x:c/2,y:-s,font_size:this._labelSize});i=u.selectAll(".slider-label").data(i);i.exit().remove(),(i=i.enter().append("text").attr("class","slider-label").attr("text-anchor","middle").attr("cursor","default").merge(i)).text(function(t){return t.label}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("font-size",this._labelSize);i=[];this._startLabel&&i.push({label:this._startLabel,x:this._startLabelBelow?0:-(o+5+Math.max(0,this._handleRadius-o)),y:this._startLabelBelow?o+15:this._startEndLabelSize/1.75-o/2,anchor:this._startLabelBelow?"middle":"end",font_size:this._startEndLabelSize}),this._endLabel&&i.push({label:this._endLabel,x:this._endLabelBelow?c:c+(o+Math.max(0,this._handleRadius-o)+5),y:this._startLabelBelow?o+15:this._startEndLabelSize/1.75-o/2,anchor:this._endLabelBelow?"middle":"start",font_size:this._startEndLabelSize});i=u.selectAll(".slider-end-labels").data(i);return i.exit().remove(),(i=i.enter().append("text").attr("class","slider-end-labels").attr("pointer-events","none").merge(i)).text(function(t){return t.label}).attr("font-size",function(t){return t.font_size}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("text-anchor",function(t){return t.anchor}),this},P2.prototype.update=P2.prototype.draw,Y2.version="1.4.2";var B2=Object.freeze({control_type:"dropdown",control_title:"",dropdown_width_mode:"auto",dropdown_width_fixed:20,button_group:!0,button_group_width_mode:"fixed",button_group_width_fixed:20,slider_width:15,slider_handle_color:null,slider_font_color:null,slider_background_color:"#dddddd",slider_handle_height:1,slider_track_height:.2,slider_margin:4.5,slider_play_button:!0,slider_step_time:2,slider_loop:!0,slider_restart_pause:0,sort:"unsorted",sort_temporal_format:"%Y",_index_:null,_is_playing_:!1});function H2(i,n,r){var o={};n=n||hb,r=r||pb;var a=[],s=[],l=[],c=document.createElement("div");c.setAttribute("class","fl-controls-container");var t,u=Ps(c).append("div").attr("class","fl-controls-title"),f=c2(o,i,c),d=u2(o,i,c),h=U2(o,i,c);for(t in B2)void 0===i[t]&&(i[t]=B2[t]);var p=i._index_;o.appendTo=function(t,e){return i2(),Ps(t).node().appendChild(c),f.appendedToDOM(e),o};o.remove=function(){return c.parentElement&&c.parentElement.removeChild(c),f.removedFromDOM(),o},o.options=function(t){if(void 0===t)return a.slice();if(!Array.isArray(t))return o;var e=(a=t.slice()).length,t=g();return e?(null===t||e<=t)&&g(0):g(null),o},Object.defineProperty(o,"n_options",{get:function(){return a.length}});var g=function(t){return void 0===t?p=i._is_playing_?p:i._index_:(null===t||(e=t,a.length&&0<=e&&e<a.length)?(p=t,i._is_playing_||(i._index_=p)):console.warn("Invalid index, ignoring update call"),o);var e};o.index=g,o.getSortedIndex=function(){var n,r=g();return"unsorted"==i.sort?r:(s.some(function(t,e){if(t.options_index===r)return n=e,!0}),n)},o.value=function(t){if(void 0===t)return a[g()];t=a.indexOf(t);return-1!==t&&g(t),o},o.on=function(t,e){return"change"===t&&l.push(e.bind(o)),o},o.update=function(){var e,t;return e=parseFloat(getComputedStyle(document.documentElement).fontSize)||16,a2=function(t){return t*e},s=t2(a,i,n(),r()),t=s,c.style.display=1<t.length?null:"none",c.style.width="",u.node().innerHTML=i.control_title,u.node().style.display=""===i.control_title?"none":"inline-block",h.update(t),f.update(t),d.update(t),o},o.trigger=function(t){var e,n;return"change"===t&&(e=g(),n=a[e],l.forEach(function(t){t(n,e)})),o},o.getNode=function(){return c};return o._isPlaying_=function(t){if(void 0===t)return i._is_playing_;i._is_playing_=!!t,t||g(p)},o}var Z2,G2,q2={},Q2="$-&^:*%";function W2(t){for(var e=pc(t).values(),n=0,r=Math.min(e.length,30),i=.25*r,o=0;o<r;o++)if("string"===function(t){if(""!==t)return!t.match(/[^eE$£€%,.+\-\d\s]/)&&!t.match(/[/:]/)&&!t.match(/\d\s*-/)&&isFinite(G2(t))?"number":"string"}(e[o])&&i<++n)return"discrete";return"number"}function V2(t,e,n){return{x:"filter"in q2.data.column_names&&("both"==fb.filter_updates_axes||"x"==fb.filter_updates_axes),y:"filter"in q2.data.column_names&&("both"==fb.filter_updates_axes||"y"==fb.filter_updates_axes)}[e]&&(t=t.filter(X2)),{x:"slider"in q2.data.column_names&&("both"==fb.slider_updates_axes||"x"==fb.slider_updates_axes),y:"slider"in q2.data.column_names&&("both"==fb.slider_updates_axes||"y"==fb.slider_updates_axes)}[e]&&(t=t.filter($2)),"number"==n?Qs(t,function(t){return t[e]}):pc(t.map(function(t){return t[e]}).filter(function(t){return null!=t})).values()}function X2(t){var e=Ck.value();return(null==e||e==t.filter||fb.filter_show_all&&e==fb.filter_show_all_text)&&("off"==fb.legend_filtering_mode||-1==fb.legend_filter.indexOf(t.color))}function $2(t){var e=Ok.value();return null==e||e==t.slider}var J2,K2,tw,ew,nw,rw,iw,ow,aw,sw,lw,cw,uw,fw,dw,hw=[];function pw(d){if(!q2.data.processed||K2!=Ok.value()||J2!=Ck.value()||ew!=fb.box_plot||nw!=fb.violin_plot||tw!=fb.beeswarm_plot||rw!=fb.box_whisker_multiplier||iw!=fb.color_type||ow!=fb.x_type||aw!=fb.y_type||sw!==fb.localization.input_decimal_separator||hw!==fb.legend_filter.join(Q2)||lw!==fb.legend_filtering_mode||cw!==fb.popup_parse_numbers||uw!==fb.filter_updates_axes||fw!==fb.slider_updates_axes||dw!==fb.line_per_facet){G2=Ej.getParser();var a=!("x"in q2.data.column_names),s=!("y"in q2.data.column_names),h=q2.data.map(function(t,e){var n,r,i=(n=t,r={},Object.keys(n).forEach(function(t){Array.isArray(n[t])?r[t]=n[t].map(function(t){return t}):r[t]=n[t]}),r);if(i.row=e,a&&(i.x=""),s&&(i.y=""),i.name.length){i.id="";for(var o=0;o<i.name.length;o++)i.id+=i.name[o]+(o<i.name.length-1?", ":"")}return i});h.column_names=q2.data.column_names;for(var e=0;e<d.length;e++){var t=d[e];if(void 0!==h.column_names[t]){var n="x"===t&&"auto"!==fb.x_type?fb.x_type:"y"===t&&"auto"!==fb.y_type?fb.y_type:"color"===t&&"auto"!==fb.color_type?fb.color_type:"facet"===t?"discrete":function(t,e){for(var n,r=0,i=0,o=0;o<30&&t.length!=o;o++)""!=t[o][e]&&(n=G2(t[o][e]),isNaN(n)?i++:r++);return i<=r?"number":"discrete"}(h,t);if("number"==n)for(var r=0;r<h.length;r++)h[r][t]=G2(h[r][t]);h[t+"_type"]=n,h[t+"_domain"]=V2(h,t,n)}}a&&(h.x_type="discrete",h.x_domain=[""]),s&&(h.y_type="discrete",h.y_domain=[""]);var i=h.column_names.metadata||[];if(fb.popup_parse_numbers)for(e=0;e<i.length;e++)if("number"==W2(h.slice(0,30).map(function(t){return t.metadata[e]})))for(r=0;r<h.length;r++){var o=G2(h[r].metadata[e]);h[r].metadata[e]=isNaN(o)?h[r].metadata[e]:o}if("number"===h.x_type||"number"===h.y_type){for(var e=0,l=0;e<h.length;e++){var c=h[e],u="number"===c.x_type&&isNaN(c.x),f="number"===c.y_type&&isNaN(c.y);u||f||(h[l++]=c)}h.length=l}var p=null,g=null,_="discrete"==h.x_type&&"number"==h.y_type||"number"==h.x_type&&"discrete"==h.y_type,m=fb.box_plot||fb.violin_plot||fb.beeswarm_plot;m&_&&("discrete"==h.x_type?(p="x",g="y"):"number"==h.x_type&&(p="y",g="x"));for(var y,v=h.filter(X2),e=0;e<v.length;e++)v[e].row_filtered=e;for(y in h)"string"!=typeof h[y]&&!Array.isArray(h[y])&&"column_names"!=y||(v[y]=h[y]);var b,x=lc().key(function(t){return t.facet||""}).sortKeys(function(t,e){return Fs(h.facet_domain.indexOf(t),h.facet_domain.indexOf(e))}).entries(v),w={},M=[],k=[];for(b in x.forEach(function(t,e){t.name=t.key,t.values_slider=t.values.filter($2);for(var n=0;n<d.length;n++){var r=d[n];t[r+"_domain"]=V2(t.values,r,h[r+"_type"])}if(m&_){for(var i,o={},n=0;n<t.values_slider.length;n++){var a=t.values_slider[n];a[p]in o||(o[a[p]]=[]),o[a[p]].push(a)}for(i in o){var s={};s.data_points=o[i];var l,c=o[i].map(function(t){return t[g]}).filter(function(t){return!isNaN(t)}).sort(Fs);c.length<2||(s.facet_index=e,s.values=c,s.category=i,s.category_col=p,s.value_col=g,s.bottom=tl(c,.25),s.mid=tl(c,.5),s.top=tl(c,.75),s.whisker_bottom=c[0],s.whisker_top=c[c.length-1],l=s.top-s.bottom,s.whisker_tukey_bottom=Math.min(c[Bs(c,s.bottom-fb.box_whisker_multiplier*l)],s.bottom),s.whisker_tukey_top=Math.max(c[Hs(c,s.top+fb.box_whisker_multiplier*l)-1],s.top),isNaN(s.whisker_tukey_bottom)&&(s.whisker_tukey_bottom=s.mid),isNaN(s.whisker_tukey_top)&&(s.whisker_tukey_top=s.mid),k.push(s))}}for(n=0;n<t.values.length;n++){var u,f=t.values[n];f.facet_index=e,f.facet=t,"series"in h.column_names&&(u=("line-"+f.series).replace(/\s/g,"-"),fb.line_per_facet&&(u+=("-facet-"+t.name).replace(/\s/g,"-")),""!=f.series&&(u in w||(w[u]=[]),"number"==typeof f.x&&isNaN(f.x)||"number"==typeof f.y&&isNaN(f.y)||w[u].push(f),w[u].id=u,w[u].facet_index=e))}}),w)1<w[b].length&&M.push(w[b]);m&&(k.category_col=p,k.value_col=g);for(var j=[],e=0;e<x.length;e++)0<x[e].values.length&&j.push(x[e]);(Z2={facets:j,data_points:v,boxes:k,lines:M}).discrete_vs_numerical=_,Z2.has_facet_binding="facet"in q2.data.column_names,J2=Ck.value(),K2=Ok.value(),tw=fb.beeswarm_plot,ew=fb.box_plot,nw=fb.violin_plot,iw=fb.color_type,ow=fb.x_type,aw=fb.y_type,rw=fb.box_whisker_multiplier,sw=fb.localization.input_decimal_separator,hw=fb.legend_filter.join(Q2),lw=fb.legend_filtering_mode,cw=fb.popup_parse_numbers,uw=fb.filter_updates_axes,fw=fb.slider_updates_axes,dw=fb.line_per_facet,q2.data.processed=!0}}function gw(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function _w(t){return Rc(t[t.length-1])}Y=_w(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(gw)),P=_w(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(gw)),i_=_w(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(gw)),Fe=_w(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(gw)),Xe=_w(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(gw)),Pe=_w(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(gw)),hu=_w(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(gw)),Bt=_w(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(gw)),Ue=_w(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(gw)),nt=_w(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(gw)),ee=_w(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(gw)),O=_w(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(gw)),Ye=_w(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(gw)),X_=_w(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(gw)),R=_w(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(gw)),In=_w(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(gw)),tt=_w(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(gw)),we=_w(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(gw)),p=_w(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(gw)),Ke=_w(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(gw)),Xp=_w(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(gw)),Cn=_w(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(gw)),F=_w(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(gw)),L0=_w(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(gw)),Ft=_w(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(gw)),Mh=_w(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(gw)),fe=_w(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(gw)),Kt=Uu(No(300,.5,0),No(-240,.5,1)),de=Uu(No(-100,.75,.35),No(80,1.5,.8)),Ee=Uu(No(260,.75,.35),No(80,1.5,.8));function mw(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}No();var Yt=mw(gw("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),qt=mw(gw("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),te=mw(gw("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),g=mw(gw("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),yw=Object.freeze({scale_type:"categorical",categorical_type:"palette",categorical_palette:["#1D6996","#EDAD08","#73AF48","#94346E","#38A6A5","#E17C05","#5F4690","#0F8554","#6F4070","#CC503E","#994E95","#666666"],categorical_extend:!0,categorical_custom_palette:"",numeric_type:"sequential",sequential_palette:"Blues",sequential_custom_min:"#FFFFFF",sequential_custom_max:"#000000",sequential_color_space:"rgb",sequential_reverse:!1,sequential_custom_domain:!1,sequential_domain_min:0,sequential_domain_max:1,diverging_palette:"RdBu",diverging_custom_min:"#67001f",diverging_custom_mid:"#f7f7f7",diverging_custom_max:"#053061",diverging_color_space:"rgb",diverging_reverse:!1,diverging_custom_domain:!1,diverging_domain_min:0,diverging_domain_mid:.5,diverging_domain_max:1,binning:!1,bin_count:4,bin_mode:"fixed",bin_thresholds:""}),vw=360/((1+Math.sqrt(5))/2),bw="#FF0000";function xw(l,c,u){return function(t,e){Array.isArray(t)||(t=t?[t]:[bw]),e=void 0!==e?e:vw;var n=t.map(function(t){return l(t)}).filter(function(t){return!isNaN(t[c])&&!isNaN(t[u])});n.length||(n=[l(bw)]);for(var r,t=n.length,i=n.reduce(function(t,e){return t+e[c]},0)/t,o=n.reduce(function(t,e){return t+e[u]},0)/t,a=t;r=n[--a].h,isNaN(r)&&0<a;);var s=0;return function(){var t=++s*e;return Ei(l((r+t)%360,i,o)).hex()}}}var ww={hcl:xw(co,"c","l"),hsl:xw(Zi,"s","l")};function Mw(t,e,n,r){var i,o=e[0],a=e[e.length-1],s=[];"custom"==t.bin_mode?l=(i=t.bin_thresholds.split(";").map(parseFloat).filter(function(t){return!isNaN(t)&&(o<t&&t<a)}).sort(kw)).length+1:(l=Math.floor(t.bin_count),i=[]);var l=function(t,e,n){for(var r=1/e,i=[],o=0;o<e;o++){var a=o/e+r/2,a=n[0]+a*(n[n.length-1]-n[0]);i.push(a)}t=i.map(t);return{positions:i,colors:t}}(r,l,e),c="fixed"==t.bin_mode?function t(){var e,n=0,r=1,i=1,o=[.5],a=[0,1];function s(t){return t<=t?a[Bs(o,t,0,i)]:e}function l(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*n)/(i+1);return s}return s.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],l()):[n,r]},s.range=function(t){return arguments.length?(i=(a=_c.call(t)).length-1,l()):a.slice()},s.invertExtent=function(t){return(t=a.indexOf(t))<0?[NaN,NaN]:t<1?[n,o[0]]:i<=t?[o[i-1],r]:[o[t-1],o[t]]},s.unknown=function(t){return arguments.length&&(e=t),s},s.thresholds=function(){return o.slice()},s.copy=function(){return t().domain([n,r]).range(a).unknown(e)},jl.apply(Ff(s),arguments)}().domain([o,a]):"quantile"==t.bin_mode?Xf().domain(n):function t(){var e,n=[.5],r=[0,1],i=1;function o(t){return t<=t?r[Bs(n,t,0,i)]:e}return o.domain=function(t){return arguments.length?(n=_c.call(t),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(t){return arguments.length?(r=_c.call(t),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(t){return t=r.indexOf(t),[n[t-1],n[t]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(n).range(r).unknown(e)},jl.apply(o,arguments)}().domain(i);c.range(l.colors),i.length||l.colors.forEach(function(t,e){e&&i.push(c.invertExtent(t)[0])}),i.forEach(function(t,e){e<i.length-1&&s.push((i[e+1]+t)/2)});l=function(t){return isNaN(t)?null:c(t)};return l.domain=Object.freeze(e),l.thresholds=Object.freeze(i),l.centers=Object.freeze(s),l}function kw(t,e){return t-e}function jw(t){return Array.isArray(t)?Qs(t):[0,1]}var Uu=Object.freeze(["#efeca4","#e9e28f","#dccf64","#e3b23c","#e49547","#e37746","#dc5b36","#cb4144","#bb2244","#972545","#6a2c4f"]),Aw=Object.freeze({Blues:Cn,BuGn:nt,BuPu:ee,Carrots:Rc(Uu),Cool:Ee,CubehelixDefault:Kt,GnBu:O,Greens:F,Greys:L0,Inferno:te,Magma:qt,Oranges:fe,OrRd:Ye,Plasma:g,PuBu:R,PuBuGn:X_,PuRd:In,Purples:Ft,RdPu:tt,Reds:Mh,Viridis:Yt,Warm:de,YlGn:p,YlGnBu:we,YlOrBr:Ke,YlOrRd:Xp}),Tw={hcl:Fu,hsl:Le,lab:Pu,rgb:kc};function zw(i,t){function e(t){return isNaN(t)?null:r(t)}var n=i.sequential_custom_domain&&!i.binning?[i.sequential_domain_min,i.sequential_domain_max]:jw(t),r=Jf(function(t){var e,n,r,e=Aw[i.sequential_palette]||(n=(e=i).sequential_color_space,r=i.sequential_custom_min,e=i.sequential_custom_max,Tw[n](r,e));return i.sequential_reverse?e(1-t):e(t)}).domain(n);return e.domain=Object.freeze(n),i.binning?Mw(i,n,t,e):e}var Nw=Object.freeze({BrBG:Y,PiYG:i_,PRGn:P,PuOr:Fe,RdBu:Xe,RdGy:Pe,RdYlBu:hu,RdYlGn:Bt,Spectral:Ue}),Dw={hcl:Fu,hsl:Le,lab:Pu,rgb:kc};function Sw(t){var e=t.diverging_color_space,n=t.diverging_custom_min,r=t.diverging_custom_mid,t=t.diverging_custom_max;return function(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}(Dw[e],[n,r,t])}var Iw,Ew,Lw={interpolateViridis:Yt,interpolateInferno:te,interpolateMagma:qt,interpolatePlasma:g,interpolateWarm:de,interpolateCool:Ee,interpolateBrBG:Y,interpolatePRGn:P,interpolatePiYG:i_,interpolatePuOr:Fe,interpolateRdBu:Xe,interpolateRdGy:Pe,interpolateRdYlBu:hu,interpolateRdYlGn:Bt,interpolateSpectral:Ue,interpolateBuGn:nt,interpolateBuPu:ee,interpolateGnBu:O,interpolateOrRd:Ye,interpolatePuBuGn:X_,interpolatePuBu:R,interpolatePuRd:In,interpolateRdPu:tt,interpolateYlGnBu:we,interpolateYlGn:p,interpolateYlOrBr:Ke,interpolateYlOrRd:Xp,interpolateBlues:Cn,interpolateGreens:F,interpolateGreys:L0,interpolatePurples:Ft,interpolateReds:Mh,interpolateOranges:fe},Cw=function(l){var t,c=null;for(t in yw)void 0===l[t]&&(l[t]=yw[t]);function u(t){return c&&c(t)||e}var e=null;return{getColor:u,updateColorScale:function(t){var e,n,r,i,o,a,s;return"categorical"===l.scale_type?(e=l,i={},o=pc(n=t).values(),a=e.categorical_palette,s=a.length,e.categorical_extend?(n=yw.rotation_angle,r=ww.hcl(a,n),o.forEach(function(t,e){i[t]=e<s?a[e]:r()})):o.forEach(function(t,e){i[t]=a[e%s]}),e.categorical_custom_palette.split("\n").filter(function(t){return t}).forEach(function(t){var e,n=t.lastIndexOf(":");-1!==n&&(e=t.slice(0,n).trim(),n=t.slice(n+1).trim(),e&&n&&(i[e]=n))}),(e=function(t){return i[t]}).domain=o.slice(),e.colors=o.map(function(t){return i[t]}),e.items=o.map(function(t){return{label:t,color:i[t]}}),c=e):"sequential"===l.numeric_type?c=zw(l,t):"diverging"===l.numeric_type&&(c=function(n,t){var e=jw(t),r=e[0]<0&&0<e[1]?0:(e[0]+e[1])/2,i=[e[0],r,e[1]];n.diverging_custom_domain&&(n.binning?i[1]=n.diverging_domain_mid:i=[n.diverging_domain_min,n.diverging_domain_mid,n.diverging_domain_max]);var o=Kf(function(t){var e=Nw[n.diverging_palette]||Sw(n);return n.diverging_reverse?e(1-t):e(t)}).domain(i);return(e=function(t){return isNaN(t)?null:o(t)}).domain=Object.freeze(i),e.midpoint=n.diverging_custom_domain?n.diverging_domain_mid:r,n.binning?Mw(n,i,t,e):e}(l,t)),u.thresholds=c.thresholds,u.centers=c.centers,u.midpoint=c.midpoint,u.domain=c.domain,u.colors=c.colors,u.items=c.items,this},fallback:function(t){return void 0===t?e:(e="default"===t?null:t,this)}}}(fb.color);function Ow(t,e){var n,r;e||(Iw=function(){return fb.default_color}),"number"==(Ew=t)&&(n=Jf(Lw[fb.spectrum]),r=Yf().domain(e).range([0,1]),Iw=function(t){return n(r(t))}),"discrete"==t&&Cw.updateColorScale(q2.data.map(function(t){return t.color}))}function Pw(t,e){return"number"==Ew&&isNaN(t)?e||fb.default_color:"discrete"==Ew?Cw.getColor(t):Iw(t)}var Rw=Math.PI,Fw=2*Rw,Yw=1e-6,Uw=Fw-Yw;function Bw(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Hw(){return new Bw}function Zw(t){return function(){return t}}Bw.prototype=Hw.prototype={constructor:Bw,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){var o,a,s=this._x1,l=this._y1,c=(n=+n)-(t=+t),u=(r=+r)-(e=+e),f=s-t,d=l-e,h=f*f+d*d;if((i=+i)<0)throw new Error("negative radius: "+i);null===this._x1?this._+="M"+(this._x1=t)+","+(this._y1=e):Yw<h&&(Math.abs(d*c-u*f)>Yw&&i?(a=c*c+u*u,s=(o=n-s)*o+(n=r-l)*n,r=Math.sqrt(a),l=Math.sqrt(h),l=(s=i*Math.tan((Rw-Math.acos((a+h-s)/(2*r*l)))/2))/l,r=s/r,Math.abs(l-1)>Yw&&(this._+="L"+(t+l*f)+","+(e+l*d)),this._+="A"+i+","+i+",0,0,"+ +(f*n<d*o)+","+(this._x1=t+r*c)+","+(this._y1=e+r*u)):this._+="L"+(this._x1=t)+","+(this._y1=e))},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,r=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Yw||Math.abs(this._y1-c)>Yw)&&(this._+="L"+l+","+c),n&&(Uw<(r=r<0?r%Fw+Fw:r)?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):Yw<r&&(this._+="A"+n+","+n+",0,"+ +(Rw<=r)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Gw=Math.PI,qw=2*Gw;function Qw(t){this._context=t}function Ww(t){return new Qw(t)}function Vw(t){return t[0]}function Xw(t){return t[1]}function $w(){var a=Vw,s=Xw,l=Zw(!0),c=null,u=Ww,f=null;function e(t){var e,n,r,i=t.length,o=!1;for(null==c&&(f=u(r=Hw())),e=0;e<=i;++e)!(e<i&&l(n=t[e],e,t))===o&&((o=!o)?f.lineStart():f.lineEnd()),o&&f.point(+a(n,e,t),+s(n,e,t));if(r)return f=null,r+""||null}return e.x=function(t){return arguments.length?(a="function"==typeof t?t:Zw(+t),e):a},e.y=function(t){return arguments.length?(s="function"==typeof t?t:Zw(+t),e):s},e.defined=function(t){return arguments.length?(l="function"==typeof t?t:Zw(!!t),e):l},e.curve=function(t){return arguments.length?(u=t,null!=c&&(f=u(c)),e):u},e.context=function(t){return arguments.length?(null==t?c=f=null:f=u(c=t),e):c},e}function Jw(){var u=Vw,f=null,d=Zw(0),h=Xw,p=Zw(!0),g=null,_=Ww,m=null;function e(t){var e,n,r,i,o,a=t.length,s=!1,l=new Array(a),c=new Array(a);for(null==g&&(m=_(o=Hw())),e=0;e<=a;++e){if(!(e<a&&p(i=t[e],e,t))===s)if(s=!s)n=e,m.areaStart(),m.lineStart();else{for(m.lineEnd(),m.lineStart(),r=e-1;n<=r;--r)m.point(l[r],c[r]);m.lineEnd(),m.areaEnd()}s&&(l[e]=+u(i,e,t),c[e]=+d(i,e,t),m.point(f?+f(i,e,t):l[e],h?+h(i,e,t):c[e]))}if(o)return m=null,o+""||null}function t(){return $w().defined(p).curve(_).context(g)}return e.x=function(t){return arguments.length?(u="function"==typeof t?t:Zw(+t),f=null,e):u},e.x0=function(t){return arguments.length?(u="function"==typeof t?t:Zw(+t),e):u},e.x1=function(t){return arguments.length?(f=null==t?null:"function"==typeof t?t:Zw(+t),e):f},e.y=function(t){return arguments.length?(d="function"==typeof t?t:Zw(+t),h=null,e):d},e.y0=function(t){return arguments.length?(d="function"==typeof t?t:Zw(+t),e):d},e.y1=function(t){return arguments.length?(h=null==t?null:"function"==typeof t?t:Zw(+t),e):h},e.lineX0=e.lineY0=function(){return t().x(u).y(d)},e.lineY1=function(){return t().x(u).y(h)},e.lineX1=function(){return t().x(f).y(d)},e.defined=function(t){return arguments.length?(p="function"==typeof t?t:Zw(!!t),e):p},e.curve=function(t){return arguments.length?(_=t,null!=g&&(m=_(g)),e):_},e.context=function(t){return arguments.length?(null==t?g=m=null:m=_(g=t),e):g},e}Qw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Kw={draw:function(t,e){e=Math.sqrt(e/Gw);t.moveTo(e,0),t.arc(0,0,e,0,qw)}},Cn={draw:function(t,e){e=Math.sqrt(e/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},t3=Math.sqrt(1/3),e3=2*t3,F={draw:function(t,e){var n=Math.sqrt(e/e3),e=n*t3;t.moveTo(0,-n),t.lineTo(e,0),t.lineTo(0,n),t.lineTo(-e,0),t.closePath()}},L0=Math.sin(Gw/10)/Math.sin(7*Gw/10),n3=Math.sin(qw/10)*L0,r3=-Math.cos(qw/10)*L0,Ft={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=n3*n,i=r3*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=qw*o/5,s=Math.cos(a),a=Math.sin(a);t.lineTo(a*n,-s*n),t.lineTo(s*r-a*i,a*r+s*i)}t.closePath()}},Mh={draw:function(t,e){var n=Math.sqrt(e),e=-n/2;t.rect(e,e,n,n)}},i3=Math.sqrt(3),fe={draw:function(t,e){e=-Math.sqrt(e/(3*i3));t.moveTo(0,2*e),t.lineTo(-i3*e,-e),t.lineTo(i3*e,-e),t.closePath()}},o3=-.5,a3=Math.sqrt(3)/2,s3=1/Math.sqrt(12),l3=3*(s3/2+1),L0={draw:function(t,e){var n=Math.sqrt(e/l3),r=n/2,i=n*s3,o=r,a=n*s3+n,e=-o,n=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(e,n),t.lineTo(o3*r-a3*i,a3*r+o3*i),t.lineTo(o3*o-a3*a,a3*o+o3*a),t.lineTo(o3*e-a3*n,a3*e+o3*n),t.lineTo(o3*r+a3*i,o3*i-a3*r),t.lineTo(o3*o+a3*a,o3*a-a3*o),t.lineTo(o3*e+a3*n,o3*n-a3*e),t.closePath()}};function c3(t){this._context=t}function u3(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(o[i[0]=0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;0<=e;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function f3(t){return new c3(t)}c3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=u3(t),i=u3(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var d3,h3,p3={symbolCircle:Kw,symbolCross:Cn,symbolDiamond:F,symbolWye:L0,symbolTriangle:fe,symbolStar:Ft,symbolSquare:Mh},g3=Object.keys(p3);function _3(){return fb.default_shape}function m3(t,e){var n,r;e||(d3=_3),"number"==t&&(n=e,d3=function(t){return void 0===t||isNaN(t)?fb.default_shape:Xf().domain(n).range(g3)(t)}),"discrete"==t&&(r=e,d3=function(t){return void 0===t||""===t?fb.default_shape:yc().domain(r).range(g3)(t)})}function y3(t,e){var n=fb.data_point_min_size,r=fb.data_point_max_size;e&&void 0!==e[0]&&void 0!==e[1]?"number"==t?h3=Yf().domain([0,e[1]]).range([0,r]).clamp(!0):"discrete"==t&&(t=(r-n)/(e.length-1),h3=yc().domain(e).range(function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}(n,r+t,t))):h3=function(){return fb.data_point_default_size}}function v3(t){var e=Z2.discrete_vs_numerical&&fb.beeswarm_plot;return""==t.size||e?fb.data_point_default_size:Math.max(fb.data_point_min_size,h3(t.size||null))}function b3(t){return d3(t.shape)||fb.default_shape}function x3(t){var e,n,r,i=p3[b3(t)],t=v3(t);return e=Zw(Kw),n=Zw(64),r=null,o.type=function(t){return arguments.length?(e="function"==typeof t?t:Zw(t),o):e},o.size=function(t){return arguments.length?(n="function"==typeof t?t:Zw(+t),o):n},o.context=function(t){return arguments.length?(r=null==t?null:t,o):r},o.type(i).size(t)();function o(){var t;if(r=r||(t=Hw()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),t)return r=null,t+""||null}}function w3(t){return Math.sqrt(v3(t)/Math.PI)}var M3="fl-spanner",k3=M3+"-";function j3(e){("string"==typeof e||e instanceof HTMLElement)&&(e=Ps(e));function n(t,e){var n=i.text(t,e);if(!n||"string"!=typeof n)return null;var r=n.trim();return r?{original:n,trimmed:r,length:r.length,d:t,i:e}:null}function r(){var t=e.node(),r=e.text(),a=(a=i.element)||(t instanceof SVGElement||"svg"===t.nodeName.toLowerCase()?"tspan":"span");return i.data.map(n).filter(function(t){return t}).sort(function(t,e){return e.length-t.length||t.i-e.i}).forEach(function(o){var t,e,n,e=(t=a,n=(e=o).trimmed.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),e=i.ignore_case?"gi":"g",new RegExp("<"+t+".*?<\\/"+t+">"+"|(?:"+("(^|[^A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ])("+n+")($|[^A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ])")+")",e));r=r.replace(e,function(t,e,n,r){return n?e+(i=a,e=o.i,"<"+i+" class='"+k3+e+"'>"+n+"</"+i+">")+r:t;var i})}),e.html(r),e.selectAll(a).each(function(){var t=i.data[this.getAttribute("class").slice(k3.length)];Ps(this).datum(t).attr("class",i.class)})}var i={data:[],element:null,ignore_case:!0,text:function(t){return t},class:M3};return r.data=function(t){return void 0===t?i.data:(i.data=Array.isArray(t)?t:[t],r)},r.element=function(t){return void 0===t?i.element:(i.element=t,r)},r.ignoreCase=function(t){return void 0===t?i.ignore_case:(i.ignore_case=!!t,r)},r.text=function(t){return void 0===t?i.text:(i.text=t,r)},r.class=function(t){return void 0===t?i.class:(i.class=t,r)},r}function A3(t,e,n,r){var i=Ak(e);j3(t).data(e)().style("color",function(t){return n(t)}).style("opacity",function(t){return"off"!=fb.legend_filtering_mode&&-1!==fb.legend_filter.indexOf(t)?.3:1}).style("cursor","off"!=fb.legend_filtering_mode?"pointer":null).style("font-weight",r).on("click",i)}s("Uint8",function(r){return function(t,e,n){return r(this,t,e,n)}}),s("Uint16",function(r){return function(t,e,n){return r(this,t,e,n)}}),s("Int8",function(r){return function(t,e,n){return r(this,t,e,n)}}),s("Int16",function(r){return function(t,e,n){return r(this,t,e,n)}}),s("Int32",function(r){return function(t,e,n){return r(this,t,e,n)}}),s("Float32",function(r){return function(t,e,n){return r(this,t,e,n)}}),s("Uint8",function(r){return function(t,e,n){return r(this,t,e,n)}},!0),$t({target:"String",proto:!0,forced:r_("link")},{link:function(t){return f2(this,"a","href",t)}});var T3=n(function(t,e){t.exports=function(){var nt=function t(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},rt=function t(e,n){var r=Object.keys(n);for(var i=0;i<r.length;++i)e[r[i]]=n[r[i]];return e},c="\n";function f(t){if(typeof atob!=="undefined")return atob(t);return"base64:"+t}function r(t){var e=new Error("(regl) "+t);console.error(e);throw e}function p(t,e){if(!t)r(e)}function i(t){if(t)return": "+t;return""}function t(t,e,n){if(!(t in e))r("unknown parameter ("+t+")"+i(n)+". possible values: "+Object.keys(e).join())}function e(t,e){if(!nt(t))r("invalid parameter type"+i(e)+". must be a typed array")}function n(t,e,n){if(Zs(t)!==e)r("invalid parameter type"+i(n)+". expected "+e+", got "+Zs(t))}function o(t,e){if(!(t>=0&&(t|0)===t))r("invalid parameter type, ("+t+")"+i(e)+". must be a nonnegative integer")}function a(t,e,n){if(e.indexOf(t)<0)r("invalid value"+i(n)+". must be one of: "+e)}var s=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function l(t){Object.keys(t).forEach(function(t){if(s.indexOf(t)<0)r('invalid regl constructor argument "'+t+'". must be one of '+s)})}function u(t,e){t=t+"";while(t.length<e)t=" "+t;return t}function d(){this.name="unknown";this.lines=[];this.index={};this.hasErrors=false}function h(t,e){this.number=t;this.line=e;this.errors=[]}function g(t,e,n){this.file=t;this.line=e;this.message=n}function _(){var t=new Error;var e=(t.stack||t).toString();var n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(e);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(e);if(r)return r[1];return"unknown"}function m(){var t=new Error;var e=(t.stack||t).toString();var n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(e);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(e);if(r)return r[1];return"unknown"}function y(t,e){var n=t.split("\n");var r=1;var i=0;var o={unknown:new d,0:new d};o.unknown.name=o[0].name=e||_();o.unknown.lines.push(new h(0,""));for(var a=0;a<n.length;++a){var s=n[a];var l=/^\s*\#\s*(\w+)\s+(.+)\s*$/.exec(s);if(l)switch(l[1]){case"line":var c=/(\d+)(\s+\d+)?/.exec(l[2]);if(c){r=c[1]|0;if(c[2]){i=c[2]|0;if(!(i in o))o[i]=new d}}break;case"define":var u=/SHADER_NAME(_B64)?\s+(.*)$/.exec(l[2]);if(u)o[i].name=u[1]?f(u[2]):u[2];break}o[i].lines.push(new h(r++,s))}Object.keys(o).forEach(function(t){var e=o[t];e.lines.forEach(function(t){e.index[t.number]=t})});return o}function v(t){var n=[];t.split("\n").forEach(function(t){if(t.length<5)return;var e=/^ERROR\:\s+(\d+)\:(\d+)\:\s*(.*)$/.exec(t);if(e)n.push(new g(e[1]|0,e[2]|0,e[3].trim()));else if(t.length>0)n.push(new g("unknown",0,t))});return n}function b(r,t){t.forEach(function(t){var e=r[t.file];if(e){var n=e.index[t.line];if(n){n.errors.push(t);e.hasErrors=true;return}}r.unknown.hasErrors=true;r.unknown.lines[0].errors.push(t)})}function x(t,e,n,r,i){if(!t.getShaderParameter(e,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(e);var a=r===t.FRAGMENT_SHADER?"fragment":"vertex";z(n,"string",a+" shader source must be a string",i);var s=y(n,i);var l=v(o);b(s,l);Object.keys(s).forEach(function(t){var e=s[t];if(!e.hasErrors)return;var n=[""];var r=[""];function a(t,e){n.push(t);r.push(e||"")}a("file number "+t+": "+e.name+"\n","color:red;text-decoration:underline;font-weight:bold");e.lines.forEach(function(i){if(i.errors.length>0){a(u(i.number,4)+"|  ","background-color:yellow; font-weight:bold");a(i.line+c,"color:red; background-color:yellow; font-weight:bold");var o=0;i.errors.forEach(function(t){var e=t.message;var n=/^\s*\'(.*)\'\s*\:\s*(.*)$/.exec(e);if(n){var r=n[1];e=n[2];switch(r){case"assign":r="=";break}o=Math.max(i.line.indexOf(r,o),0)}else o=0;a(u("| ",6));a(u("^^^",o+3)+c,"font-weight:bold");a(u("| ",6));a(e+c,"font-weight:bold")});a(u("| ",6)+c)}else{a(u(i.number,4)+"|  ");a(i.line+c,"color:red")}});if(typeof document!=="undefined"&&!window.chrome){r[0]=n.join("%c");console.log.apply(console,r)}else console.log(n.join(""))});p.raise("Error compiling "+a+" shader, "+s[0].name)}}function w(t,e,n,r,i){if(!t.getProgramParameter(e,t.LINK_STATUS)){var o=t.getProgramInfoLog(e);var a=y(n,i);var s=y(r,i);var l='Error linking program with vertex shader, "'+s[0].name+'", and fragment shader "'+a[0].name+'"';if(typeof document!=="undefined")console.log("%c"+l+c+"%c"+o,"color:red;text-decoration:underline;font-weight:bold","color:red");else console.log(l+c+o);p.raise(l)}}function M(t){t._commandRef=_()}function k(t,e,n,r){M(t);function i(t){if(t)return r.id(t);return 0}t._fragId=i(t.static.frag);t._vertId=i(t.static.vert);function o(e,t){Object.keys(t).forEach(function(t){e[r.id(t)]=true})}var a=t._uniformSet={};o(a,e.static);o(a,e.dynamic);var s=t._attributeSet={};o(s,n.static);o(s,n.dynamic);t._hasCount="count"in t.static||"count"in t.dynamic||"elements"in t.static||"elements"in t.dynamic}function j(t,e){var n=m();r(t+" in command "+(e||_())+(n==="unknown"?"":" called from "+n))}function A(t,e,n){if(!t)j(e,n||_())}function T(t,e,n,r){if(!(t in e))j("unknown parameter ("+t+")"+i(n)+". possible values: "+Object.keys(e).join(),r||_())}function z(t,e,n,r){if(Zs(t)!==e)j("invalid parameter type"+i(n)+". expected "+e+", got "+Zs(t),r||_())}function N(t){t()}function D(t,e,n){if(t.texture)a(t.texture._texture.internalformat,e,"unsupported texture format for attachment");else a(t.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var S=33071,I=9728,E=9984,L=9985,C=9986,O=9987,P,R,F=5122,Y=5123,U=5124,B=5125,H=5126,Z=32819,G=32820,q=33635,Q=34042,W=36193,V={};function X(t,e){if(t===G||t===Z||t===q)return 2;else if(t===Q)return 4;else return V[t]*e}function $(t){return!(t&t-1)&&!!t}function J(t,e,n){var r;var i=e.width;var o=e.height;var a=e.channels;p(i>0&&i<=n.maxTextureSize&&o>0&&o<=n.maxTextureSize,"invalid texture shape");if(t.wrapS!==S||t.wrapT!==S)p($(i)&&$(o),"incompatible wrap mode for texture, both width and height must be power of 2");if(e.mipmask===1){if(i!==1&&o!==1)p(t.minFilter!==E&&t.minFilter!==C&&t.minFilter!==L&&t.minFilter!==O,"min filter requires mipmap")}else{p($(i)&&$(o),"texture must be a square power of 2 to support mipmapping");p(e.mipmask===(i<<1)-1,"missing or incomplete mipmap data")}if(e.type===H){if(n.extensions.indexOf("oes_texture_float_linear")<0)p(t.minFilter===I&&t.magFilter===I,"filter not supported, must enable oes_texture_float_linear");p(!t.genMipmaps,"mipmap generation not supported with float textures")}var s=e.images;for(r=0;r<16;++r)if(s[r]){var l=i>>r;var c=o>>r;p(e.mipmask&1<<r,"missing mipmap data");var u=s[r];p(u.width===l&&u.height===c,"invalid shape for mip images");p(u.format===e.format&&u.internalformat===e.internalformat&&u.type===e.type,"incompatible type for mip image");if(u.compressed);else if(u.data){var f=Math.ceil(X(u.type,a)*l/u.unpackAlignment)*u.unpackAlignment;p(u.data.byteLength===f*c,"invalid data for image, buffer size is inconsistent with image format")}else if(u.element);else if(u.copy);}else if(!t.genMipmaps)p((e.mipmask&1<<r)===0,"extra mipmap data");if(e.compressed)p(!t.genMipmaps,"mipmap generation for compressed images not supported")}function K(t,e,n,r){var i=t.width;var o=t.height;var a=t.channels;p(i>0&&i<=r.maxTextureSize&&o>0&&o<=r.maxTextureSize,"invalid texture shape");p(i===o,"cube map must be square");p(e.wrapS===S&&e.wrapT===S,"wrap mode not supported by cube map");for(var s=0;s<n.length;++s){var l=n[s];p(l.width===i&&l.height===o,"inconsistent cube map face shape");if(e.genMipmaps){p(!l.compressed,"can not generate mipmap for compressed textures");p(l.mipmask===1,"can not specify mipmaps and generate mipmaps")}var c=l.images;for(var u=0;u<16;++u){var f=c[u];if(f){var d=i>>u;var h=o>>u;p(l.mipmask&1<<u,"missing mipmap data");p(f.width===d&&f.height===h,"invalid shape for mip images");p(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image");if(f.compressed);else if(f.data)p(f.data.byteLength===d*h*Math.max(X(f.type,a),f.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format");else if(f.element);else if(f.copy);}}}}V[5120]=V[5121]=1,V[F]=V[Y]=V[W]=V[q]=V[Z]=V[G]=2,V[U]=V[B]=V[H]=V[Q]=4;var at=rt(p,{optional:N,raise:r,commandRaise:j,command:A,parameter:t,commandParameter:T,constructor:l,type:n,commandType:z,isTypedArray:e,nni:o,oneOf:a,shaderError:x,linkError:w,callSite:m,saveCommandRef:M,saveDrawInfo:k,framebufferFormat:D,guessCommand:_,texture2D:J,textureCube:K}),tt=0,et=0;function it(t,e){this.id=tt++;this.type=t;this.data=e}function ot(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function st(t){if(t.length===0)return[];var e=t.charAt(0);var n=t.charAt(t.length-1);if(t.length>1&&e===n&&(e==='"'||e==="'"))return['"'+ot(t.substr(1,t.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t);if(r)return st(t.substr(0,r.index)).concat(st(r[1])).concat(st(t.substr(r.index+r[0].length)));var i=t.split(".");if(i.length===1)return['"'+ot(t)+'"'];var o=[];for(var a=0;a<i.length;++a)o=o.concat(st(i[a]));return o}function lt(t){return"["+st(t).join("][")+"]"}function ct(t,e){return new it(t,lt(e+""))}function ut(t){return typeof t==="function"&&!t._reglType||t instanceof it}function ft(t,e){if(typeof t==="function")return new it(et,t);return t}var dt={DynamicVariable:it,define:ct,isDynamic:ut,unbox:ft,accessor:lt},ht={next:typeof requestAnimationFrame==="function"?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:typeof cancelAnimationFrame==="function"?function(t){return cancelAnimationFrame(t)}:clearTimeout},pt=typeof performance!=="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function gt(){var r={"":0};var i=[""];return{id:function t(e){var n=r[e];if(n)return n;n=r[e]=i.length;i.push(e);return n},str:function t(e){return i[e]}}}function _t(r,t,i){var o=document.createElement("canvas");rt(o.style,{border:0,margin:0,padding:0,top:0,left:0});r.appendChild(o);if(r===document.body){o.style.position="absolute";rt(r.style,{margin:0,padding:0})}function e(){var t=window.innerWidth;var e=window.innerHeight;if(r!==document.body){var n=r.getBoundingClientRect();t=n.right-n.left;e=n.bottom-n.top}o.width=i*t;o.height=i*e;rt(o.style,{width:t+"px",height:e+"px"})}window.addEventListener("resize",e,false);function n(){window.removeEventListener("resize",e);r.removeChild(o)}e();return{canvas:o,onDestroy:n}}function mt(e,n){function t(t){try{return e.getContext(t,n)}catch(t){return null}}return t("webgl")||t("experimental-webgl")||t("webgl-experimental")}function yt(t){return typeof t.nodeName==="string"&&typeof t.appendChild==="function"&&typeof t.getBoundingClientRect==="function"}function vt(t){return typeof t.drawArrays==="function"||typeof t.drawElements==="function"}function bt(t){if(typeof t==="string")return t.split();at(Array.isArray(t),"invalid extension array");return t}function xt(t){if(typeof t==="string"){at(typeof document!=="undefined","not supported outside of DOM");return document.querySelector(t)}return t}function wt(t){var e=t||{};var n,r,i,o;var a={};var s=[];var l=[];var c=typeof window==="undefined"?1:window.devicePixelRatio;var u=false;var f=function t(e){if(e)at.raise(e)};var d=function t(){};if(typeof e==="string"){at(typeof document!=="undefined","selector queries only supported in DOM enviroments");n=document.querySelector(e);at(n,"invalid query string for element")}else if(Zs(e)==="object")if(yt(e))n=e;else if(vt(e)){o=e;i=o.canvas}else{at.constructor(e);if("gl"in e)o=e.gl;else if("canvas"in e)i=xt(e.canvas);else if("container"in e)r=xt(e.container);if("attributes"in e){a=e.attributes;at.type(a,"object","invalid context attributes")}if("extensions"in e)s=bt(e.extensions);if("optionalExtensions"in e)l=bt(e.optionalExtensions);if("onDone"in e){at.type(e.onDone,"function","invalid or missing onDone callback");f=e.onDone}if("profile"in e)u=!!e.profile;if("pixelRatio"in e){c=+e.pixelRatio;at(c>0,"invalid pixel ratio")}}else at.raise("invalid arguments to regl");if(n)if(n.nodeName.toLowerCase()==="canvas")i=n;else r=n;if(!o){if(!i){at(typeof document!=="undefined","must manually specify webgl context outside of DOM environments");var h=_t(r||document.body,f,c);if(!h)return null;i=h.canvas;d=h.onDestroy}o=mt(i,a)}if(!o){d();f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org");return null}return{gl:o,canvas:i,container:r,extensions:s,optionalExtensions:l,pixelRatio:c,profile:u,onDone:f,onDestroy:d}}function Mt(r,t){var i={};function e(t){at.type(t,"string","extension name must be string");var e=t.toLowerCase();var n;try{n=i[e]=r.getExtension(e)}catch(t){}return!!n}for(var n=0;n<t.extensions.length;++n){var o=t.extensions[n];if(!e(o)){t.onDestroy();t.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser');return null}}t.optionalExtensions.forEach(e);return{extensions:i,restore:function t(){Object.keys(i).forEach(function(t){if(i[t]&&!e(t))throw new Error("(regl): error restoring extension "+t)})}}}function kt(t,e){var n=Array(t);for(var r=0;r<t;++r)n[r]=e(r);return n}var jt=5120,At=5121,Tt=5122,zt=5123,Nt=5124,Dt=5125,St=5126;function It(t){for(var e=16;e<=1<<28;e*=16)if(t<=e)return e;return 0}function Et(t){var e,n;e=(t>65535)<<4;t>>>=e;n=(t>255)<<3;t>>>=n;e|=n;n=(t>15)<<2;t>>>=n;e|=n;n=(t>3)<<1;t>>>=n;e|=n;return e|t>>1}function Lt(){var r=kt(8,function(){return[]});function i(t){var e=It(t);var n=r[Et(e)>>2];if(n.length>0)return n.pop();return new ArrayBuffer(e)}function e(t){r[Et(t.byteLength)>>2].push(t)}function t(t,e){var n=null;switch(t){case jt:n=new Int8Array(i(e),0,e);break;case At:n=new Uint8Array(i(e),0,e);break;case Tt:n=new Int16Array(i(2*e),0,e);break;case zt:n=new Uint16Array(i(2*e),0,e);break;case Nt:n=new Int32Array(i(4*e),0,e);break;case Dt:n=new Uint32Array(i(4*e),0,e);break;case St:n=new Float32Array(i(4*e),0,e);break;default:return null}if(n.length!==e)return n.subarray(0,e);return n}function n(t){e(t.buffer)}return{alloc:i,free:e,allocType:t,freeType:n}}var Ct=Lt();Ct.zero=Lt();var Ot=3408,Pt=3410,Rt=3411,Ft=3412,Yt=3413,Ut=3414,Bt=3415,Ht=33901,Zt=33902,Gt=3379,qt=3386,Qt=34921,Wt=36347,Vt=36348,Xt=35661,$t=35660,Jt=34930,Kt=36349,te=34076,ee=34024,ne=7936,re=7937,ie=7938,oe=35724,ae=34047,se=36063,le=34852,ce=3553,ue=34067,fe=34069,de=33984,he=6408,pe=5126,ge=5121,_e=36160,me=36053,ye=36064,ve=16384,be=function t(e,n){var r=1;if(n.ext_texture_filter_anisotropic)r=e.getParameter(ae);var i=1;var o=1;if(n.webgl_draw_buffers){i=e.getParameter(le);o=e.getParameter(se)}var a=!!n.oes_texture_float;if(a){var s=e.createTexture();e.bindTexture(ce,s);e.texImage2D(ce,0,he,1,1,0,he,pe,null);var l=e.createFramebuffer();e.bindFramebuffer(_e,l);e.framebufferTexture2D(_e,ye,ce,s,0);e.bindTexture(ce,null);if(e.checkFramebufferStatus(_e)!==me)a=false;else{e.viewport(0,0,1,1);e.clearColor(1,0,0,1);e.clear(ve);var c=Ct.allocType(pe,4);e.readPixels(0,0,1,1,he,pe,c);if(e.getError())a=false;else{e.deleteFramebuffer(l);e.deleteTexture(s);a=c[0]===1}Ct.freeType(c)}}var u=typeof navigator!=="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent));var f=true;if(!u){var d=e.createTexture();var h=Ct.allocType(ge,36);e.activeTexture(de);e.bindTexture(ue,d);e.texImage2D(fe,0,he,3,3,0,he,ge,h);Ct.freeType(h);e.bindTexture(ue,null);e.deleteTexture(d);f=!e.getError()}return{colorBits:[e.getParameter(Pt),e.getParameter(Rt),e.getParameter(Ft),e.getParameter(Yt)],depthBits:e.getParameter(Ut),stencilBits:e.getParameter(Bt),subpixelBits:e.getParameter(Ot),extensions:Object.keys(n).filter(function(t){return!!n[t]}),maxAnisotropic:r,maxDrawbuffers:i,maxColorAttachments:o,pointSizeDims:e.getParameter(Ht),lineWidthDims:e.getParameter(Zt),maxViewportDims:e.getParameter(qt),maxCombinedTextureUnits:e.getParameter(Xt),maxCubeMapSize:e.getParameter(te),maxRenderbufferSize:e.getParameter(ee),maxTextureUnits:e.getParameter(Jt),maxTextureSize:e.getParameter(Gt),maxAttributes:e.getParameter(Qt),maxVertexUniforms:e.getParameter(Wt),maxVertexTextureUnits:e.getParameter($t),maxVaryingVectors:e.getParameter(Vt),maxFragmentUniforms:e.getParameter(Kt),glsl:e.getParameter(oe),renderer:e.getParameter(re),vendor:e.getParameter(ne),version:e.getParameter(ie),readFloat:a,npotTextureCube:f}};function xe(t){return!!t&&Zs(t)==="object"&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&typeof t.offset==="number"&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||nt(t.data))}var we=function t(e){return Object.keys(e).map(function(t){return e[t]})},Me={shape:Ne,flatten:ze};function ke(t,e,n){for(var r=0;r<e;++r)n[r]=t[r]}function je(t,e,n,r){var i=0;for(var o=0;o<e;++o){var a=t[o];for(var s=0;s<n;++s)r[i++]=a[s]}}function Ae(t,e,n,r,i,o){var a=o;for(var s=0;s<e;++s){var l=t[s];for(var c=0;c<n;++c){var u=l[c];for(var f=0;f<r;++f)i[a++]=u[f]}}}function Te(t,e,n,r,i){var o=1;for(var a=n+1;a<e.length;++a)o*=e[a];var s=e[n];if(e.length-n===4){var l=e[n+1];var c=e[n+2];var u=e[n+3];for(a=0;a<s;++a){Ae(t[a],l,c,u,r,i);i+=o}}else for(a=0;a<s;++a){Te(t[a],e,n+1,r,i);i+=o}}function ze(t,e,n,r){var i=1;if(e.length)for(var o=0;o<e.length;++o)i*=e[o];else i=0;var a=r||Ct.allocType(n,i);switch(e.length){case 0:break;case 1:ke(t,e[0],a);break;case 2:je(t,e[0],e[1],a);break;case 3:Ae(t,e[0],e[1],e[2],a,0);break;default:Te(t,e,0,a,0)}return a}function Ne(t){var e=[];for(var n=t;n.length;n=n[0])e.push(n.length);return e}var De={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Se,Ie,Ee,Le,Ce,Oe,Pe,Re,Fe={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Ye,Ue,Be={dynamic:35048,stream:35040,static:35044},He=Me.flatten,Ze=Me.shape,Ge=35044,qe=35040,Qe=5121,We=5126,Ve=[];function Xe(t){return De[Object.prototype.toString.call(t)]|0}function $e(t,e){for(var n=0;n<e.length;++n)t[n]=e[n]}function Je(t,e,n,r,i,o,a){var s=0;for(var l=0;l<n;++l)for(var c=0;c<r;++c)t[s++]=e[i*l+o*c+a]}function Ke(s,i,l,o){var e=0;var c={};function u(t){this.id=e++;this.buffer=s.createBuffer();this.type=t;this.usage=Ge;this.byteLength=0;this.dimension=1;this.dtype=Qe;this.persistentData=null;if(l.profile)this.stats={size:0}}u.prototype.bind=function(){s.bindBuffer(this.type,this.buffer)};u.prototype.destroy=function(){d(this)};var r=[];function t(t,e){var n=r.pop();if(!n)n=new u(t);n.bind();f(n,e,qe,0,1,false);return n}function n(t){r.push(t)}function y(t,e,n){t.byteLength=e.byteLength;s.bufferData(t.type,e,n)}function f(t,e,n,r,i,o){var a;t.usage=n;if(Array.isArray(e)){t.dtype=r||We;if(e.length>0){var s;if(Array.isArray(e[0])){a=Ze(e);var l=1;for(var c=1;c<a.length;++c)l*=a[c];t.dimension=l;s=He(e,a,t.dtype);y(t,s,n);if(o)t.persistentData=s;else Ct.freeType(s)}else if(typeof e[0]==="number"){t.dimension=i;var u=Ct.allocType(t.dtype,e.length);$e(u,e);y(t,u,n);if(o)t.persistentData=u;else Ct.freeType(u)}else if(nt(e[0])){t.dimension=e[0].length;t.dtype=r||Xe(e[0])||We;s=He(e,[e.length,e[0].length],t.dtype);y(t,s,n);if(o)t.persistentData=s;else Ct.freeType(s)}else at.raise("invalid buffer data")}}else if(nt(e)){t.dtype=r||Xe(e);t.dimension=i;y(t,e,n);if(o)t.persistentData=new Uint8Array(new Uint8Array(e.buffer))}else if(xe(e)){a=e.shape;var f=e.stride;var d=e.offset;var h=0;var p=0;var g=0;var _=0;if(a.length===1){h=a[0];p=1;g=f[0];_=0}else if(a.length===2){h=a[0];p=a[1];g=f[0];_=f[1]}else at.raise("invalid shape");t.dtype=r||Xe(e.data)||We;t.dimension=p;var m=Ct.allocType(t.dtype,h*p);Je(m,e.data,h,p,g,_,d);y(t,m,n);if(o)t.persistentData=m;else Ct.freeType(m)}else at.raise("invalid buffer data")}function d(t){i.bufferCount--;for(var e=0;e<o.state.length;++e){var n=o.state[e];if(n.buffer===t){s.disableVertexAttribArray(e);n.buffer=null}}var r=t.buffer;at(r,"buffer must not be deleted already");s.deleteBuffer(r);t.buffer=null;delete c[t.id]}function a(t,e,n,a){i.bufferCount++;var h=new u(e);c[h.id]=h;function p(t){var e=Ge;var n=null;var r=0;var i=0;var o=1;if(Array.isArray(t)||nt(t)||xe(t))n=t;else if(typeof t==="number")r=t|0;else if(t){at.type(t,"object","buffer arguments must be an object, a number or an array");if("data"in t){at(n===null||Array.isArray(n)||nt(n)||xe(n),"invalid data for buffer");n=t.data}if("usage"in t){at.parameter(t.usage,Be,"invalid buffer usage");e=Be[t.usage]}if("type"in t){at.parameter(t.type,Fe,"invalid buffer type");i=Fe[t.type]}if("dimension"in t){at.type(t.dimension,"number","invalid dimension");o=t.dimension|0}if("length"in t){at.nni(r,"buffer length must be a nonnegative integer");r=t.length|0}}h.bind();if(!n){if(r)s.bufferData(h.type,r,e);h.dtype=i||Qe;h.usage=e;h.dimension=o;h.byteLength=r}else f(h,n,e,i,o,a);if(l.profile)h.stats.size=h.byteLength*Ve[h.dtype];return p}function g(t,e){at(e+t.byteLength<=h.byteLength,"invalid buffer subdata call, buffer is too small. "+" Can't write data of size "+t.byteLength+" starting from offset "+e+" to a buffer of size "+h.byteLength);s.bufferSubData(h.type,e,t)}function r(t,e){var n=(e||0)|0;var r;h.bind();if(nt(t))g(t,n);else if(Array.isArray(t)){if(t.length>0)if(typeof t[0]==="number"){var i=Ct.allocType(h.dtype,t.length);$e(i,t);g(i,n);Ct.freeType(i)}else if(Array.isArray(t[0])||nt(t[0])){r=Ze(t);var o=He(t,r,h.dtype);g(o,n);Ct.freeType(o)}else at.raise("invalid buffer data")}else if(xe(t)){r=t.shape;var a=t.stride;var s=0;var l=0;var c=0;var u=0;if(r.length===1){s=r[0];l=1;c=a[0];u=0}else if(r.length===2){s=r[0];l=r[1];c=a[0];u=a[1]}else at.raise("invalid shape");var f=Array.isArray(t.data)?h.dtype:Xe(t.data);var d=Ct.allocType(f,s*l);Je(d,t.data,s,l,c,u,t.offset);g(d,n);Ct.freeType(d)}else at.raise("invalid data for buffer subdata");return p}if(!n)p(t);p._reglType="buffer";p._buffer=h;p.subdata=r;if(l.profile)p.stats=h.stats;p.destroy=function(){d(h)};return p}function h(){we(c).forEach(function(t){t.buffer=s.createBuffer();s.bindBuffer(t.type,t.buffer);s.bufferData(t.type,t.persistentData||t.byteLength,t.usage)})}if(l.profile)i.getTotalBufferSize=function(){var e=0;Object.keys(c).forEach(function(t){e+=c[t].stats.size});return e};return{create:a,createStream:t,destroyStream:n,clear:function t(){we(c).forEach(d);r.forEach(d)},getBuffer:function t(e){if(e&&e._buffer instanceof u)return e._buffer;return null},restore:h,_initBuffer:f}}Ve[5120]=1,Ve[5122]=2,Ve[5124]=4,Ve[5121]=1,Ve[5123]=2,Ve[5125]=4;var tn,en,nn,rn,on,an,sn={points:0,point:0,lines:1,line:1,triangles:Ve[5126]=4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},ln=0,cn=1,un=4,fn=5120,dn=5121,hn=5122,pn=5123,gn=5124,_n=5125,mn=34963,yn=35040,vn=35044;function bn(d,h,p,n){var e={};var r=0;var u={uint8:dn,uint16:pn};if(h.oes_element_index_uint)u.uint32=_n;function i(t){this.id=r++;e[this.id]=this;this.buffer=t;this.primType=un;this.vertCount=0;this.type=0}i.prototype.bind=function(){this.buffer.bind()};var o=[];function t(t){var e=o.pop();if(!e)e=new i(p.create(null,mn,true,false)._buffer);f(e,t,yn,-1,-1,0,0);return e}function a(t){o.push(t)}function f(t,e,n,r,i,o,a){t.buffer.bind();if(e){var s=a;if(!a&&(!nt(e)||xe(e)&&!nt(e.data)))s=h.oes_element_index_uint?_n:pn;p._initBuffer(t.buffer,e,n,s,3)}else{d.bufferData(mn,o,n);t.buffer.dtype=l||dn;t.buffer.usage=n;t.buffer.dimension=3;t.buffer.byteLength=o}var l=a;if(!a){switch(t.buffer.dtype){case dn:case fn:l=dn;break;case pn:case hn:l=pn;break;case _n:case gn:l=_n;break;default:at.raise("unsupported type for element array")}t.buffer.dtype=l}t.type=l;at(l!==_n||!!h.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var c=i;if(c<0){c=t.buffer.byteLength;if(l===pn)c>>=1;else if(l===_n)c>>=2}t.vertCount=c;var u=r;if(r<0){u=un;var f=t.buffer.dimension;if(f===1)u=ln;if(f===2)u=cn;if(f===3)u=un}t.primType=u}function g(t){n.elementsCount--;at(t.buffer!==null,"must not double destroy elements");delete e[t.id];t.buffer.destroy();t.buffer=null}function s(t,e){var s=p.create(null,mn,true);var l=new i(s._buffer);n.elementsCount++;function c(t){if(!t){s();l.primType=un;l.vertCount=0;l.type=dn}else if(typeof t==="number"){s(t);l.primType=un;l.vertCount=t|0;l.type=dn}else{var e=null;var n=vn;var r=-1;var i=-1;var o=0;var a=0;if(Array.isArray(t)||nt(t)||xe(t))e=t;else{at.type(t,"object","invalid arguments for elements");if("data"in t){e=t.data;at(Array.isArray(e)||nt(e)||xe(e),"invalid data for element buffer")}if("usage"in t){at.parameter(t.usage,Be,"invalid element buffer usage");n=Be[t.usage]}if("primitive"in t){at.parameter(t.primitive,sn,"invalid element buffer primitive");r=sn[t.primitive]}if("count"in t){at(typeof t.count==="number"&&t.count>=0,"invalid vertex count for elements");i=t.count|0}if("type"in t){at.parameter(t.type,u,"invalid buffer type");a=u[t.type]}if("length"in t)o=t.length|0;else{o=i;if(a===pn||a===hn)o*=2;else if(a===_n||a===gn)o*=4}}f(l,e,n,r,i,o,a)}return c}c(t);c._reglType="elements";c._elements=l;c.subdata=function(t,e){s.subdata(t,e);return c};c.destroy=function(){g(l)};return c}return{create:s,createStream:t,destroyStream:a,getElements:function t(e){if(typeof e==="function"&&e._elements instanceof i)return e._elements;return null},clear:function t(){we(e).forEach(g)}}}var xn=new Float32Array(1),wn=new Uint32Array(xn.buffer),Mn=5123;function kn(t){var e=Ct.allocType(Mn,t.length);for(var n=0;n<t.length;++n)if(isNaN(t[n]))e[n]=65535;else if(t[n]===Infinity)e[n]=31744;else if(t[n]===-Infinity)e[n]=64512;else{xn[0]=t[n];var r=wn[0];var i=r>>>31<<15;var o=(r<<1>>>24)-127;var a=r>>13&(1<<10)-1;if(o<-24)e[n]=i;else if(o<-14){var s=-14-o;e[n]=i+(a+(1<<10)>>s)}else if(o>15)e[n]=i+31744;else e[n]=i+(o+15<<10)+a}return e}function jn(t){return Array.isArray(t)||nt(t)}var An=function t(e){return!(e&e-1)&&!!e},Tn=34467,zn=3553,Nn=34067,Dn=34069,Sn=6408,In=6406,En=6407,Ln=6409,Cn=6410,On=32854,Pn=32855,Rn=36194,Fn=32819,Yn=32820,Un=33635,Bn=34042,Hn=6402,Zn=34041,Gn=35904,qn=35906,Qn=36193,Wn=33776,Vn=33777,Xn=33778,$n=33779,Jn=35986,Kn=35987,tr=34798,er=35840,nr=35841,rr=35842,ir=35843,or=36196,ar=5121,sr=5123,lr=5125,cr=5126,ur=10242,fr=10243,dr=10497,hr=33071,pr=33648,gr=10240,_r=10241,mr=9728,yr=9729,vr=9984,br=9985,xr=9986,wr=9987,Mr=33170,kr=4352,jr=4353,Ar=4354,Tr=34046,zr=3317,Nr=37440,Dr=37441,Sr=37443,Ir=37444,Er=33984,Lr=[vr,xr,br,wr],Cr=[0,Ln,Cn,En,Sn],Or={};function Pr(t){return"[object "+t+"]"}Or[Ln]=Or[In]=Or[Hn]=1,Or[Zn]=Or[Cn]=2,Or[En]=Or[Gn]=3,Or[Sn]=Or[qn]=4;var Rr=Pr("HTMLCanvasElement"),Fr=Pr("CanvasRenderingContext2D"),Yr=Pr("ImageBitmap"),Ur=Pr("HTMLImageElement"),Br=Pr("HTMLVideoElement"),Hr=Object.keys(De).concat([Rr,Fr,Yr,Ur,Br]),Zr=[];Zr[ar]=1,Zr[cr]=4,Zr[Qn]=2,Zr[sr]=2,Zr[lr]=4;var Gr=[];function qr(t){return Array.isArray(t)&&(t.length===0||typeof t[0]==="number")}function Qr(t){if(!Array.isArray(t))return false;var e=t.length;if(e===0||!jn(t[0]))return false;return true}function Wr(t){return Object.prototype.toString.call(t)}function Vr(t){return Wr(t)===Rr}function Xr(t){return Wr(t)===Fr}function $r(t){return Wr(t)===Yr}function Jr(t){return Wr(t)===Ur}function Kr(t){return Wr(t)===Br}function ti(t){if(!t)return false;var e=Wr(t);if(Hr.indexOf(e)>=0)return true;return qr(t)||Qr(t)||xe(t)}function ei(t){return De[Object.prototype.toString.call(t)]|0}function ni(t,e){var n=e.length;switch(t.type){case ar:case sr:case lr:case cr:var r=Ct.allocType(t.type,n);r.set(e);t.data=r;break;case Qn:t.data=kn(e);break;default:at.raise("unsupported texture type, must specify a typed array")}}function ri(t,e){return Ct.allocType(t.type===Qn?cr:t.type,e)}function ii(t,e){if(t.type===Qn){t.data=kn(e);Ct.freeType(e)}else t.data=e}function oi(t,e,n,r,i,o){var a=t.width;var s=t.height;var l=t.channels;var c=a*s*l;var u=ri(t,c);var f=0;for(var d=0;d<s;++d)for(var h=0;h<a;++h)for(var p=0;p<l;++p)u[f++]=e[n*h+r*d+i*p+o];ii(t,u)}function ai(t,e,n,r,i,o){var a;if(typeof Gr[t]!=="undefined")a=Gr[t];else a=Or[t]*Zr[e];if(o)a*=6;if(i){var s=0;var l=n;while(l>=1){s+=a*l*l;l/=2}return s}else return a*n*r}function si(h,u,x,d,w,l,p){var f={"don't care":kr,"dont care":kr,nice:Ar,fast:jr};var g={repeat:dr,clamp:hr,mirror:pr};var _={nearest:mr,linear:yr};var m=rt({mipmap:wr,"nearest mipmap nearest":vr,"linear mipmap nearest":br,"nearest mipmap linear":xr,"linear mipmap linear":wr},_);var y={none:0,browser:Ir};var v={uint8:ar,rgba4:Fn,rgb565:Un,"rgb5 a1":Yn};var b={alpha:In,luminance:Ln,"luminance alpha":Cn,rgb:En,rgba:Sn,rgba4:On,"rgb5 a1":Pn,rgb565:Rn};var M={};if(u.ext_srgb){b.srgb=Gn;b.srgba=qn}if(u.oes_texture_float)v.float32=v.float=cr;if(u.oes_texture_half_float)v["float16"]=v["half float"]=Qn;if(u.webgl_depth_texture){rt(b,{depth:Hn,"depth stencil":Zn});rt(v,{uint16:sr,uint32:lr,"depth stencil":Bn})}if(u.webgl_compressed_texture_s3tc)rt(M,{"rgb s3tc dxt1":Wn,"rgba s3tc dxt1":Vn,"rgba s3tc dxt3":Xn,"rgba s3tc dxt5":$n});if(u.webgl_compressed_texture_atc)rt(M,{"rgb atc":Jn,"rgba atc explicit alpha":Kn,"rgba atc interpolated alpha":tr});if(u.webgl_compressed_texture_pvrtc)rt(M,{"rgb pvrtc 4bppv1":er,"rgb pvrtc 2bppv1":nr,"rgba pvrtc 4bppv1":rr,"rgba pvrtc 2bppv1":ir});if(u.webgl_compressed_texture_etc1)M["rgb etc1"]=or;var n=Array.prototype.slice.call(h.getParameter(Tn));Object.keys(M).forEach(function(t){var e=M[t];if(n.indexOf(e)>=0)b[t]=e});var t=Object.keys(b);x.textureFormats=t;var k=[];Object.keys(b).forEach(function(t){var e=b[t];k[e]=t});var j=[];Object.keys(v).forEach(function(t){var e=v[t];j[e]=t});var A=[];Object.keys(_).forEach(function(t){var e=_[t];A[e]=t});var T=[];Object.keys(m).forEach(function(t){var e=m[t];T[e]=t});var z=[];Object.keys(g).forEach(function(t){var e=g[t];z[e]=t});var N=t.reduce(function(t,e){var n=b[e];if(n===Ln||n===In||n===Ln||n===Cn||n===Hn||n===Zn)t[n]=n;else if(n===Pn||e.indexOf("rgba")>=0)t[n]=Sn;else t[n]=En;return t},{});function r(){this.internalformat=Sn;this.format=Sn;this.type=ar;this.compressed=false;this.premultiplyAlpha=false;this.flipY=false;this.unpackAlignment=1;this.colorSpace=Ir;this.width=0;this.height=0;this.channels=0}function D(t,e){t.internalformat=e.internalformat;t.format=e.format;t.type=e.type;t.compressed=e.compressed;t.premultiplyAlpha=e.premultiplyAlpha;t.flipY=e.flipY;t.unpackAlignment=e.unpackAlignment;t.colorSpace=e.colorSpace;t.width=e.width;t.height=e.height;t.channels=e.channels}function S(t,e){if(Zs(e)!=="object"||!e)return;if("premultiplyAlpha"in e){at.type(e.premultiplyAlpha,"boolean","invalid premultiplyAlpha");t.premultiplyAlpha=e.premultiplyAlpha}if("flipY"in e){at.type(e.flipY,"boolean","invalid texture flip");t.flipY=e.flipY}if("alignment"in e){at.oneOf(e.alignment,[1,2,4,8],"invalid texture unpack alignment");t.unpackAlignment=e.alignment}if("colorSpace"in e){at.parameter(e.colorSpace,y,"invalid colorSpace");t.colorSpace=y[e.colorSpace]}if("type"in e){var n=e.type;at(u.oes_texture_float||!(n==="float"||n==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures.");at(u.oes_texture_half_float||!(n==="half float"||n==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures.");at(u.webgl_depth_texture||!(n==="uint16"||n==="uint32"||n==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures.");at.parameter(n,v,"invalid texture type");t.type=v[n]}var r=t.width;var i=t.height;var o=t.channels;var a=false;if("shape"in e){at(Array.isArray(e.shape)&&e.shape.length>=2,"shape must be an array");r=e.shape[0];i=e.shape[1];if(e.shape.length===3){o=e.shape[2];at(o>0&&o<=4,"invalid number of channels");a=true}at(r>=0&&r<=x.maxTextureSize,"invalid width");at(i>=0&&i<=x.maxTextureSize,"invalid height")}else{if("radius"in e){r=i=e.radius;at(r>=0&&r<=x.maxTextureSize,"invalid radius")}if("width"in e){r=e.width;at(r>=0&&r<=x.maxTextureSize,"invalid width")}if("height"in e){i=e.height;at(i>=0&&i<=x.maxTextureSize,"invalid height")}if("channels"in e){o=e.channels;at(o>0&&o<=4,"invalid number of channels");a=true}}t.width=r|0;t.height=i|0;t.channels=o|0;var s=false;if("format"in e){var l=e.format;at(u.webgl_depth_texture||!(l==="depth"||l==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures.");at.parameter(l,b,"invalid texture format");var c=t.internalformat=b[l];t.format=N[c];if(l in v)if(!("type"in e))t.type=v[l];if(l in M)t.compressed=true;s=true}if(!a&&s)t.channels=Or[t.format];else if(a&&!s){if(t.channels!==Cr[t.format])t.format=t.internalformat=Cr[t.channels]}else if(s&&a)at(t.channels===Or[t.format],"number of channels inconsistent with specified format")}function I(t){h.pixelStorei(Nr,t.flipY);h.pixelStorei(Dr,t.premultiplyAlpha);h.pixelStorei(Sr,t.colorSpace);h.pixelStorei(zr,t.unpackAlignment)}function e(){r.call(this);this.xOffset=0;this.yOffset=0;this.data=null;this.needsFree=false;this.element=null;this.needsCopy=false}function c(t,e){var n=null;if(ti(e))n=e;else if(e){at.type(e,"object","invalid pixel data type");S(t,e);if("x"in e)t.xOffset=e.x|0;if("y"in e)t.yOffset=e.y|0;if(ti(e.data))n=e.data}at(!t.compressed||n instanceof Uint8Array,"compressed texture data must be stored in a uint8array");if(e.copy){at(!n,"can not specify copy and data field for the same texture");var r=w.viewportWidth;var i=w.viewportHeight;t.width=t.width||r-t.xOffset;t.height=t.height||i-t.yOffset;t.needsCopy=true;at(t.xOffset>=0&&t.xOffset<r&&t.yOffset>=0&&t.yOffset<i&&t.width>0&&t.width<=r&&t.height>0&&t.height<=i,"copy texture read out of bounds")}else if(!n){t.width=t.width||1;t.height=t.height||1;t.channels=t.channels||4}else if(nt(n)){t.channels=t.channels||4;t.data=n;if(!("type"in e)&&t.type===ar)t.type=ei(n)}else if(qr(n)){t.channels=t.channels||4;ni(t,n);t.alignment=1;t.needsFree=true}else if(xe(n)){var o=n.data;if(!Array.isArray(o)&&t.type===ar)t.type=ei(o);var a=n.shape;var s=n.stride;var l,c,u,f,d,h;if(a.length===3){u=a[2];h=s[2]}else{at(a.length===2,"invalid ndarray pixel data, must be 2 or 3D");u=1;h=1}l=a[0];c=a[1];f=s[0];d=s[1];t.alignment=1;t.width=l;t.height=c;t.channels=u;t.format=t.internalformat=Cr[u];t.needsFree=true;oi(t,o,f,d,h,n.offset)}else if(Vr(n)||Xr(n)){if(Vr(n))t.element=n;else t.element=n.canvas;t.width=t.element.width;t.height=t.element.height;t.channels=4}else if($r(n)){t.element=n;t.width=n.width;t.height=n.height;t.channels=4}else if(Jr(n)){t.element=n;t.width=n.naturalWidth;t.height=n.naturalHeight;t.channels=4}else if(Kr(n)){t.element=n;t.width=n.videoWidth;t.height=n.videoHeight;t.channels=4}else if(Qr(n)){var p=t.width||n[0].length;var g=t.height||n.length;var _=t.channels;if(jn(n[0][0]))_=_||n[0][0].length;else _=_||1;var m=Me.shape(n);var y=1;for(var v=0;v<m.length;++v)y*=m[v];var b=ri(t,y);Me.flatten(n,m,"",b);ii(t,b);t.alignment=1;t.width=p;t.height=g;t.channels=_;t.format=t.internalformat=Cr[_];t.needsFree=true}if(t.type===cr)at(x.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled");else if(t.type===Qn)at(x.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function i(t,e,n){var r=t.element;var i=t.data;var o=t.internalformat;var a=t.format;var s=t.type;var l=t.width;var c=t.height;var u=t.channels;I(t);if(r)h.texImage2D(e,n,a,a,s,r);else if(t.compressed)h.compressedTexImage2D(e,n,o,l,c,0,i);else if(t.needsCopy){d();h.copyTexImage2D(e,n,a,t.xOffset,t.yOffset,l,c,0)}else{var f=!i;if(f)i=Ct.zero.allocType(s,l*c*u);h.texImage2D(e,n,a,l,c,0,a,s,i);if(f&&i)Ct.zero.freeType(i)}}function E(t,e,n,r,i){var o=t.element;var a=t.data;var s=t.internalformat;var l=t.format;var c=t.type;var u=t.width;var f=t.height;I(t);if(o)h.texSubImage2D(e,i,n,r,l,c,o);else if(t.compressed)h.compressedTexSubImage2D(e,i,n,r,s,u,f,a);else if(t.needsCopy){d();h.copyTexSubImage2D(e,i,n,r,t.xOffset,t.yOffset,u,f)}else h.texSubImage2D(e,i,n,r,u,f,l,c,a)}var o=[];function L(){return o.pop()||new e}function C(t){if(t.needsFree)Ct.freeType(t.data);e.call(t);o.push(t)}function a(){r.call(this);this.genMipmaps=false;this.mipmapHint=kr;this.mipmask=0;this.images=Array(16)}function O(t,e,n){var r=t.images[0]=L();t.mipmask=1;r.width=t.width=e;r.height=t.height=n;r.channels=t.channels=4}function P(t,e){var n=null;if(ti(e)){n=t.images[0]=L();D(n,t);c(n,e);t.mipmask=1}else{S(t,e);if(Array.isArray(e.mipmap)){var r=e.mipmap;for(var i=0;i<r.length;++i){n=t.images[i]=L();D(n,t);n.width>>=i;n.height>>=i;c(n,r[i]);t.mipmask|=1<<i}}else{n=t.images[0]=L();D(n,t);c(n,e);t.mipmask=1}}D(t,t.images[0]);if(t.compressed&&t.internalformat===Wn||t.internalformat===Vn||t.internalformat===Xn||t.internalformat===$n)at(t.width%4===0&&t.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function R(t,e){var n=t.images;for(var r=0;r<n.length;++r){if(!n[r])return;i(n[r],e,r)}}var s=[];function F(){var t=s.pop()||new a;r.call(t);t.mipmask=0;for(var e=0;e<16;++e)t.images[e]=null;return t}function Y(t){var e=t.images;for(var n=0;n<e.length;++n){if(e[n])C(e[n]);e[n]=null}s.push(t)}function U(){this.minFilter=mr;this.magFilter=mr;this.wrapS=hr;this.wrapT=hr;this.anisotropic=1;this.genMipmaps=false;this.mipmapHint=kr}function B(t,e){if("min"in e){var n=e.min;at.parameter(n,m);t.minFilter=m[n];if(Lr.indexOf(t.minFilter)>=0&&!("faces"in e))t.genMipmaps=true}if("mag"in e){var r=e.mag;at.parameter(r,_);t.magFilter=_[r]}var i=t.wrapS;var o=t.wrapT;if("wrap"in e){var a=e.wrap;if(typeof a==="string"){at.parameter(a,g);i=o=g[a]}else if(Array.isArray(a)){at.parameter(a[0],g);at.parameter(a[1],g);i=g[a[0]];o=g[a[1]]}}else{if("wrapS"in e){var s=e.wrapS;at.parameter(s,g);i=g[s]}if("wrapT"in e){var l=e.wrapT;at.parameter(l,g);o=g[l]}}t.wrapS=i;t.wrapT=o;if("anisotropic"in e){var c=e.anisotropic;at(typeof c==="number"&&c>=1&&c<=x.maxAnisotropic,"aniso samples must be between 1 and ");t.anisotropic=e.anisotropic}if("mipmap"in e){var u=false;switch(Zs(e.mipmap)){case"string":at.parameter(e.mipmap,f,"invalid mipmap hint");t.mipmapHint=f[e.mipmap];t.genMipmaps=true;u=true;break;case"boolean":u=t.genMipmaps=e.mipmap;break;case"object":at(Array.isArray(e.mipmap),"invalid mipmap type");t.genMipmaps=false;u=true;break;default:at.raise("invalid mipmap type")}if(u&&!("min"in e))t.minFilter=vr}}function H(t,e){h.texParameteri(e,_r,t.minFilter);h.texParameteri(e,gr,t.magFilter);h.texParameteri(e,ur,t.wrapS);h.texParameteri(e,fr,t.wrapT);if(u.ext_texture_filter_anisotropic)h.texParameteri(e,Tr,t.anisotropic);if(t.genMipmaps){h.hint(Mr,t.mipmapHint);h.generateMipmap(e)}}var Z=0;var G={};var q=x.maxTextureUnits;var Q=Array(q).map(function(){return null});function W(t){r.call(this);this.mipmask=0;this.internalformat=Sn;this.id=Z++;this.refCount=1;this.target=t;this.texture=h.createTexture();this.unit=-1;this.bindCount=0;this.texInfo=new U;if(p.profile)this.stats={size:0}}function V(t){h.activeTexture(Er);h.bindTexture(t.target,t.texture)}function X(){var t=Q[0];if(t)h.bindTexture(t.target,t.texture);else h.bindTexture(zn,null)}function $(t){var e=t.texture;at(e,"must not double destroy texture");var n=t.unit;var r=t.target;if(n>=0){h.activeTexture(Er+n);h.bindTexture(r,null);Q[n]=null}h.deleteTexture(e);t.texture=null;t.params=null;t.pixels=null;t.refCount=0;delete G[t.id];l.textureCount--}rt(W.prototype,{bind:function t(){var e=this;e.bindCount+=1;var n=e.unit;if(n<0){for(var r=0;r<q;++r){var i=Q[r];if(i){if(i.bindCount>0)continue;i.unit=-1}Q[r]=e;n=r;break}if(n>=q)at.raise("insufficient number of texture units");if(p.profile&&l.maxTextureUnits<n+1)l.maxTextureUnits=n+1;e.unit=n;h.activeTexture(Er+n);h.bindTexture(e.target,e.texture)}return n},unbind:function t(){this.bindCount-=1},decRef:function t(){if(--this.refCount<=0)$(this)}});function J(t,e){var u=new W(zn);G[u.id]=u;l.textureCount++;function f(t,e){var n=u.texInfo;U.call(n);var r=F();if(typeof t==="number")if(typeof e==="number")O(r,t|0,e|0);else O(r,t|0,t|0);else if(t){at.type(t,"object","invalid arguments to regl.texture");B(n,t);P(r,t)}else O(r,1,1);if(n.genMipmaps)r.mipmask=(r.width<<1)-1;u.mipmask=r.mipmask;D(u,r);at.texture2D(n,r,x);u.internalformat=r.internalformat;f.width=r.width;f.height=r.height;V(u);R(r,zn);H(n,zn);X();Y(r);if(p.profile)u.stats.size=ai(u.internalformat,u.type,r.width,r.height,n.genMipmaps,false);f.format=k[u.internalformat];f.type=j[u.type];f.mag=A[n.magFilter];f.min=T[n.minFilter];f.wrapS=z[n.wrapS];f.wrapT=z[n.wrapT];return f}function n(t,e,n,r){at(!!t,"must specify image data");var i=e|0;var o=n|0;var a=r|0;var s=L();D(s,u);s.width=0;s.height=0;c(s,t);s.width=s.width||(u.width>>a)-i;s.height=s.height||(u.height>>a)-o;at(u.type===s.type&&u.format===s.format&&u.internalformat===s.internalformat,"incompatible format for texture.subimage");at(i>=0&&o>=0&&i+s.width<=u.width&&o+s.height<=u.height,"texture.subimage write out of bounds");at(u.mipmask&1<<a,"missing mipmap data");at(s.data||s.element||s.needsCopy,"missing image data");V(u);E(s,zn,i,o,a);X();C(s);return f}function r(t,e){var n=t|0;var r=e|0||n;if(n===u.width&&r===u.height)return f;f.width=u.width=n;f.height=u.height=r;V(u);var i;var o=u.channels;var a=u.type;for(var s=0;u.mipmask>>s;++s){var l=n>>s;var c=r>>s;if(!l||!c)break;i=Ct.zero.allocType(a,l*c*o);h.texImage2D(zn,s,u.format,l,c,0,u.format,u.type,i);if(i)Ct.zero.freeType(i)}X();if(p.profile)u.stats.size=ai(u.internalformat,u.type,n,r,false,false);return f}f(t,e);f.subimage=n;f.resize=r;f._reglType="texture2d";f._texture=u;if(p.profile)f.stats=u.stats;f.destroy=function(){u.decRef()};return f}function K(t,e,n,r,i,o){var u=new W(Nn);G[u.id]=u;l.cubeCount++;var f=new Array(6);function d(t,e,n,r,i,o){var a;var s=u.texInfo;U.call(s);for(a=0;a<6;++a)f[a]=F();if(typeof t==="number"||!t){var l=t|0||1;for(a=0;a<6;++a)O(f[a],l,l)}else if(Zs(t)==="object")if(e){P(f[0],t);P(f[1],e);P(f[2],n);P(f[3],r);P(f[4],i);P(f[5],o)}else{B(s,t);S(u,t);if("faces"in t){var c=t.faces;at(Array.isArray(c)&&c.length===6,"cube faces must be a length 6 array");for(a=0;a<6;++a){at(Zs(c[a])==="object"&&!!c[a],"invalid input for cube map face");D(f[a],u);P(f[a],c[a])}}else for(a=0;a<6;++a)P(f[a],t)}else at.raise("invalid arguments to cube map");D(u,f[0]);if(!x.npotTextureCube)at(An(u.width)&&An(u.height),"your browser does not support non power or two texture dimensions");if(s.genMipmaps)u.mipmask=(f[0].width<<1)-1;else u.mipmask=f[0].mipmask;at.textureCube(u,s,f,x);u.internalformat=f[0].internalformat;d.width=f[0].width;d.height=f[0].height;V(u);for(a=0;a<6;++a)R(f[a],Dn+a);H(s,Nn);X();if(p.profile)u.stats.size=ai(u.internalformat,u.type,d.width,d.height,s.genMipmaps,true);d.format=k[u.internalformat];d.type=j[u.type];d.mag=A[s.magFilter];d.min=T[s.minFilter];d.wrapS=z[s.wrapS];d.wrapT=z[s.wrapT];for(a=0;a<6;++a)Y(f[a]);return d}function a(t,e,n,r,i){at(!!e,"must specify image data");at(typeof t==="number"&&t===(t|0)&&t>=0&&t<6,"invalid face");var o=n|0;var a=r|0;var s=i|0;var l=L();D(l,u);l.width=0;l.height=0;c(l,e);l.width=l.width||(u.width>>s)-o;l.height=l.height||(u.height>>s)-a;at(u.type===l.type&&u.format===l.format&&u.internalformat===l.internalformat,"incompatible format for texture.subimage");at(o>=0&&a>=0&&o+l.width<=u.width&&a+l.height<=u.height,"texture.subimage write out of bounds");at(u.mipmask&1<<s,"missing mipmap data");at(l.data||l.element||l.needsCopy,"missing image data");V(u);E(l,Dn+t,o,a,s);X();C(l);return d}function s(t){var e=t|0;if(e===u.width)return;d.width=u.width=e;d.height=u.height=e;V(u);for(var n=0;n<6;++n)for(var r=0;u.mipmask>>r;++r)h.texImage2D(Dn+n,r,u.format,e>>r,e>>r,0,u.format,u.type,null);X();if(p.profile)u.stats.size=ai(u.internalformat,u.type,d.width,d.height,false,true);return d}d(t,e,n,r,i,o);d.subimage=a;d.resize=s;d._reglType="textureCube";d._texture=u;if(p.profile)d.stats=u.stats;d.destroy=function(){u.decRef()};return d}function tt(){for(var t=0;t<q;++t){h.activeTexture(Er+t);h.bindTexture(zn,null);Q[t]=null}we(G).forEach($);l.cubeCount=0;l.textureCount=0}if(p.profile)l.getTotalTextureSize=function(){var e=0;Object.keys(G).forEach(function(t){e+=G[t].stats.size});return e};function et(){for(var t=0;t<q;++t){var e=Q[t];if(e){e.bindCount=0;e.unit=-1;Q[t]=null}}we(G).forEach(function(t){t.texture=h.createTexture();h.bindTexture(t.target,t.texture);for(var e=0;e<32;++e){if((t.mipmask&1<<e)===0)continue;if(t.target===zn)h.texImage2D(zn,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);else for(var n=0;n<6;++n)h.texImage2D(Dn+n,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null)}H(t.texInfo,t.target)})}return{create2D:J,createCube:K,clear:tt,getTexture:function t(e){return null},restore:et}}Gr[On]=2,Gr[Pn]=2,Gr[Rn]=2,Gr[Zn]=4,Gr[Wn]=.5,Gr[Vn]=.5,Gr[Xn]=1,Gr[$n]=1,Gr[Jn]=.5,Gr[Kn]=1,Gr[tr]=1,Gr[er]=.5,Gr[nr]=.25,Gr[rr]=.5,Gr[ir]=.25,Gr[or]=.5;var li=36161,ci=32854,ui=32855,fi=36194,di=33189,hi=36168,pi=34041,gi=35907,_i=34836,mi=34842,yi=34843,vi=[];function bi(t,e,n){return vi[t]*e*n}vi[ci]=2,vi[ui]=2,vi[fi]=2,vi[di]=2,vi[hi]=1,vi[pi]=4,vi[gi]=4,vi[_i]=16,vi[mi]=8,vi[yi]=6;var xi=function t(c,e,u,r,f){var d={rgba4:ci,rgb565:fi,"rgb5 a1":ui,depth:di,stencil:hi,"depth stencil":pi};if(e.ext_srgb)d["srgba"]=gi;if(e.ext_color_buffer_half_float){d["rgba16f"]=mi;d["rgb16f"]=yi}if(e.webgl_color_buffer_float)d["rgba32f"]=_i;var h=[];Object.keys(d).forEach(function(t){var e=d[t];h[e]=t});var n=0;var i={};function o(t){this.id=n++;this.refCount=1;this.renderbuffer=t;this.format=ci;this.width=0;this.height=0;if(f.profile)this.stats={size:0}}o.prototype.decRef=function(){if(--this.refCount<=0)a(this)};function a(t){var e=t.renderbuffer;at(e,"must not double destroy renderbuffer");c.bindRenderbuffer(li,null);c.deleteRenderbuffer(e);t.renderbuffer=null;t.refCount=0;delete i[t.id];r.renderbufferCount--}function s(t,e){var s=new o(c.createRenderbuffer());i[s.id]=s;r.renderbufferCount++;function l(t,e){var n=0;var r=0;var i=ci;if(Zs(t)==="object"&&t){var o=t;if("shape"in o){var a=o.shape;at(Array.isArray(a)&&a.length>=2,"invalid renderbuffer shape");n=a[0]|0;r=a[1]|0}else{if("radius"in o)n=r=o.radius|0;if("width"in o)n=o.width|0;if("height"in o)r=o.height|0}if("format"in o){at.parameter(o.format,d,"invalid renderbuffer format");i=d[o.format]}}else if(typeof t==="number"){n=t|0;if(typeof e==="number")r=e|0;else r=n}else if(!t)n=r=1;else at.raise("invalid arguments to renderbuffer constructor");at(n>0&&r>0&&n<=u.maxRenderbufferSize&&r<=u.maxRenderbufferSize,"invalid renderbuffer size");if(n===s.width&&r===s.height&&i===s.format)return;l.width=s.width=n;l.height=s.height=r;s.format=i;c.bindRenderbuffer(li,s.renderbuffer);c.renderbufferStorage(li,i,n,r);at(c.getError()===0,"invalid render buffer format");if(f.profile)s.stats.size=bi(s.format,s.width,s.height);l.format=h[s.format];return l}function n(t,e){var n=t|0;var r=e|0||n;if(n===s.width&&r===s.height)return l;at(n>0&&r>0&&n<=u.maxRenderbufferSize&&r<=u.maxRenderbufferSize,"invalid renderbuffer size");l.width=s.width=n;l.height=s.height=r;c.bindRenderbuffer(li,s.renderbuffer);c.renderbufferStorage(li,s.format,n,r);at(c.getError()===0,"invalid render buffer format");if(f.profile)s.stats.size=bi(s.format,s.width,s.height);return l}l(t,e);l.resize=n;l._reglType="renderbuffer";l._renderbuffer=s;if(f.profile)l.stats=s.stats;l.destroy=function(){s.decRef()};return l}if(f.profile)r.getTotalRenderbufferSize=function(){var e=0;Object.keys(i).forEach(function(t){e+=i[t].stats.size});return e};function l(){we(i).forEach(function(t){t.renderbuffer=c.createRenderbuffer();c.bindRenderbuffer(li,t.renderbuffer);c.renderbufferStorage(li,t.format,t.width,t.height)});c.bindRenderbuffer(li,null)}return{create:s,clear:function t(){we(i).forEach(a)},restore:l}},wi=36160,Mi=36161,ki=3553,ji=34069,Ai=36064,Ti=36096,zi=36128,Ni=33306,Di=36053,Si=36054,Ii=36055,Ei=36057,Li=36061,Ci=36193,Oi=5121,Pi=5126,Ri=6407,Fi=6408,Yi=6402,Ui=[Ri,Fi],Bi=[];Bi[Fi]=4,Bi[Ri]=3;var Hi=[];Hi[Oi]=1,Hi[Pi]=4,Hi[Ci]=2;var Zi,Gi,qi,Qi=33189,Wi=36168,Vi=34041,Xi,$i,Ji,Ki,to=[32854,32855,36194,35907,34842,34843,34836],eo={};function no(i,A,T,_,s,r){var z={cur:null,next:null,dirty:false,setFBO:null};var N=["rgba"];var D=["rgba4","rgb565","rgb5 a1"];if(A.ext_srgb)D.push("srgba");if(A.ext_color_buffer_half_float)D.push("rgba16f","rgb16f");if(A.webgl_color_buffer_float)D.push("rgba32f");var S=["uint8"];if(A.oes_texture_half_float)S.push("half float","float16");if(A.oes_texture_float)S.push("float","float32");function l(t,e,n){this.target=t;this.texture=e;this.renderbuffer=n;var r=0;var i=0;if(e){r=e.width;i=e.height}else if(n){r=n.width;i=n.height}this.width=r;this.height=i}function e(t){if(t){if(t.texture)t.texture._texture.decRef();if(t.renderbuffer)t.renderbuffer._renderbuffer.decRef()}}function I(t,e,n){if(!t)return;if(t.texture){var r=t.texture._texture;var i=Math.max(1,r.width);var o=Math.max(1,r.height);at(i===e&&o===n,"inconsistent width/height for supplied texture");r.refCount+=1}else{var a=t.renderbuffer._renderbuffer;at(a.width===e&&a.height===n,"inconsistent width/height for renderbuffer");a.refCount+=1}}function o(t,e){if(e)if(e.texture)i.framebufferTexture2D(wi,t,e.target,e.texture._texture.texture,0);else i.framebufferRenderbuffer(wi,t,Mi,e.renderbuffer._renderbuffer.renderbuffer)}function E(t){var e=ki;var n=null;var r=null;var i=t;if(Zs(t)==="object"){i=t.data;if("target"in t)e=t.target|0}at.type(i,"function","invalid attachment data");var o=i._reglType;if(o==="texture2d"){n=i;at(e===ki)}else if(o==="textureCube"){n=i;at(e>=ji&&e<ji+6,"invalid cube map target")}else if(o==="renderbuffer"){r=i;e=Mi}else at.raise("invalid regl object for attachment");return new l(e,n,r)}function L(t,e,n,r,i){if(n){var o=_.create2D({width:t,height:e,format:r,type:i});o._texture.refCount=0;return new l(ki,o,null)}else{var a=s.create({width:t,height:e,format:r});a._renderbuffer.refCount=0;return new l(Mi,null,a)}}function C(t){return t&&(t.texture||t.renderbuffer)}function a(t,e,n){if(t){if(t.texture)t.texture.resize(e,n);else if(t.renderbuffer)t.renderbuffer.resize(e,n);t.width=e;t.height=n}}var t=0;var n={};function c(){this.id=t++;n[this.id]=this;this.framebuffer=i.createFramebuffer();this.width=0;this.height=0;this.colorAttachments=[];this.depthAttachment=null;this.stencilAttachment=null;this.depthStencilAttachment=null}function O(t){t.colorAttachments.forEach(e);e(t.depthAttachment);e(t.stencilAttachment);e(t.depthStencilAttachment)}function u(t){var e=t.framebuffer;at(e,"must not double destroy framebuffer");i.deleteFramebuffer(e);t.framebuffer=null;r.framebufferCount--;delete n[t.id]}function P(t){var e;i.bindFramebuffer(wi,t.framebuffer);var n=t.colorAttachments;for(e=0;e<n.length;++e)o(Ai+e,n[e]);for(e=n.length;e<T.maxColorAttachments;++e)i.framebufferTexture2D(wi,Ai+e,ki,null,0);i.framebufferTexture2D(wi,Ni,ki,null,0);i.framebufferTexture2D(wi,Ti,ki,null,0);i.framebufferTexture2D(wi,zi,ki,null,0);o(Ti,t.depthAttachment);o(zi,t.stencilAttachment);o(Ni,t.depthStencilAttachment);var r=i.checkFramebufferStatus(wi);if(!i.isContextLost()&&r!==Di)at.raise("framebuffer configuration not supported, status = "+eo[r]);i.bindFramebuffer(wi,z.next?z.next.framebuffer:null);z.cur=z.next;i.getError()}function m(t,e){var k=new c;r.framebufferCount++;function j(t,e){var n;at(z.next!==k,"can not update framebuffer which is currently in use");var r=0;var i=0;var o=true;var a=true;var s=null;var l=true;var c="rgba";var u="uint8";var f=1;var d=null;var h=null;var p=null;var g=false;if(typeof t==="number"){r=t|0;i=e|0||r}else if(!t)r=i=1;else{at.type(t,"object","invalid arguments for framebuffer");var _=t;if("shape"in _){var m=_.shape;at(Array.isArray(m)&&m.length>=2,"invalid shape for framebuffer");r=m[0];i=m[1]}else{if("radius"in _)r=i=_.radius;if("width"in _)r=_.width;if("height"in _)i=_.height}if("color"in _||"colors"in _){s=_.color||_.colors;if(Array.isArray(s))at(s.length===1||A.webgl_draw_buffers,"multiple render targets not supported")}if(!s){if("colorCount"in _){f=_.colorCount|0;at(f>0,"invalid color buffer count")}if("colorTexture"in _){l=!!_.colorTexture;c="rgba4"}if("colorType"in _){u=_.colorType;if(!l){if(u==="half float"||u==="float16"){at(A.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers");c="rgba16f"}else if(u==="float"||u==="float32"){at(A.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers");c="rgba32f"}}else{at(A.oes_texture_float||!(u==="float"||u==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects");at(A.oes_texture_half_float||!(u==="half float"||u==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")}at.oneOf(u,S,"invalid color type")}if("colorFormat"in _){c=_.colorFormat;if(N.indexOf(c)>=0)l=true;else if(D.indexOf(c)>=0)l=false;else if(l)at.oneOf(_.colorFormat,N,"invalid color format for texture");else at.oneOf(_.colorFormat,D,"invalid color format for renderbuffer")}}if("depthTexture"in _||"depthStencilTexture"in _){g=!!(_.depthTexture||_.depthStencilTexture);at(!g||A.webgl_depth_texture,"webgl_depth_texture extension not supported")}if("depth"in _)if(typeof _.depth==="boolean")o=_.depth;else{d=_.depth;a=false}if("stencil"in _)if(typeof _.stencil==="boolean")a=_.stencil;else{h=_.stencil;o=false}if("depthStencil"in _)if(typeof _.depthStencil==="boolean")o=a=_.depthStencil;else{p=_.depthStencil;o=false;a=false}}var y=null;var v=null;var b=null;var x=null;if(Array.isArray(s))y=s.map(E);else if(s)y=[E(s)];else{y=new Array(f);for(n=0;n<f;++n)y[n]=L(r,i,l,c,u)}at(A.webgl_draw_buffers||y.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers.");at(y.length<=T.maxColorAttachments,"too many color attachments, not supported");r=r||y[0].width;i=i||y[0].height;if(d)v=E(d);else if(o&&!a)v=L(r,i,g,"depth","uint32");if(h)b=E(h);else if(a&&!o)b=L(r,i,false,"stencil","uint8");if(p)x=E(p);else if(!d&&!h&&a&&o)x=L(r,i,g,"depth stencil","depth stencil");at(!!d+!!h+!!p<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var w=null;for(n=0;n<y.length;++n){I(y[n],r,i);at(!y[n]||y[n].texture&&Ui.indexOf(y[n].texture._texture.format)>=0||y[n].renderbuffer&&to.indexOf(y[n].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+n+" is invalid");if(y[n]&&y[n].texture){var M=Bi[y[n].texture._texture.format]*Hi[y[n].texture._texture.type];if(w===null)w=M;else at(w===M,"all color attachments much have the same number of bits per pixel.")}}I(v,r,i);at(!v||v.texture&&v.texture._texture.format===Yi||v.renderbuffer&&v.renderbuffer._renderbuffer.format===Qi,"invalid depth attachment for framebuffer object");I(b,r,i);at(!b||b.renderbuffer&&b.renderbuffer._renderbuffer.format===Wi,"invalid stencil attachment for framebuffer object");I(x,r,i);at(!x||x.texture&&x.texture._texture.format===Vi||x.renderbuffer&&x.renderbuffer._renderbuffer.format===Vi,"invalid depth-stencil attachment for framebuffer object");O(k);k.width=r;k.height=i;k.colorAttachments=y;k.depthAttachment=v;k.stencilAttachment=b;k.depthStencilAttachment=x;j.color=y.map(C);j.depth=C(v);j.stencil=C(b);j.depthStencil=C(x);j.width=k.width;j.height=k.height;P(k);return j}function n(t,e){at(z.next!==k,"can not resize a framebuffer which is currently in use");var n=Math.max(t|0,1);var r=Math.max(e|0||n,1);if(n===k.width&&r===k.height)return j;var i=k.colorAttachments;for(var o=0;o<i.length;++o)a(i[o],n,r);a(k.depthAttachment,n,r);a(k.stencilAttachment,n,r);a(k.depthStencilAttachment,n,r);k.width=j.width=n;k.height=j.height=r;P(k);return j}j(t,e);return rt(j,{resize:n,_reglType:"framebuffer",_framebuffer:k,destroy:function t(){u(k);O(k)},use:function t(e){z.setFBO({framebuffer:j},e)}})}function f(t){var p=Array(6);function g(t){var e;at(p.indexOf(z.next)<0,"can not update framebuffer which is currently in use");var n={color:null};var r=0;var i=null;var o="rgba";var a="uint8";var s=1;if(typeof t==="number")r=t|0;else if(!t)r=1;else{at.type(t,"object","invalid arguments for framebuffer");var l=t;if("shape"in l){var c=l.shape;at(Array.isArray(c)&&c.length>=2,"invalid shape for framebuffer");at(c[0]===c[1],"cube framebuffer must be square");r=c[0]}else{if("radius"in l)r=l.radius|0;if("width"in l){r=l.width|0;if("height"in l)at(l.height===r,"must be square")}else if("height"in l)r=l.height|0}if("color"in l||"colors"in l){i=l.color||l.colors;if(Array.isArray(i))at(i.length===1||A.webgl_draw_buffers,"multiple render targets not supported")}if(!i){if("colorCount"in l){s=l.colorCount|0;at(s>0,"invalid color buffer count")}if("colorType"in l){at.oneOf(l.colorType,S,"invalid color type");a=l.colorType}if("colorFormat"in l){o=l.colorFormat;at.oneOf(l.colorFormat,N,"invalid color format for texture")}}if("depth"in l)n.depth=l.depth;if("stencil"in l)n.stencil=l.stencil;if("depthStencil"in l)n.depthStencil=l.depthStencil}var u;if(i)if(Array.isArray(i)){u=[];for(e=0;e<i.length;++e)u[e]=i[e]}else u=[i];else{u=Array(s);var f={radius:r,format:o,type:a};for(e=0;e<s;++e)u[e]=_.createCube(f)}n.color=Array(u.length);for(e=0;e<u.length;++e){var d=u[e];at(typeof d==="function"&&d._reglType==="textureCube","invalid cube map");r=r||d.width;at(d.width===r&&d.height===r,"invalid cube map shape");n.color[e]={target:ji,data:u[e]}}for(e=0;e<6;++e){for(var h=0;h<u.length;++h)n.color[h].target=ji+e;if(e>0){n.depth=p[0].depth;n.stencil=p[0].stencil;n.depthStencil=p[0].depthStencil}if(p[e])p[e](n);else p[e]=m(n)}return rt(g,{width:r,height:r,color:u})}function e(t){var e;var n=t|0;at(n>0&&n<=T.maxCubeMapSize,"invalid radius for cube fbo");if(n===g.width)return g;var r=g.color;for(e=0;e<r.length;++e)r[e].resize(n);for(e=0;e<6;++e)p[e].resize(n);g.width=g.height=n;return g}g(t);return rt(g,{faces:p,resize:e,_reglType:"framebufferCube",destroy:function t(){p.forEach(function(t){t.destroy()})}})}function d(){z.cur=null;z.next=null;z.dirty=true;we(n).forEach(function(t){t.framebuffer=i.createFramebuffer();P(t)})}return rt(z,{getFramebuffer:function t(e){if(typeof e==="function"&&e._reglType==="framebuffer"){var n=e._framebuffer;if(n instanceof c)return n}return null},create:m,createCube:f,clear:function t(){we(n).forEach(u)},restore:d})}eo[Di]="complete",eo[Si]="incomplete attachment",eo[Ei]="incomplete dimensions",eo[Ii]="incomplete, missing attachment",eo[Li]="unsupported";var ro=5126;function io(){this.state=0;this.x=0;this.y=0;this.z=0;this.w=0;this.buffer=null;this.size=0;this.normalized=false;this.type=ro;this.offset=0;this.stride=0;this.divisor=0}function oo(t,e,n,r){var i=n.maxAttributes;var o=new Array(i);for(var a=0;a<i;++a)o[a]=new io;return{Record:io,scope:{},state:o}}var ao=35632,so=35633,lo=35718,co=35721;function uo(h,p,o,g){var a={};var s={};function _(t,e,n,r){this.name=t;this.id=e;this.location=n;this.info=r}function m(t,e){for(var n=0;n<t.length;++n)if(t[n].id===e.id){t[n].location=e.location;return}t.push(e)}function y(t,e,n){var r=t===ao?a:s;var i=r[e];if(!i){var o=p.str(e);i=h.createShader(t);h.shaderSource(i,o);h.compileShader(i);at.shaderError(h,i,o,t,n);r[e]=i}return i}var l={};var c=[];var n=0;function u(t,e){this.id=n++;this.fragId=t;this.vertId=e;this.program=null;this.uniforms=[];this.attributes=[];if(g.profile)this.stats={uniformsCount:0,attributesCount:0}}function f(t,e){var n,r;var i=y(ao,t.fragId);var o=y(so,t.vertId);var a=t.program=h.createProgram();h.attachShader(a,i);h.attachShader(a,o);h.linkProgram(a);at.linkError(h,a,p.str(t.fragId),p.str(t.vertId),e);var s=h.getProgramParameter(a,lo);if(g.profile)t.stats.uniformsCount=s;var l=t.uniforms;for(n=0;n<s;++n){r=h.getActiveUniform(a,n);if(r)if(r.size>1)for(var c=0;c<r.size;++c){var u=r.name.replace("[0]","["+c+"]");m(l,new _(u,p.id(u),h.getUniformLocation(a,u),r))}else m(l,new _(r.name,p.id(r.name),h.getUniformLocation(a,r.name),r))}var f=h.getProgramParameter(a,co);if(g.profile)t.stats.attributesCount=f;var d=t.attributes;for(n=0;n<f;++n){r=h.getActiveAttrib(a,n);if(r)m(d,new _(r.name,p.id(r.name),h.getAttribLocation(a,r.name),r))}}if(g.profile){o.getMaxUniformsCount=function(){var e=0;c.forEach(function(t){if(t.stats.uniformsCount>e)e=t.stats.uniformsCount});return e};o.getMaxAttributesCount=function(){var e=0;c.forEach(function(t){if(t.stats.attributesCount>e)e=t.stats.attributesCount});return e}}function t(){a={};s={};for(var t=0;t<c.length;++t)f(c[t])}return{clear:function t(){var e=h.deleteShader.bind(h);we(a).forEach(e);a={};we(s).forEach(e);s={};c.forEach(function(t){h.deleteProgram(t.program)});c.length=0;l={};o.shaderCount=0},program:function t(e,n,r){at.command(e>=0,"missing vertex shader",r);at.command(n>=0,"missing fragment shader",r);var i=l[n];if(!i)i=l[n]={};var t=i[e];if(!t){t=new u(n,e);o.shaderCount++;f(t,r);i[e]=t;c.push(t)}return t},restore:t,shader:y,frag:-1,vert:-1}}var fo=6408,ho=5121,po=3333,go=5126;function _o(l,c,u,f,d,h,p){function n(t){var e;if(c.next===null){at(d.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer');e=ho}else{at(c.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer");e=c.next.colorAttachments[0].texture._texture.type;if(h.oes_texture_float){at(e===ho||e===go,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'");if(e===go)at(p.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")}else at(e===ho,"Reading from a framebuffer is only allowed for the type 'uint8'")}var n=0;var r=0;var i=f.framebufferWidth;var o=f.framebufferHeight;var a=null;if(nt(t))a=t;else if(t){at.type(t,"object","invalid arguments to regl.read()");n=t.x|0;r=t.y|0;at(n>=0&&n<f.framebufferWidth,"invalid x offset for regl.read");at(r>=0&&r<f.framebufferHeight,"invalid y offset for regl.read");i=(t.width||f.framebufferWidth-n)|0;o=(t.height||f.framebufferHeight-r)|0;a=t.data||null}if(a)if(e===ho)at(a instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'");else if(e===go)at(a instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'");at(i>0&&i+n<=f.framebufferWidth,"invalid width for read pixels");at(o>0&&o+r<=f.framebufferHeight,"invalid height for read pixels");u();var s=i*o*4;if(!a)if(e===ho)a=new Uint8Array(s);else if(e===go)a=a||new Float32Array(s);at.isTypedArray(a,"data buffer for regl.read() must be a typedarray");at(a.byteLength>=s,"data buffer for regl.read() too small");l.pixelStorei(po,4);l.readPixels(n,r,i,o,fo,e,a);return a}function e(t){var e;c.setFBO({framebuffer:t.framebuffer},function(){e=n(t)});return e}function t(t){if(!t||!("framebuffer"in t))return n(t);else return e(t)}return t}function mo(t){return Array.prototype.slice.call(t)}function yo(t){return mo(t).join("")}function vo(){var i=0;var r=[];var o=[];function t(t){for(var e=0;e<o.length;++e)if(o[e]===t)return r[e];var n="g"+i++;r.push(n);o.push(t);return n}function a(){var e=[];function t(){e.push.apply(e,mo(arguments))}var n=[];function r(){var t="v"+i++;n.push(t);if(arguments.length>0){e.push(t,"=");e.push.apply(e,mo(arguments));e.push(";")}return t}return rt(t,{def:r,toString:function t(){return yo([n.length>0?"var "+n+";":"",yo(e)])}})}function l(){var i=a();var n=a();var e=i.toString;var r=n.toString;function o(t,e){n(t,e,"=",i.def(t,e),";")}return rt(function(){i.apply(i,mo(arguments))},{def:i.def,entry:i,exit:n,save:o,set:function t(e,n,r){o(e,n);i(e,n,"=",r,";")},toString:function t(){return e()+r()}})}function e(){var n=yo(arguments);var e=l();var r=l();var i=e.toString;var o=r.toString;return rt(e,{then:function t(){e.apply(e,mo(arguments));return this},else:function t(){r.apply(r,mo(arguments));return this},toString:function t(){var e=o();if(e)e="else{"+e+"}";return yo(["if(",n,"){",i(),"}",e])}})}var s=a();var c={};function n(t,e){var n=[];function r(){var t="a"+n.length;n.push(t);return t}e=e||0;for(var i=0;i<e;++i)r();var o=l();var a=o.toString;var s=c[t]=rt(o,{arg:r,toString:function t(){return yo(["function(",n.join(),"){",a(),"}"])}});return s}function u(){var e=['"use strict";',s,"return {"];Object.keys(c).forEach(function(t){e.push('"',t,'":',c[t].toString(),",")});e.push("}");var t=yo(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");var n=Function.apply(null,r.concat(t));return n.apply(null,o)}return{global:s,link:t,block:a,proc:n,scope:l,cond:e,compile:u}}var bo="xyzw".split(""),xo=5121,wo=1,Mo=2,ko=0,jo=1,Ao=2,To=3,zo=4,No="dither",Do="blend.enable",So="blend.color",Io="blend.equation",Eo="blend.func",Lo="depth.enable",Co="depth.func",Oo="depth.range",Po="depth.mask",Ro="colorMask",Fo="cull.enable",Yo="cull.face",Uo="frontFace",Bo="lineWidth",Ho="polygonOffset.enable",Zo="polygonOffset.offset",Go="sample.alpha",qo="sample.enable",Qo="sample.coverage",Wo="stencil.enable",Vo="stencil.mask",Xo="stencil.func",$o="stencil.opFront",Jo="stencil.opBack",Ko="scissor.enable",ta="scissor.box",ea="viewport",na="profile",ra="framebuffer",ia="vert",oa="frag",aa="elements",sa="primitive",la="count",ca="offset",ua="instances",fa="Width",da="Height",ha=ra+fa,pa=ra+da,ga=ea+fa,_a=ea+da,ma="drawingBuffer",ya=ma+fa,va=ma+da,ba=[Eo,Io,Xo,$o,Jo,Qo,ea,ta,Zo],xa=34962,wa=34963,Ma,ka,ja=3553,Aa=34067,Ta=2884,za=3042,Na=3024,Da=2960,Sa=2929,Ia=3089,Ea=32823,La=32926,Ca=32928,Oa=5126,Pa=35664,Ra=35665,Fa=35666,Ya=5124,Ua=35667,Ba=35668,Ha=35669,Za=35670,Ga=35671,qa=35672,Qa=35673,Wa=35674,Va=35675,Xa=35676,$a=35678,Ja=35680,Ka=4,ts=1028,es=1029,ns=2304,rs=2305,is=32775,os=32776,as=519,ss=7680,ls=0,cs=1,us=32774,fs=513,ds=36160,hs=36064,ps={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},gs=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],_s={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ms={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ys={frag:35632,vert:35633},vs={cw:ns,ccw:rs};function bs(t){return Array.isArray(t)||nt(t)||xe(t)}function xs(t){return t.sort(function(t,e){if(t===ea)return-1;else if(e===ea)return 1;return t<e?-1:1})}function ws(t,e,n,r){this.thisDep=t;this.contextDep=e;this.propDep=n;this.append=r}function Ms(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function ks(t){return new ws(false,false,false,t)}function js(t,e){var n=t.type;if(n===ko){var r=t.data.length;return new ws(true,r>=1,r>=2,e)}else if(n===zo){var i=t.data;return new ws(i.thisDep,i.contextDep,i.propDep,e)}else return new ws(n===To,n===Ao,n===jo,e)}var As=new ws(false,false,false,function(){});function Ts(t,k,e,p,g,u,n,i,r,f,l,o,a,v,s){var _=f.Record;var c={add:32774,subtract:32778,"reverse subtract":32779};if(e.ext_blend_minmax){c.min=is;c.max=os}var x=e.angle_instanced_arrays;var d=e.webgl_draw_buffers;var m={dirty:true,profile:s.profile};var h={};var y=[];var b={};var w={};function M(t){return t.replace(".","_")}function j(t,e,n){var r=M(t);y.push(t);h[r]=m[r]=!!n;b[r]=e}function A(t,e,n){var r=M(t);y.push(t);if(Array.isArray(n)){m[r]=n.slice();h[r]=n.slice()}else m[r]=h[r]=n;w[r]=e}j(No,Na);j(Do,za);A(So,"blendColor",[0,0,0,0]);A(Io,"blendEquationSeparate",[us,us]);A(Eo,"blendFuncSeparate",[cs,ls,cs,ls]);j(Lo,Sa,true);A(Co,"depthFunc",fs);A(Oo,"depthRange",[0,1]);A(Po,"depthMask",true);A(Ro,Ro,[true,true,true,true]);j(Fo,Ta);A(Yo,"cullFace",es);A(Uo,Uo,rs);A(Bo,Bo,1);j(Ho,Ea);A(Zo,"polygonOffset",[0,0]);j(Go,La);j(qo,Ca);A(Qo,"sampleCoverage",[1,false]);j(Wo,Da);A(Vo,"stencilMask",-1);A(Xo,"stencilFunc",[as,0,-1]);A($o,"stencilOpSeparate",[ts,ss,ss,ss]);A(Jo,"stencilOpSeparate",[es,ss,ss,ss]);j(Ko,Ia);A(ta,"scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);A(ea,ea,[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var T={gl:t,context:a,strings:k,next:h,current:m,draw:o,elements:u,buffer:g,shader:l,attributes:f.state,uniforms:r,framebuffer:i,extensions:e,timer:v,isBufferArgs:bs};var z={primTypes:sn,compareFuncs:_s,blendFuncs:ps,blendEquations:c,stencilOps:ms,glTypes:Fe,orientationType:vs};at.optional(function(){T.isArrayLike=jn});if(d){z.backBuffer=[es];z.drawBuffer=kt(p.maxDrawbuffers,function(t){if(t===0)return[0];return kt(t,function(t){return hs+t})})}var N=0;function D(){var r=vo();var i=r.link;var e=r.global;r.id=N++;r.batchId="0";var n=i(T);var o=r.shared={props:"a0"};Object.keys(T).forEach(function(t){o[t]=e.def(n,".",t)});at.optional(function(){r.CHECK=i(at);r.commandStr=at.guessCommand();r.command=i(r.commandStr);r.assert=function(t,e,n){t("if(!(",e,"))",this.CHECK,".commandRaise(",i(n),",",this.command,");")};z.invalidBlendCombinations=gs});var a=r.next={};var s=r.current={};Object.keys(w).forEach(function(t){if(Array.isArray(m[t])){a[t]=e.def(o.next,".",t);s[t]=e.def(o.current,".",t)}});var l=r.constants={};Object.keys(z).forEach(function(t){l[t]=e.def(JSON.stringify(z[t]))});r.invoke=function(t,e){switch(e.type){case ko:var n=["this",o.context,o.props,r.batchId];return t.def(i(e.data),".call(",n.slice(0,Math.max(e.data.length+1,4)),")");case jo:return t.def(o.props,e.data);case Ao:return t.def(o.context,e.data);case To:return t.def("this",e.data);case zo:e.data.append(r,t);return e.data.ref}};r.attribCache={};var c={};r.scopeAttrib=function(t){var e=k.id(t);if(e in c)return c[e];var n=f.scope[e];if(!n)n=f.scope[e]=new _;var r=c[e]=i(n);return r};return r}function S(t){var e=t.static;var n=t.dynamic;var r;if(na in e){var i=!!e[na];r=ks(function(t,e){return i});r.enable=i}else if(na in n){var o=n[na];r=js(o,function(t,e){return t.invoke(e,o)})}return r}function I(t,e){var n=t.static;var r=t.dynamic;if(ra in n){var o=n[ra];if(o){o=i.getFramebuffer(o);at.command(o,"invalid framebuffer object");return ks(function(t,e){var n=t.link(o);var r=t.shared;e.set(r.framebuffer,".next",n);var i=r.context;e.set(i,"."+ha,n+".width");e.set(i,"."+pa,n+".height");return n})}else return ks(function(t,e){var n=t.shared;e.set(n.framebuffer,".next","null");var r=n.context;e.set(r,"."+ha,r+"."+ya);e.set(r,"."+pa,r+"."+va);return"null"})}else if(ra in r){var s=r[ra];return js(s,function(t,e){var n=t.invoke(e,s);var r=t.shared;var i=r.framebuffer;var o=e.def(i,".getFramebuffer(",n,")");at.optional(function(){t.assert(e,"!"+n+"||"+o,"invalid framebuffer object")});e.set(i,".next",o);var a=r.context;e.set(a,"."+ha,o+"?"+o+".width:"+a+"."+ya);e.set(a,"."+pa,o+"?"+o+".height:"+a+"."+va);return o})}else return null}function E(t,n,r){var i=t.static;var d=t.dynamic;function e(l){if(l in i){var o=i[l];at.commandType(o,"object","invalid "+l,r.commandStr);var t=true;var a=o.x|0;var s=o.y|0;var c,u;if("width"in o){c=o.width|0;at.command(c>=0,"invalid "+l,r.commandStr)}else t=false;if("height"in o){u=o.height|0;at.command(u>=0,"invalid "+l,r.commandStr)}else t=false;return new ws(!t&&n&&n.thisDep,!t&&n&&n.contextDep,!t&&n&&n.propDep,function(t,e){var n=t.shared.context;var r=c;if(!("width"in o))r=e.def(n,".",ha,"-",a);var i=u;if(!("height"in o))i=e.def(n,".",pa,"-",s);return[a,s,r,i]})}else if(l in d){var f=d[l];var e=js(f,function(t,e){var n=t.invoke(e,f);at.optional(function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid "+l)});var r=t.shared.context;var i=e.def(n,".x|0");var o=e.def(n,".y|0");var a=e.def('"width" in ',n,"?",n,".width|0:","(",r,".",ha,"-",i,")");var s=e.def('"height" in ',n,"?",n,".height|0:","(",r,".",pa,"-",o,")");at.optional(function(){t.assert(e,a+">=0&&"+s+">=0","invalid "+l)});return[i,o,a,s]});if(n){e.thisDep=e.thisDep||n.thisDep;e.contextDep=e.contextDep||n.contextDep;e.propDep=e.propDep||n.propDep}return e}else if(n)return new ws(n.thisDep,n.contextDep,n.propDep,function(t,e){var n=t.shared.context;return[0,0,e.def(n,".",ha),e.def(n,".",pa)]});else return null}var o=e(ea);if(o){var a=o;o=new ws(o.thisDep,o.contextDep,o.propDep,function(t,e){var n=a.append(t,e);var r=t.shared.context;e.set(r,"."+ga,n[2]);e.set(r,"."+_a,n[3]);return n})}return{viewport:o,scissor_box:e(ta)}}function L(t){var n=t.static;var r=t.dynamic;function e(i){if(i in n){var t=k.id(n[i]);at.optional(function(){l.shader(ys[i],t,at.guessCommand())});var e=ks(function(){return t});e.id=t;return e}else if(i in r){var o=r[i];return js(o,function(t,e){var n=t.invoke(e,o);var r=e.def(t.shared.strings,".id(",n,")");at.optional(function(){e(t.shared.shader,".shader(",ys[i],",",r,",",t.command,");")});return r})}return null}var a=e(oa);var s=e(ia);var i=null;var o;if(Ms(a)&&Ms(s)){i=l.program(s.id,a.id);o=ks(function(t,e){return t.link(i)})}else o=new ws(a&&a.thisDep||s&&s.thisDep,a&&a.contextDep||s&&s.contextDep,a&&a.propDep||s&&s.propDep,function(t,e){var n=t.shared.shader;var r;if(a)r=a.append(t,e);else r=e.def(n,".",oa);var i;if(s)i=s.append(t,e);else i=e.def(n,".",ia);var o=n+".program("+i+","+r;at.optional(function(){o+=","+t.command});return e.def(o+")")});return{frag:a,vert:s,progVar:o,program:i}}function C(t,a){var s=t.static;var l=t.dynamic;function e(){if(aa in s){var r=s[aa];if(bs(r))r=u.getElements(u.create(r,true));else if(r){r=u.getElements(r);at.command(r,"invalid elements",a.commandStr)}var t=ks(function(t,e){if(r){var n=t.link(r);t.ELEMENTS=n;return n}t.ELEMENTS=null;return null});t.value=r;return t}else if(aa in l){var c=l[aa];return js(c,function(t,e){var n=t.shared;var r=n.isBufferArgs;var i=n.elements;var o=t.invoke(e,c);var a=e.def("null");var s=e.def(r,"(",o,")");var l=t.cond(s).then(a,"=",i,".createStream(",o,");").else(a,"=",i,".getElements(",o,");");at.optional(function(){t.assert(l.else,"!"+o+"||"+a,"invalid elements")});e.entry(l);e.exit(t.cond(s).then(i,".destroyStream(",a,");"));t.ELEMENTS=a;return a})}return null}var c=e();function n(){if(sa in s){var n=s[sa];at.commandParameter(n,sn,"invalid primitve",a.commandStr);return ks(function(t,e){return sn[n]})}else if(sa in l){var i=l[sa];return js(i,function(t,e){var n=t.constants.primTypes;var r=t.invoke(e,i);at.optional(function(){t.assert(e,r+" in "+n,"invalid primitive, must be one of "+Object.keys(sn))});return e.def(n,"[",r,"]")})}else if(c)if(Ms(c))if(c.value)return ks(function(t,e){return e.def(t.ELEMENTS,".primType")});else return ks(function(){return Ka});else return new ws(c.thisDep,c.contextDep,c.propDep,function(t,e){var n=t.ELEMENTS;return e.def(n,"?",n,".primType:",Ka)});return null}function r(r,i){if(r in s){var n=s[r]|0;at.command(!i||n>=0,"invalid "+r,a.commandStr);return ks(function(t,e){if(i)t.OFFSET=n;return n})}else if(r in l){var o=l[r];return js(o,function(t,e){var n=t.invoke(e,o);if(i){t.OFFSET=n;at.optional(function(){t.assert(e,n+">=0","invalid "+r)})}return n})}else if(i&&c)return ks(function(t,e){t.OFFSET="0";return 0});return null}var i=r(ca,true);function o(){if(la in s){var t=s[la]|0;at.command(typeof t==="number"&&t>=0,"invalid vertex count",a.commandStr);return ks(function(){return t})}else if(la in l){var r=l[la];return js(r,function(t,e){var n=t.invoke(e,r);at.optional(function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")});return n})}else if(c)if(Ms(c))if(c)if(i)return new ws(i.thisDep,i.contextDep,i.propDep,function(t,e){var n=e.def(t.ELEMENTS,".vertCount-",t.OFFSET);at.optional(function(){t.assert(e,n+">=0","invalid vertex offset/element buffer too small")});return n});else return ks(function(t,e){return e.def(t.ELEMENTS,".vertCount")});else{var e=ks(function(){return-1});at.optional(function(){e.MISSING=true});return e}else{var n=new ws(c.thisDep||i.thisDep,c.contextDep||i.contextDep,c.propDep||i.propDep,function(t,e){var n=t.ELEMENTS;if(t.OFFSET)return e.def(n,"?",n,".vertCount-",t.OFFSET,":-1");return e.def(n,"?",n,".vertCount:-1")});at.optional(function(){n.DYNAMIC=true});return n}return null}return{elements:c,primitive:n(),count:o(),instances:r(ua,false),offset:i}}function O(t,a){var i=t.static;var s=t.dynamic;var l={};y.forEach(function(f){var o=M(f);function t(t,n){if(f in i){var e=t(i[f]);l[o]=ks(function(){return e})}else if(f in s){var r=s[f];l[o]=js(r,function(t,e){return n(t,e,t.invoke(e,r))})}}switch(f){case Fo:case Do:case No:case Wo:case Lo:case Ko:case Ho:case Go:case qo:case Po:return t(function(t){at.commandType(t,"boolean",f,a.commandStr);return t},function(t,e,n){at.optional(function(){t.assert(e,"typeof "+n+'==="boolean"',"invalid flag "+f,t.commandStr)});return n});case Co:return t(function(t){at.commandParameter(t,_s,"invalid "+f,a.commandStr);return _s[t]},function(t,e,n){var r=t.constants.compareFuncs;at.optional(function(){t.assert(e,n+" in "+r,"invalid "+f+", must be one of "+Object.keys(_s))});return e.def(r,"[",n,"]")});case Oo:return t(function(t){at.command(jn(t)&&t.length===2&&typeof t[0]==="number"&&typeof t[1]==="number"&&t[0]<=t[1],"depth range is 2d array",a.commandStr);return t},function(t,e,n){at.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===2&&"+"typeof "+n+'[0]==="number"&&'+"typeof "+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")});var r=e.def("+",n,"[0]");var i=e.def("+",n,"[1]");return[r,i]});case Eo:return t(function(t){at.commandType(t,"object","blend.func",a.commandStr);var e="srcRGB"in t?t.srcRGB:t.src;var n="srcAlpha"in t?t.srcAlpha:t.src;var r="dstRGB"in t?t.dstRGB:t.dst;var i="dstAlpha"in t?t.dstAlpha:t.dst;at.commandParameter(e,ps,o+".srcRGB",a.commandStr);at.commandParameter(n,ps,o+".srcAlpha",a.commandStr);at.commandParameter(r,ps,o+".dstRGB",a.commandStr);at.commandParameter(i,ps,o+".dstAlpha",a.commandStr);at.command(gs.indexOf(e+", "+r)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+e+", "+r+")",a.commandStr);return[ps[e],ps[r],ps[n],ps[i]]},function(r,i,o){var a=r.constants.blendFuncs;at.optional(function(){r.assert(i,o+"&&typeof "+o+'==="object"',"invalid blend func, must be an object")});function t(t,e){var n=i.def('"',t,e,'" in ',o,"?",o,".",t,e,":",o,".",t);at.optional(function(){r.assert(i,n+" in "+a,"invalid "+f+"."+t+e+", must be one of "+Object.keys(ps))});return n}var e=t("src","RGB");var n=t("dst","RGB");at.optional(function(){var t=r.constants.invalidBlendCombinations;r.assert(i,t+".indexOf("+e+'+", "+'+n+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var s=i.def(a,"[",e,"]");var l=i.def(a,"[",t("src","Alpha"),"]");var c=i.def(a,"[",n,"]");var u=i.def(a,"[",t("dst","Alpha"),"]");return[s,c,l,u]});case Io:return t(function(t){if(typeof t==="string"){at.commandParameter(t,c,"invalid "+f,a.commandStr);return[c[t],c[t]]}else if(Zs(t)==="object"){at.commandParameter(t.rgb,c,f+".rgb",a.commandStr);at.commandParameter(t.alpha,c,f+".alpha",a.commandStr);return[c[t.rgb],c[t.alpha]]}else at.commandRaise("invalid blend.equation",a.commandStr)},function(r,t,e){var i=r.constants.blendEquations;var n=t.def();var o=t.def();var a=r.cond("typeof ",e,'==="string"');at.optional(function(){function t(t,e,n){r.assert(t,n+" in "+i,"invalid "+e+", must be one of "+Object.keys(c))}t(a.then,f,e);r.assert(a.else,e+"&&typeof "+e+'==="object"',"invalid "+f);t(a.else,f+".rgb",e+".rgb");t(a.else,f+".alpha",e+".alpha")});a.then(n,"=",o,"=",i,"[",e,"];");a.else(n,"=",i,"[",e,".rgb];",o,"=",i,"[",e,".alpha];");t(a);return[n,o]});case So:return t(function(e){at.command(jn(e)&&e.length===4,"blend.color must be a 4d array",a.commandStr);return kt(4,function(t){return+e[t]})},function(t,e,n){at.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")});return kt(4,function(t){return e.def("+",n,"[",t,"]")})});case Vo:return t(function(t){at.commandType(t,"number",o,a.commandStr);return t|0},function(t,e,n){at.optional(function(){t.assert(e,"typeof "+n+'==="number"',"invalid stencil.mask")});return e.def(n,"|0")});case Xo:return t(function(t){at.commandType(t,"object",o,a.commandStr);var e=t.cmp||"keep";var n=t.ref||0;var r="mask"in t?t.mask:-1;at.commandParameter(e,_s,f+".cmp",a.commandStr);at.commandType(n,"number",f+".ref",a.commandStr);at.commandType(r,"number",f+".mask",a.commandStr);return[_s[e],n,r]},function(e,n,r){var i=e.constants.compareFuncs;at.optional(function(){function t(){e.assert(n,Array.prototype.join.call(arguments,""),"invalid stencil.func")}t(r+"&&typeof ",r,'==="object"');t('!("cmp" in ',r,")||(",r,".cmp in ",i,")")});var t=n.def('"cmp" in ',r,"?",i,"[",r,".cmp]",":",ss);var o=n.def(r,".ref|0");var a=n.def('"mask" in ',r,"?",r,".mask|0:-1");return[t,o,a]});case $o:case Jo:return t(function(t){at.commandType(t,"object",o,a.commandStr);var e=t.fail||"keep";var n=t.zfail||"keep";var r=t.zpass||"keep";at.commandParameter(e,ms,f+".fail",a.commandStr);at.commandParameter(n,ms,f+".zfail",a.commandStr);at.commandParameter(r,ms,f+".zpass",a.commandStr);return[f===Jo?es:ts,ms[e],ms[n],ms[r]]},function(e,n,r){var i=e.constants.stencilOps;at.optional(function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+f)});function t(t){at.optional(function(){e.assert(n,'!("'+t+'" in '+r+")||"+"("+r+"."+t+" in "+i+")","invalid "+f+"."+t+", must be one of "+Object.keys(ms))});return n.def('"',t,'" in ',r,"?",i,"[",r,".",t,"]:",ss)}return[f===Jo?es:ts,t("fail"),t("zfail"),t("zpass")]});case Zo:return t(function(t){at.commandType(t,"object",o,a.commandStr);var e=t.factor|0;var n=t.units|0;at.commandType(e,"number",o+".factor",a.commandStr);at.commandType(n,"number",o+".units",a.commandStr);return[e,n]},function(t,e,n){at.optional(function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid "+f)});var r=e.def(n,".factor|0");var i=e.def(n,".units|0");return[r,i]});case Yo:return t(function(t){var e=0;if(t==="front")e=ts;else if(t==="back")e=es;at.command(!!e,o,a.commandStr);return e},function(t,e,n){at.optional(function(){t.assert(e,n+'==="front"||'+n+'==="back"',"invalid cull.face")});return e.def(n,'==="front"?',ts,":",es)});case Bo:return t(function(t){at.command(typeof t==="number"&&t>=p.lineWidthDims[0]&&t<=p.lineWidthDims[1],"invalid line width, must be a positive number between "+p.lineWidthDims[0]+" and "+p.lineWidthDims[1],a.commandStr);return t},function(t,e,n){at.optional(function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">="+p.lineWidthDims[0]+"&&"+n+"<="+p.lineWidthDims[1],"invalid line width")});return n});case Uo:return t(function(t){at.commandParameter(t,vs,o,a.commandStr);return vs[t]},function(t,e,n){at.optional(function(){t.assert(e,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")});return e.def(n+'==="cw"?'+ns+":"+rs)});case Ro:return t(function(t){at.command(jn(t)&&t.length===4,"color.mask must be length 4 array",a.commandStr);return t.map(function(t){return!!t})},function(t,e,n){at.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")});return kt(4,function(t){return"!!"+n+"["+t+"]"})});case Qo:return t(function(t){at.command(Zs(t)==="object"&&t,o,a.commandStr);var e="value"in t?t.value:1;var n=!!t.invert;at.command(typeof e==="number"&&e>=0&&e<=1,"sample.coverage.value must be a number between 0 and 1",a.commandStr);return[e,n]},function(t,e,n){at.optional(function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")});var r=e.def('"value" in ',n,"?+",n,".value:1");var i=e.def("!!",n,".invert");return[r,i]})}});return l}function P(t,i){var o=t.static;var e=t.dynamic;var a={};Object.keys(o).forEach(function(n){var r=o[n];var t;if(typeof r==="number"||typeof r==="boolean")t=ks(function(){return r});else if(typeof r==="function"){var e=r._reglType;if(e==="texture2d"||e==="textureCube")t=ks(function(t){return t.link(r)});else if(e==="framebuffer"||e==="framebufferCube"){at.command(r.color.length>0,'missing color attachment for framebuffer sent to uniform "'+n+'"',i.commandStr);t=ks(function(t){return t.link(r.color[0])})}else at.commandRaise('invalid data for uniform "'+n+'"',i.commandStr)}else if(jn(r))t=ks(function(e){var t=e.global.def("[",kt(r.length,function(t){at.command(typeof r[t]==="number"||typeof r[t]==="boolean","invalid uniform "+n,e.commandStr);return r[t]}),"]");return t});else at.commandRaise('invalid or missing data for uniform "'+n+'"',i.commandStr);t.value=r;a[n]=t});Object.keys(e).forEach(function(t){var n=e[t];a[t]=js(n,function(t,e){return t.invoke(e,n)})});return a}function R(t,d){var h=t.static;var e=t.dynamic;var p={};Object.keys(h).forEach(function(r){var t=h[r];var i=k.id(r);var o=new _;if(bs(t)){o.state=wo;o.buffer=g.getBuffer(g.create(t,xa,false,true));o.type=0}else{var e=g.getBuffer(t);if(e){o.state=wo;o.buffer=e;o.type=0}else{at.command(Zs(t)==="object"&&t,"invalid data for attribute "+r,d.commandStr);if("constant"in t){var n=t.constant;o.buffer="null";o.state=Mo;if(typeof n==="number")o.x=n;else{at.command(jn(n)&&n.length>0&&n.length<=4,"invalid constant for attribute "+r,d.commandStr);bo.forEach(function(t,e){if(e<n.length)o[t]=n[e]})}}else{if(bs(t.buffer))e=g.getBuffer(g.create(t.buffer,xa,false,true));else e=g.getBuffer(t.buffer);at.command(!!e,'missing buffer for attribute "'+r+'"',d.commandStr);var a=t.offset|0;at.command(a>=0,'invalid offset for attribute "'+r+'"',d.commandStr);var s=t.stride|0;at.command(s>=0&&s<256,'invalid stride for attribute "'+r+'", must be integer betweeen [0, 255]',d.commandStr);var l=t.size|0;at.command(!("size"in t)||l>0&&l<=4,'invalid size for attribute "'+r+'", must be 1,2,3,4',d.commandStr);var c=!!t.normalized;var u=0;if("type"in t){at.commandParameter(t.type,Fe,"invalid type for attribute "+r,d.commandStr);u=Fe[t.type]}var f=t.divisor|0;if("divisor"in t){at.command(f===0||x,'cannot specify divisor for attribute "'+r+'", instancing not supported',d.commandStr);at.command(f>=0,'invalid divisor for attribute "'+r+'"',d.commandStr)}at.optional(function(){var e=d.commandStr;var n=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(t).forEach(function(t){at.command(n.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+r+'" (valid parameters are '+n+")",e)})});o.buffer=e;o.state=wo;o.size=l;o.normalized=c;o.type=u||e.dtype;o.offset=a;o.stride=s;o.divisor=f}}}p[r]=ks(function(t,e){var n=t.attribCache;if(i in n)return n[i];var r={isStream:false};Object.keys(o).forEach(function(t){r[t]=o[t]});if(o.buffer){r.buffer=t.link(o.buffer);r.type=r.type||r.buffer+".dtype"}n[i]=r;return r})});Object.keys(e).forEach(function(f){var d=e[f];function t(t,e){var n=t.invoke(e,d);var r=t.shared;var i=r.isBufferArgs;var o=r.buffer;at.optional(function(){t.assert(e,n+"&&(typeof "+n+'==="object"||typeof '+n+'==="function")&&('+i+"("+n+")||"+o+".getBuffer("+n+")||"+o+".getBuffer("+n+".buffer)||"+i+"("+n+".buffer)||"+'("constant" in '+n+"&&(typeof "+n+'.constant==="number"||'+r.isArrayLike+"("+n+".constant))))",'invalid dynamic attribute "'+f+'"')});var a={isStream:e.def(false)};var s=new _;s.state=wo;Object.keys(s).forEach(function(t){a[t]=e.def(""+s[t])});var l=a.buffer;var c=a.type;e("if(",i,"(",n,")){",a.isStream,"=true;",l,"=",o,".createStream(",xa,",",n,");",c,"=",l,".dtype;","}else{",l,"=",o,".getBuffer(",n,");","if(",l,"){",c,"=",l,".dtype;",'}else if("constant" in ',n,"){",a.state,"=",Mo,";","if(typeof "+n+'.constant === "number"){',a[bo[0]],"=",n,".constant;",bo.slice(1).map(function(t){return a[t]}).join("="),"=0;","}else{",bo.map(function(t,e){return a[t]+"="+n+".constant.length>"+e+"?"+n+".constant["+e+"]:0;"}).join(""),"}}else{","if(",i,"(",n,".buffer)){",l,"=",o,".createStream(",xa,",",n,".buffer);","}else{",l,"=",o,".getBuffer(",n,".buffer);","}",c,'="type" in ',n,"?",r.glTypes,"[",n,".type]:",l,".dtype;",a.normalized,"=!!",n,".normalized;");function u(t){e(a[t],"=",n,".",t,"|0;")}u("size");u("offset");u("stride");u("divisor");e("}}");e.exit("if(",a.isStream,"){",o,".destroyStream(",l,");","}");return a}p[f]=js(d,t)});return p}function F(t){var e=t.static;var r=t.dynamic;var i={};Object.keys(e).forEach(function(t){var n=e[t];i[t]=ks(function(t,e){if(typeof n==="number"||typeof n==="boolean")return""+n;else return t.link(n)})});Object.keys(r).forEach(function(t){var n=r[t];i[t]=js(n,function(t,e){return t.invoke(e,n)})});return i}function Y(t,e,n,r,i){var o=t.static;var a=t.dynamic;at.optional(function(){var e=[ra,ia,oa,aa,sa,ca,la,ua,na].concat(y);function t(t){Object.keys(t).forEach(function(t){at.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',i.commandStr)})}t(o);t(a)});var s=I(t);var l=E(t,s,i);var c=C(t,i);var u=O(t,i);var f=L(t);function d(t){var e=l[t];if(e)u[t]=e}d(ea);d(M(ta));var h=Object.keys(u).length>0;var p={framebuffer:s,draw:c,shader:f,state:u,dirty:h};p.profile=S(t);p.uniforms=P(n,i);p.attributes=R(e,i);p.context=F(r);return p}function U(n,r,i){var t=n.shared;var o=t.context;var a=n.scope();Object.keys(i).forEach(function(t){r.save(o,"."+t);var e=i[t];a(o,".",t,"=",e.append(n,r),";")});r(a)}function B(t,e,n,r){var i=t.shared;var o=i.gl;var a=i.framebuffer;var s;if(d)s=e.def(i.extensions,".webgl_draw_buffers");var l=t.constants;var c=l.drawBuffer;var u=l.backBuffer;var f;if(n)f=n.append(t,e);else f=e.def(a,".next");if(!r)e("if(",f,"!==",a,".cur){");e("if(",f,"){",o,".bindFramebuffer(",ds,",",f,".framebuffer);");if(d)e(s,".drawBuffersWEBGL(",c,"[",f,".colorAttachments.length]);");e("}else{",o,".bindFramebuffer(",ds,",null);");if(d)e(s,".drawBuffersWEBGL(",u,");");e("}",a,".cur=",f,";");if(!r)e("}")}function H(a,t,s){var e=a.shared;var l=e.gl;var c=a.current;var u=a.next;var f=e.current;var d=e.next;var h=a.cond(f,".dirty");y.forEach(function(t){var e=M(t);if(e in s.state)return;var n,r;if(e in u){n=u[e];r=c[e];var i=kt(m[e].length,function(t){return h.def(n,"[",t,"]")});h(a.cond(i.map(function(t,e){return t+"!=="+r+"["+e+"]"}).join("||")).then(l,".",w[e],"(",i,");",i.map(function(t,e){return r+"["+e+"]="+t}).join(";"),";"))}else{n=h.def(d,".",e);var o=a.cond(n,"!==",f,".",e);h(o);if(e in b)o(a.cond(n).then(l,".enable(",b[e],");").else(l,".disable(",b[e],");"),f,".",e,"=",n,";");else o(l,".",w[e],"(",n,");",f,".",e,"=",n,";")}});if(Object.keys(s.state).length===0)h(f,".dirty=false;");t(h)}function Z(o,a,s,l){var t=o.shared;var c=o.current;var u=t.current;var f=t.gl;xs(Object.keys(s)).forEach(function(t){var e=s[t];if(l&&!l(e))return;var n=e.append(o,a);if(b[t]){var r=b[t];if(Ms(e))if(n)a(f,".enable(",r,");");else a(f,".disable(",r,");");else a(o.cond(n).then(f,".enable(",r,");").else(f,".disable(",r,");"));a(u,".",t,"=",n,";")}else if(jn(n)){var i=c[t];a(f,".",w[t],"(",n,");",n.map(function(t,e){return i+"["+e+"]="+t}).join(";"),";")}else a(f,".",w[t],"(",n,");",u,".",t,"=",n,";")})}function G(t,e){if(x)t.instancing=e.def(t.shared.extensions,".angle_instanced_arrays")}function q(t,n,e,r,i){var o=t.shared;var a=t.stats;var s=o.current;var l=o.timer;var c=e.profile;function u(){if(typeof performance==="undefined")return"Date.now()";else return"performance.now()"}var f,d;function h(t){f=n.def();t(f,"=",u(),";");if(typeof i==="string")t(a,".count+=",i,";");else t(a,".count++;");if(v)if(r){d=n.def();t(d,"=",l,".getNumPendingQueries();")}else t(l,".beginQuery(",a,");")}function p(t){t(a,".cpuTime+=",u(),"-",f,";");if(v)if(r)t(l,".pushScopeStats(",d,",",l,".getNumPendingQueries(),",a,");");else t(l,".endQuery();")}function g(t){var e=n.def(s,".profile");n(s,".profile=",t,";");n.exit(s,".profile=",e,";")}var _;if(c){if(Ms(c)){if(c.enable){h(n);p(n.exit);g("true")}else g("false");return}_=c.append(t,n);g(_)}else _=n.def(s,".profile");var m=t.block();h(m);n("if(",_,"){",m,"}");var y=t.block();p(y);n.exit("if(",_,"){",y,"}")}function Q(d,h,o,t,a){var p=d.shared;function s(t){switch(t){case Pa:case Ua:case Ga:return 2;case Ra:case Ba:case qa:return 3;case Fa:case Ha:case Qa:return 4;default:return 1}}function l(t,r,i){var o=p.gl;var a=h.def(t,".location");var s=h.def(p.attributes,"[",a,"]");var e=i.state;var l=i.buffer;var n=[i.x,i.y,i.z,i.w];var c=["buffer","normalized","offset","stride"];function u(){h("if(!",s,".buffer){",o,".enableVertexAttribArray(",a,");}");var t=i.type;var e;if(!i.size)e=r;else e=h.def(i.size,"||",r);h("if(",s,".type!==",t,"||",s,".size!==",e,"||",c.map(function(t){return s+"."+t+"!=="+i[t]}).join("||"),"){",o,".bindBuffer(",xa,",",l,".buffer);",o,".vertexAttribPointer(",[a,e,t,i.normalized,i.stride,i.offset],");",s,".type=",t,";",s,".size=",e,";",c.map(function(t){return s+"."+t+"="+i[t]+";"}).join(""),"}");if(x){var n=i.divisor;h("if(",s,".divisor!==",n,"){",d.instancing,".vertexAttribDivisorANGLE(",[a,n],");",s,".divisor=",n,";}")}}function f(){h("if(",s,".buffer){",o,".disableVertexAttribArray(",a,");","}if(",bo.map(function(t,e){return s+"."+t+"!=="+n[e]}).join("||"),"){",o,".vertexAttrib4f(",a,",",n,");",bo.map(function(t,e){return s+"."+t+"="+n[e]+";"}).join(""),"}")}if(e===wo)u();else if(e===Mo)f();else{h("if(",e,"===",wo,"){");u();h("}else{");f();h("}")}}t.forEach(function(t){var e=t.name;var n=o.attributes[e];var r;if(n){if(!a(n))return;r=n.append(d,h)}else{if(!a(As))return;var i=d.scopeAttrib(e);at.optional(function(){d.assert(h,i+".state","missing attribute "+e)});r={};Object.keys(new _).forEach(function(t){r[t]=h.def(i,".",t)})}l(d.link(t),s(t.info.type),r)})}function W(i,o,t,e,n){var a=i.shared;var r=a.gl;var s;for(var l=0;l<e.length;++l){var c=e[l];var u=c.name;var f=c.info.type;var d=t.uniforms[u];var h=i.link(c);var p=h+".location";var g;if(d){if(!n(d))continue;if(Ms(d)){var _=d.value;at.command(_!==null&&typeof _!=="undefined",'missing uniform "'+u+'"',i.commandStr);if(f===$a||f===Ja){at.command(typeof _==="function"&&(f===$a&&(_._reglType==="texture2d"||_._reglType==="framebuffer")||f===Ja&&(_._reglType==="textureCube"||_._reglType==="framebufferCube")),"invalid texture for uniform "+u,i.commandStr);var m=i.link(_._texture||_.color[0]._texture);o(r,".uniform1i(",p,",",m+".bind());");o.exit(m,".unbind();")}else if(f===Wa||f===Va||f===Xa){at.optional(function(){at.command(jn(_),"invalid matrix for uniform "+u,i.commandStr);at.command(f===Wa&&_.length===4||f===Va&&_.length===9||f===Xa&&_.length===16,"invalid length for matrix uniform "+u,i.commandStr)});var y=i.global.def("new Float32Array(["+Array.prototype.slice.call(_)+"])");var v=2;if(f===Va)v=3;else if(f===Xa)v=4;o(r,".uniformMatrix",v,"fv(",p,",false,",y,");")}else{switch(f){case Oa:at.commandType(_,"number","uniform "+u,i.commandStr);s="1f";break;case Pa:at.command(jn(_)&&_.length===2,"uniform "+u,i.commandStr);s="2f";break;case Ra:at.command(jn(_)&&_.length===3,"uniform "+u,i.commandStr);s="3f";break;case Fa:at.command(jn(_)&&_.length===4,"uniform "+u,i.commandStr);s="4f";break;case Za:at.commandType(_,"boolean","uniform "+u,i.commandStr);s="1i";break;case Ya:at.commandType(_,"number","uniform "+u,i.commandStr);s="1i";break;case Ga:at.command(jn(_)&&_.length===2,"uniform "+u,i.commandStr);s="2i";break;case Ua:at.command(jn(_)&&_.length===2,"uniform "+u,i.commandStr);s="2i";break;case qa:at.command(jn(_)&&_.length===3,"uniform "+u,i.commandStr);s="3i";break;case Ba:at.command(jn(_)&&_.length===3,"uniform "+u,i.commandStr);s="3i";break;case Qa:at.command(jn(_)&&_.length===4,"uniform "+u,i.commandStr);s="4i";break;case Ha:at.command(jn(_)&&_.length===4,"uniform "+u,i.commandStr);s="4i";break}o(r,".uniform",s,"(",p,",",jn(_)?Array.prototype.slice.call(_):_,");")}continue}else g=d.append(i,o)}else{if(!n(As))continue;g=o.def(a.uniforms,"[",k.id(u),"]")}if(f===$a)o("if(",g,"&&",g,'._reglType==="framebuffer"){',g,"=",g,".color[0];","}");else if(f===Ja)o("if(",g,"&&",g,'._reglType==="framebufferCube"){',g,"=",g,".color[0];","}");at.optional(function(){function n(t,e){i.assert(o,t,'bad data or missing for uniform "'+u+'".  '+e)}function t(t){n("typeof "+g+'==="'+t+'"',"invalid type, expected "+t)}function e(t,e){n(a.isArrayLike+"("+g+")&&"+g+".length==="+t,"invalid vector, should have length "+t,i.commandStr)}function r(t){n("typeof "+g+'==="function"&&'+g+'._reglType==="texture'+(t===ja?"2d":"Cube")+'"',"invalid texture type",i.commandStr)}switch(f){case Ya:t("number");break;case Ua:e(2);break;case Ba:e(3);break;case Ha:e(4);break;case Oa:t("number");break;case Pa:e(2);break;case Ra:e(3);break;case Fa:e(4);break;case Za:t("boolean");break;case Ga:e(2);break;case qa:e(3);break;case Qa:e(4);break;case Wa:e(4);break;case Va:e(9);break;case Xa:e(16);break;case $a:r(ja);break;case Ja:r(Aa);break}});var b=1;switch(f){case $a:case Ja:var x=o.def(g,"._texture");o(r,".uniform1i(",p,",",x,".bind());");o.exit(x,".unbind();");continue;case Ya:case Za:s="1i";break;case Ua:case Ga:s="2i";b=2;break;case Ba:case qa:s="3i";b=3;break;case Ha:case Qa:s="4i";b=4;break;case Oa:s="1f";break;case Pa:s="2f";b=2;break;case Ra:s="3f";b=3;break;case Fa:s="4f";b=4;break;case Wa:s="Matrix2fv";break;case Va:s="Matrix3fv";break;case Xa:s="Matrix4fv";break}o(r,".uniform",s,"(",p,",");if(s.charAt(0)==="M"){var w=Math.pow(f-Wa+2,2);var M=i.global.def("new Float32Array(",w,")");o("false,(Array.isArray(",g,")||",g," instanceof Float32Array)?",g,":(",kt(w,function(t){return M+"["+t+"]="+g+"["+t+"]"}),",",M,")")}else if(b>1)o(kt(b,function(t){return g+"["+t+"]"}));else o(g);o(");")}}function V(r,i,o,a){var t=r.shared;var s=t.gl;var l=t.draw;var c=a.draw;function e(){var t=c.elements;var e;var n=i;if(t){if(t.contextDep&&a.contextDynamic||t.propDep)n=o;e=t.append(r,n)}else e=n.def(l,".",aa);if(e)n("if("+e+")"+s+".bindBuffer("+wa+","+e+".buffer.buffer);");return e}function n(){var t=c.count;var e;var n=i;if(t){if(t.contextDep&&a.contextDynamic||t.propDep)n=o;e=t.append(r,n);at.optional(function(){if(t.MISSING)r.assert(i,"false","missing vertex count");if(t.DYNAMIC)r.assert(n,e+">=0","missing vertex count")})}else{e=n.def(l,".",la);at.optional(function(){r.assert(n,e+">=0","missing vertex count")})}return e}var u=e();function f(t){var e=c[t];if(e)if(e.contextDep&&a.contextDynamic||e.propDep)return e.append(r,o);else return e.append(r,i);else return i.def(l,".",t)}var d=f(sa);var h=f(ca);var p=n();if(typeof p==="number"){if(p===0)return}else{o("if(",p,"){");o.exit("}")}var g,_;if(x){g=f(ua);_=r.instancing}var m=u+".type";var y=c.elements&&Ms(c.elements);function v(){function t(){o(_,".drawElementsInstancedANGLE(",[d,p,m,h+"<<(("+m+"-"+xo+")>>1)",g],");")}function e(){o(_,".drawArraysInstancedANGLE(",[d,h,p,g],");")}if(u)if(!y){o("if(",u,"){");t();o("}else{");e();o("}")}else t();else e()}function b(){function t(){o(s+".drawElements("+[d,p,m,h+"<<(("+m+"-"+xo+")>>1)"]+");")}function e(){o(s+".drawArrays("+[d,h,p]+");")}if(u)if(!y){o("if(",u,"){");t();o("}else{");e();o("}")}else t();else e()}if(x&&(typeof g!=="number"||g>=0))if(typeof g==="string"){o("if(",g,">0){");v();o("}else if(",g,"<0){");b();o("}")}else v();else b()}function X(t,e,n,r,i){var o=D();var a=o.proc("body",i);at.optional(function(){o.commandStr=e.commandStr;o.command=o.link(e.commandStr)});if(x)o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays");t(o,a,n,r);return o.compile().body}function $(t,e,n,r){G(t,e);Q(t,e,n,r.attributes,function(){return true});W(t,e,n,r.uniforms,function(){return true});V(t,e,e,n)}function J(e,n){var t=e.proc("draw",1);G(e,t);U(e,t,n.context);B(e,t,n.framebuffer);H(e,t,n);Z(e,t,n.state);q(e,t,n,false,true);var r=n.shader.progVar.append(e,t);t(e.shared.gl,".useProgram(",r,".program);");if(n.shader.program)$(e,t,n,n.shader.program);else{var i=e.global.def("{}");var o=t.def(r,".id");var a=t.def(i,"[",o,"]");t(e.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",e.link(function(t){return X($,e,n,t,1)}),"(",r,");",a,".call(this,a0);"))}if(Object.keys(n.state).length>0)t(e.shared.current,".dirty=true;")}function K(t,e,n,r){t.batchId="a1";G(t,e);function i(){return true}Q(t,e,n,r.attributes,i);W(t,e,n,r.uniforms,i);V(t,e,e,n)}function tt(e,t,n,r){G(e,t);var i=n.contextDep;var o=t.def();var a="a0";var s="a1";var l=t.def();e.shared.props=l;e.batchId=o;var c=e.scope();var u=e.scope();t(c.entry,"for(",o,"=0;",o,"<",s,";++",o,"){",l,"=",a,"[",o,"];",u,"}",c.exit);function f(t){return t.contextDep&&i||t.propDep}function d(t){return!f(t)}if(n.needsContext)U(e,u,n.context);if(n.needsFramebuffer)B(e,u,n.framebuffer);Z(e,u,n.state,f);if(n.profile&&f(n.profile))q(e,u,n,false,true);if(!r){var h=e.global.def("{}");var p=n.shader.progVar.append(e,u);var g=u.def(p,".id");var _=u.def(h,"[",g,"]");u(e.shared.gl,".useProgram(",p,".program);","if(!",_,"){",_,"=",h,"[",g,"]=",e.link(function(t){return X(K,e,n,t,2)}),"(",p,");}",_,".call(this,a0[",o,"],",o,");")}else{Q(e,c,n,r.attributes,d);Q(e,u,n,r.attributes,f);W(e,c,n,r.uniforms,d);W(e,u,n,r.uniforms,f);V(e,c,u,n)}}function et(e,n){var t=e.proc("batch",2);e.batchId="0";G(e,t);var r=false;var i=true;Object.keys(n.context).forEach(function(t){r=r||n.context[t].propDep});if(!r){U(e,t,n.context);i=false}var o=n.framebuffer;var a=false;if(o){if(o.propDep)r=a=true;else if(o.contextDep&&r)a=true;if(!a)B(e,t,o)}else B(e,t,null);if(n.state.viewport&&n.state.viewport.propDep)r=true;function s(t){return t.contextDep&&r||t.propDep}H(e,t,n);Z(e,t,n.state,function(t){return!s(t)});if(!n.profile||!s(n.profile))q(e,t,n,false,"a1");n.contextDep=r;n.needsContext=i;n.needsFramebuffer=a;var l=n.shader.progVar;if(l.contextDep&&r||l.propDep)tt(e,t,n,null);else{var c=l.append(e,t);t(e.shared.gl,".useProgram(",c,".program);");if(n.shader.program)tt(e,t,n,n.shader.program);else{var u=e.global.def("{}");var f=t.def(c,".id");var d=t.def(u,"[",f,"]");t(e.cond(d).then(d,".call(this,a0,a1);").else(d,"=",u,"[",f,"]=",e.link(function(t){return X(tt,e,n,t,2)}),"(",c,");",d,".call(this,a0,a1);"))}}if(Object.keys(n.state).length>0)t(e.shared.current,".dirty=true;")}function nt(r,i){var o=r.proc("scope",3);r.batchId="a2";var a=r.shared;var t=a.current;U(r,o,i.context);if(i.framebuffer)i.framebuffer.append(r,o);xs(Object.keys(i.state)).forEach(function(n){var t=i.state[n];var e=t.append(r,o);if(jn(e))e.forEach(function(t,e){o.set(r.next[n],"["+e+"]",t)});else o.set(a.next,"."+n,e)});q(r,o,i,true,true);[aa,ca,la,ua,sa].forEach(function(t){var e=i.draw[t];if(!e)return;o.set(a.draw,"."+t,""+e.append(r,o))});Object.keys(i.uniforms).forEach(function(t){o.set(a.uniforms,"["+k.id(t)+"]",i.uniforms[t].append(r,o))});Object.keys(i.attributes).forEach(function(t){var e=i.attributes[t].append(r,o);var n=r.scopeAttrib(t);Object.keys(new _).forEach(function(t){o.set(n,"."+t,e[t])})});function e(t){var e=i.shader[t];if(e)o.set(a.shader,"."+t,e.append(r,o))}e(ia);e(oa);if(Object.keys(i.state).length>0){o(t,".dirty=true;");o.exit(t,".dirty=true;")}o("a1(",r.shared.context,",a0,",r.batchId,");")}function rt(t){if(Zs(t)!=="object"||jn(t))return;var e=Object.keys(t);for(var n=0;n<e.length;++n)if(dt.isDynamic(t[e[n]]))return true;return false}function it(r,t,e){var o=t.static[e];if(!o||!rt(o))return;var i=r.global;var n=Object.keys(o);var a=false;var s=false;var l=false;var c=r.global.def("{}");n.forEach(function(t){var e=o[t];if(dt.isDynamic(e)){if(typeof e==="function")e=o[t]=dt.unbox(e);var n=js(e,null);a=a||n.thisDep;l=l||n.propDep;s=s||n.contextDep}else{i(c,".",t,"=");switch(Zs(e)){case"number":i(e);break;case"string":i('"',e,'"');break;case"object":if(Array.isArray(e))i("[",e.join(),"]");break;default:i(r.link(e));break}i(";")}});function u(r,i){n.forEach(function(t){var e=o[t];if(!dt.isDynamic(e))return;var n=r.invoke(i,e);i(c,".",t,"=",n,";")})}t.dynamic[e]=new dt.DynamicVariable(zo,{thisDep:a,contextDep:s,propDep:l,ref:c,append:u});delete t.static[e]}function ot(e,n,t,r,i){var o=D();o.stats=o.link(i);Object.keys(n.static).forEach(function(t){it(o,n,t)});ba.forEach(function(t){it(o,e,t)});var a=Y(e,n,t,r,o);J(o,a);nt(o,a);et(o,a);return o.compile()}return{next:h,current:m,procs:function(){var s=D();var l=s.proc("poll");var c=s.proc("refresh");var u=s.block();l(u);c(u);var t=s.shared;var f=t.gl;var d=t.next;var h=t.current;u(h,".dirty=false;");B(s,l);B(s,c,null,true);var e;if(x)e=s.link(x);for(var n=0;n<p.maxAttributes;++n){var r=c.def(t.attributes,"[",n,"]");var i=s.cond(r,".buffer");i.then(f,".enableVertexAttribArray(",n,");",f,".bindBuffer(",xa,",",r,".buffer.buffer);",f,".vertexAttribPointer(",n,",",r,".size,",r,".type,",r,".normalized,",r,".stride,",r,".offset);").else(f,".disableVertexAttribArray(",n,");",f,".vertexAttrib4f(",n,",",r,".x,",r,".y,",r,".z,",r,".w);",r,".buffer=null;");c(i);if(x)c(e,".vertexAttribDivisorANGLE(",n,",",r,".divisor);")}Object.keys(b).forEach(function(t){var e=b[t];var n=u.def(d,".",t);var r=s.block();r("if(",n,"){",f,".enable(",e,")}else{",f,".disable(",e,")}",h,".",t,"=",n,";");c(r);l("if(",n,"!==",h,".",t,"){",r,"}")});Object.keys(w).forEach(function(t){var e=w[t];var n=m[t];var r,i;var o=s.block();o(f,".",e,"(");if(jn(n)){var a=n.length;r=s.global.def(d,".",t);i=s.global.def(h,".",t);o(kt(a,function(t){return r+"["+t+"]"}),");",kt(a,function(t){return i+"["+t+"]="+r+"["+t+"];"}).join(""));l("if(",kt(a,function(t){return r+"["+t+"]!=="+i+"["+t+"]"}).join("||"),"){",o,"}")}else{r=u.def(d,".",t);i=u.def(h,".",t);o(r,");",h,".",t,"=",r,";");l("if(",r,"!==",i,"){",o,"}")}c(o)});return s.compile()}(),compile:ot}}function zs(){return{bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Ns=34918,Ds=34919,Ss=35007,Is=function t(e,u){if(!u.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||u.ext_disjoint_timer_query.createQueryEXT()}function f(t){n.push(t)}var d=[];function i(t){var e=r();u.ext_disjoint_timer_query.beginQueryEXT(Ss,e);d.push(e);c(d.length-1,d.length,t)}function o(){u.ext_disjoint_timer_query.endQueryEXT(Ss)}function a(){this.startQueryIndex=-1;this.endQueryIndex=-1;this.sum=0;this.stats=null}var s=[];function l(){return s.pop()||new a}function h(t){s.push(t)}var p=[];function c(t,e,n){var r=l();r.startQueryIndex=t;r.endQueryIndex=e;r.sum=0;r.stats=n;p.push(r)}var g=[];var _=[];function m(){var t,e;var n=d.length;if(n===0)return;_.length=Math.max(_.length,n+1);g.length=Math.max(g.length,n+1);g[0]=0;_[0]=0;var r=0;t=0;for(e=0;e<d.length;++e){var i=d[e];if(u.ext_disjoint_timer_query.getQueryObjectEXT(i,Ds)){r+=u.ext_disjoint_timer_query.getQueryObjectEXT(i,Ns);f(i)}else d[t++]=i;g[e+1]=r;_[e+1]=t}d.length=t;t=0;for(e=0;e<p.length;++e){var o=p[e];var a=o.startQueryIndex;var s=o.endQueryIndex;o.sum+=g[s]-g[a];var l=_[a];var c=_[s];if(c===l){o.stats.gpuTime+=o.sum/1e6;h(o)}else{o.startQueryIndex=l;o.endQueryIndex=c;p[t++]=o}}p.length=t}return{beginQuery:i,endQuery:o,pushScopeStats:c,update:m,getNumPendingQueries:function t(){return d.length},clear:function t(){n.push.apply(n,d);for(var e=0;e<n.length;e++)u.ext_disjoint_timer_query.deleteQueryEXT(n[e]);d.length=0;n.length=0},restore:function t(){d.length=0;n.length=0}}},Es=16384,Ls=256,Cs=1024,Os=34962,Ps="webglcontextlost",Rs="webglcontextrestored",Fs=1,Ys=2,Us=3;function Bs(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}function Hs(t){var e=wt(t);if(!e)return null;var i=e.gl;var n=i.getContextAttributes();var g=i.isContextLost();var r=Mt(i,e);if(!r)return null;var o=gt();var a=zs();var s=r.extensions;var l=Is(i,s);var c=pt();var u=i.drawingBufferWidth;var f=i.drawingBufferHeight;var d={tick:0,time:0,viewportWidth:u,viewportHeight:f,framebufferWidth:u,framebufferHeight:f,drawingBufferWidth:u,drawingBufferHeight:f,pixelRatio:e.pixelRatio};var h={};var p={elements:null,primitive:4,count:-1,offset:0,instances:-1};var _=be(i,s);var m=oo(i,s,_);var y=Ke(i,a,e,m);var v=bn(i,s,y,a);var b=uo(i,o,a,e);var x=si(i,s,_,function(){k.procs.poll()},d,a,e);var w=xi(i,s,_,a,e);var M=no(i,s,_,x,w,a);var k=Ts(i,o,s,_,y,v,x,M,h,m,b,p,d,l,e);var j=_o(i,M,k.procs.poll,d,n,s,_);var A=k.next;var T=i.canvas;var z=[];var N=[];var D=[];var S=[e.onDestroy];var I=null;function E(){if(z.length===0){if(l)l.update();I=null;return}I=ht.next(E);G();for(var t=z.length-1;t>=0;--t){var e=z[t];if(e)e(d,null,0)}i.flush();if(l)l.update()}function L(){if(!I&&z.length>0)I=ht.next(E)}function C(){if(I){ht.cancel(E);I=null}}function O(t){t.preventDefault();g=true;C();N.forEach(function(t){t()})}function P(t){i.getError();g=false;r.restore();b.restore();y.restore();x.restore();w.restore();M.restore();if(l)l.restore();k.procs.refresh();L();D.forEach(function(t){t()})}if(T){T.addEventListener(Ps,O,false);T.addEventListener(Rs,P,false)}function R(){z.length=0;C();if(T){T.removeEventListener(Ps,O);T.removeEventListener(Rs,P)}b.clear();M.clear();w.clear();x.clear();v.clear();y.clear();if(l)l.clear();S.forEach(function(t){t()})}function F(t){at(!!t,"invalid args to regl({...})");at.type(t,"object","invalid args to regl({...})");function e(t){var r=rt({},t);delete r.uniforms;delete r.attributes;delete r.context;if("stencil"in r&&r.stencil.op){r.stencil.opBack=r.stencil.opFront=r.stencil.op;delete r.stencil.op}function e(e){if(e in r){var n=r[e];delete r[e];Object.keys(n).forEach(function(t){r[e+"."+t]=n[t]})}}e("blend");e("depth");e("cull");e("stencil");e("polygonOffset");e("scissor");e("sample");return r}function n(n){var r={};var i={};Object.keys(n).forEach(function(t){var e=n[t];if(dt.isDynamic(e))i[t]=dt.unbox(e,t);else r[t]=e});return{dynamic:i,static:r}}var r=n(t.context||{});var i=n(t.uniforms||{});var o=n(t.attributes||{});var a=n(e(t));var s={gpuTime:0,cpuTime:0,count:0};var l=k.compile(a,o,i,r,s);var c=l.draw;var u=l.batch;var f=l.scope;var d=[];function h(t){while(d.length<t)d.push(null);return d}function p(t,e){var n;if(g)at.raise("context lost");if(typeof t==="function")return f.call(this,null,t,0);else if(typeof e==="function")if(typeof t==="number"){for(n=0;n<t;++n)f.call(this,null,e,n);return}else if(Array.isArray(t)){for(n=0;n<t.length;++n)f.call(this,t[n],e,n);return}else return f.call(this,t,e,0);else if(typeof t==="number"){if(t>0)return u.call(this,h(t|0),t|0)}else if(Array.isArray(t)){if(t.length)return u.call(this,t,t.length)}else return c.call(this,t)}return rt(p,{stats:s})}var Y=M.setFBO=F({framebuffer:dt.define.call(null,Fs,"framebuffer")});function U(t,e){var n=0;k.procs.poll();var r=e.color;if(r){i.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0);n|=Es}if("depth"in e){i.clearDepth(+e.depth);n|=Ls}if("stencil"in e){i.clearStencil(e.stencil|0);n|=Cs}at(!!n,"called regl.clear with no buffer specified");i.clear(n)}function B(t){at(Zs(t)==="object"&&t,"regl.clear() takes an object as input");if("framebuffer"in t)if(t.framebuffer&&t.framebuffer_reglType==="framebufferCube")for(var e=0;e<6;++e)Y(rt({framebuffer:t.framebuffer.faces[e]},t),U);else Y(t,U);else U(null,t)}function H(n){at.type(n,"function","regl.frame() callback must be a function");z.push(n);function t(){var t=Bs(z,n);at(t>=0,"cannot cancel a frame twice");function e(){var t=Bs(z,e);z[t]=z[z.length-1];z.length-=1;if(z.length<=0)C()}z[t]=e}L();return{cancel:t}}function Z(){var t=A.viewport;var e=A.scissor_box;t[0]=t[1]=e[0]=e[1]=0;d.viewportWidth=d.framebufferWidth=d.drawingBufferWidth=t[2]=e[2]=i.drawingBufferWidth;d.viewportHeight=d.framebufferHeight=d.drawingBufferHeight=t[3]=e[3]=i.drawingBufferHeight}function G(){d.tick+=1;d.time=Q();Z();k.procs.poll()}function q(){Z();k.procs.refresh();if(l)l.update()}function Q(){return(pt()-c)/1e3}q();function W(t,n){at.type(n,"function","listener callback must be a function");var r;switch(t){case"frame":return H(n);case"lost":r=N;break;case"restore":r=D;break;case"destroy":r=S;break;default:at.raise("invalid event, must be one of frame,lost,restore,destroy")}r.push(n);return{cancel:function t(){for(var e=0;e<r.length;++e)if(r[e]===n){r[e]=r[r.length-1];r.pop();return}}}}var V=rt(F,{clear:B,prop:dt.define.bind(null,Fs),context:dt.define.bind(null,Ys),this:dt.define.bind(null,Us),draw:F({}),buffer:function t(e){return y.create(e,Os,false,false)},elements:function t(e){return v.create(e,false)},texture:x.create2D,cube:x.createCube,renderbuffer:w.create,framebuffer:M.create,framebufferCube:M.createCube,attributes:n,frame:H,on:W,limits:_,hasExtension:function t(e){return _.extensions.indexOf(e.toLowerCase())>=0},read:j,destroy:R,_gl:i,_refresh:q,poll:function t(){G();if(l)l.update()},now:Q,stats:a});e.onDone(null,V);return V}return Hs}()}),z3=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};var N3=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=e[8],d=e[9],h=e[10],p=e[11],g=e[12],_=e[13],m=e[14],y=e[15],v=n[0],b=n[1],x=n[2],e=n[3];return t[0]=v*r+b*s+x*f+e*g,t[1]=v*i+b*l+x*d+e*_,t[2]=v*o+b*c+x*h+e*m,t[3]=v*a+b*u+x*p+e*y,v=n[4],b=n[5],x=n[6],e=n[7],t[4]=v*r+b*s+x*f+e*g,t[5]=v*i+b*l+x*d+e*_,t[6]=v*o+b*c+x*h+e*m,t[7]=v*a+b*u+x*p+e*y,v=n[8],b=n[9],x=n[10],e=n[11],t[8]=v*r+b*s+x*f+e*g,t[9]=v*i+b*l+x*d+e*_,t[10]=v*o+b*c+x*h+e*m,t[11]=v*a+b*u+x*p+e*y,v=n[12],b=n[13],x=n[14],e=n[15],t[12]=v*r+b*s+x*f+e*g,t[13]=v*i+b*l+x*d+e*_,t[14]=v*o+b*c+x*h+e*m,t[15]=v*a+b*u+x*p+e*y,t};var D3=function(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*c,t[15]=1,t};var S3=["manifest","onDone","onProgress","onError"],I3=["type","src","stream","credentials","parser"],E3=["onData","onDone"],L3=-1,C3=0,O3=1;function P3(t){throw new Error("resl: "+t)}function R3(t,e,n){Object.keys(t).forEach(function(t){e.indexOf(t)<0&&P3('invalid parameter "'+t+'" in '+n)})}function F3(t,e){this.state=C3,this.ready=!1,this.progress=0,this.name=t,this.cancel=e}function Y3(n){"object"===Zs(n)&&n||P3("invalid or missing configuration"),R3(n,S3,"config");var u=n.manifest;function t(t){if(t in n){var e=n[t];return"function"!=typeof e&&P3('invalid callback "'+t+'"'),e}return null}"object"===Zs(u)&&u||P3("missing manifest");var r=t("onDone");r||P3("missing onDone() callback");var i=t("onProgress"),e=t("onError"),h={},o=C3;function a(e){var n=e.name,t=e.stream,r="binary"===e.type,i=e.parser,o=new XMLHttpRequest,a=null,s=new F3(n,function(){s.state!==O3&&s.state!==L3&&(o.onreadystatechange=null,o.abort(),s.state=L3)});function l(){if(!(o.readyState<2||s.state===O3||s.state===L3)){if(200!==o.status)return p('error loading resource "'+e.name+'"');if(2<o.readyState&&s.state===C3){var t="binary"===e.type?o.response:o.responseText;if(i.data)try{a=i.data(t)}catch(t){return p(t)}else a=t}if(3<o.readyState&&s.state===C3){if(i.done)try{a=i.done()}catch(t){return p(t)}s.state=O3}h[n]=a,s.progress=.75*s.progress+.25,s.ready=e.stream&&!!a||s.state===O3,g()}}return o.onreadystatechange=t?l:function(){4===o.readyState&&l()},r&&(o.responseType="arraybuffer"),e.credentials&&(o.withCredentials=!0),o.open("GET",e.src,!0),o.send(),s}function s(t,e){var n,r,i=t.name,o=t.parser,a=new F3(i,function(){a.state!==O3&&a.state!==L3&&(a.state=L3,d(),e.src="")}),s=e;function l(){if(a.state===C3)if(o.data)try{s=o.data(e)}catch(t){return p(t),0}else s=e}function c(t){l(),h[i]=s,t.lengthComputable?a.progress=Math.max(a.progress,t.loaded/t.total):a.progress=.75*a.progress+.25,g(i)}function u(){if(l(),a.state===C3){if(o.done)try{s=o.done()}catch(t){return p(t)}a.state=O3}a.progress=1,a.ready=!0,h[i]=s,d(),g("finish "+i)}function f(){p('error loading asset "'+i+'"')}function d(){t.stream&&e.removeEventListener("progress",c),"image"===t.type?e.addEventListener("load",u):e.addEventListener("canplay",u),e.removeEventListener("error",f)}return t.stream&&e.addEventListener("progress",c),"image"===t.type?e.addEventListener("load",u):(r=n=!1,e.addEventListener("loadedmetadata",function(){r=!0,n&&u()}),e.addEventListener("canplay",function(){n=!0,r&&u()})),e.addEventListener("error",f),t.credentials?e.crossOrigin="use-credentials":e.crossOrigin="anonymous",e.src=t.src,a}var f={text:a,binary:a,image:function(t){return s(t,document.createElement("img"))},video:function(t){return s(t,document.createElement("video"))},audio:function(t){return s(t,document.createElement("audio"))}},l=Object.keys(u).map(function(t){var r=u[t];function e(t,e){if(t in r.parser){var n=r.parser[t];return"function"!=typeof n&&P3("invalid parser callback "+t+' for asset "'+t+'"'),n}return e}"string"==typeof r?r={src:r}:"object"===Zs(r)&&r||P3('invalid asset definition "'+t+'"'),R3(r,I3,'asset "'+t+'"');var n,i,o,a,s,l,c={};return"parser"in r&&("function"==typeof r.parser?c={data:r.parser}:"object"===Zs(r.parser)&&r.parser?(R3(c,E3,'parser for asset "'+t+'"'),"onData"in c||P3('missing onData callback for parser in asset "'+t+'"'),c={data:e("onData"),done:e("onDone")}):P3('invalid parser for asset "'+t+'"')),{name:t,type:(a="type",s=Object.keys(f),l="text",a in r&&(l=r[a]),s.indexOf(l)<0&&P3("invalid "+a+' "'+l+'" for asset "'+t+'", possible values: '+s),l),stream:!!r.stream,credentials:!!r.credentials,src:(i=!0,o="",(n="src")in r?o=r[n]:i&&P3("missing "+n+' for asset "'+t+'"'),"string"!=typeof o&&P3("invalid "+n+' for asset "'+t+'", must be a string'),o),parser:c}}).map(function(t){return f[t.type](t)});function p(t){o!==L3&&o!==O3&&(o=L3,l.forEach(function(t){t.cancel()}),e?e("string"==typeof t?new Error("resl: "+t):t):console.error("resl error:",t))}function g(t){var e,n;o!==L3&&o!==O3&&(n=e=0,l.forEach(function(t){t.ready&&(n+=1),e+=t.progress}),n===l.length?(o=O3,r(h)):i&&i(e/l.length,t))}0===l.length&&setTimeout(function(){g("done")},1)}var U3,B3=!1;function H3(e){B3||(B3=!0,Y3({onDone:function(t){(U3=t).spritesheet=e.texture({data:U3.spritesheet,mag:"linear",min:"mipmap",mipmap:!0})},manifest:{spritesheet:{type:"image",src:window.Flourish.static_prefix+"/shapes/spritesheet.png"}}}))}var Z3={symbolCircle:{scale:.7991119226506982,sprite_min:[.07505550483433136,.07505550483433136],sprite_max:[.17494449516566862,.17494449516566862],centroid:[.125,.125]},symbolCross:{scale:.9999999999999999,sprite_min:[.3125,.0625],sprite_max:[.4375,.1875],centroid:[.375,.125]},symbolDiamond:{scale:1.3160740129524926,sprite_min:[.5427453741904692,.04274537419046921],sprite_max:[.7072546258095308,.2072546258095308],centroid:[.625,.125]},symbolSquare:{scale:1,sprite_min:[.8125,.0625],sprite_max:[.9375,.1875],centroid:[.875,.125]},symbolStar:{scale:1.3347757051499591,sprite_min:[.041576518428127554,.29157651842812754],sprite_max:[.20842348157187246,.45842348157187246],centroid:[.125,.375]},symbolTriangle:{scale:1.2408064788027995,sprite_min:[.29744959507482505,.29744959507482505],sprite_max:[.45255040492517495,.45255040492517495],centroid:[.375,.375]},symbolWye:{scale:1.0550466939622536,sprite_min:[.5590595816273591,.30905958162735914],sprite_max:[.6909404183726409,.44094041837264086],centroid:[.625,.375]}};function G3(t,e,n){var r=2*e;t[r]=e,t[1+r]=n}function q3(t,e,n){e*=4,n=Z3[n];t[e++]=n.sprite_min[0],t[e++]=n.sprite_max[1],t[e++]=n.sprite_max[0],t[e]=n.sprite_min[1]}var Q3=Object.create(null);function W3(t,e,n){var r=3*e,e=Q3[n];e?(t[r++]=e[0],t[r++]=e[1],t[r++]=e[2]):(e=Q3[n]=[0,0,0],n.indexOf("rgb(")?(t[r++]=e[0]=parseInt(n.slice(1,3),16)/255,t[r++]=e[1]=parseInt(n.slice(3,5),16)/255,t[r++]=e[2]=parseInt(n.slice(5,7),16)/255):(n=n.split(","),t[r++]=e[0]=parseInt(n[0].slice(4),10)/255,t[r++]=e[1]=parseInt(n[1],10)/255,t[r++]=e[2]=parseInt(n[2],10)/255))}function V3(){var f=Object.create(null),d=Object.create(null);return t.source=function(t){return d[t]||f[t]},t;function t(t,e){d=Object.assign(Object.create(null),f);var n,r=Object.create(null),i=Object.create(null);for(n in f)i[n]=!0;for(var o=0;o<t.length;o++){var a=e(t[o],o);i[a]=!1,f[a]?f[a]=t[o]:r[a]=t[o]}var s,l=[];for(s in i)i[s]&&(l.push(f[s]),delete f[s]);var c=Object.values(r),u=Object.values(f);return Object.assign(f,r),{enter:c,update:u,exit:l}}}var X3=["stroke_width","curr_color","prev_color","curr_x","curr_y","curr_r","prev_x","prev_y","prev_r","curr_uv","prev_uv","id"],$3=function(){function r(t){pa(this,r),this.buffers={},this.storage={},this.regl=t,this.joiner=V3(),this.count_total=0;for(var e=this.count_remaining=0;e<X3.length;e++){var n=X3[e];this.storage[n]=new Float32Array(0),this.buffers[n]=t.buffer()}}return _a(r,[{key:"upload",value:function(){for(var t in this.storage)t in this.storage&&this.buffers[t](this.storage[t])}},{key:"destroy",value:function(){for(var t=X3;t<X3.length;t++)this.buffers[X3[t]].destroy();this.buffers={},this.storage={}}}]),r}();$3.facets=Object.create(null),$3.keys=[],$3.allocate=function(t,e){if(!e)throw new Error("Unexpected: next_facet_keys were not passed to allocateFacets()");for(var n=0;n<e.length;n++){var r=e[n];$3.facets[r]||($3.facets[r]=new $3(t))}for(n=0;n<$3.keys.length;n++){var i=$3.keys[n];-1===e.indexOf(i)&&($3.facets[i].destroy(),delete $3.facets[i])}$3.keys=e};var J3=function(t,e,n){var r,i,o,a,s,l,c,u,f,d,h,p=n[0],g=n[1],_=n[2];e===t?(t[12]=e[0]*p+e[4]*g+e[8]*_+e[12],t[13]=e[1]*p+e[5]*g+e[9]*_+e[13],t[14]=e[2]*p+e[6]*g+e[10]*_+e[14],t[15]=e[3]*p+e[7]*g+e[11]*_+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=e[8],d=e[9],h=e[10],n=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=f,t[9]=d,t[10]=h,t[11]=n,t[12]=r*p+s*g+f*_+e[12],t[13]=i*p+l*g+d*_+e[13],t[14]=o*p+c*g+h*_+e[14],t[15]=a*p+u*g+n*_+e[15]);return t};var K3=function(t,e,n){var r=n[0],i=n[1],n=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t};var t4=function(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1};function e4(){return Math.min(2,window.devicePixelRatio||1)}var n4=0,r4=1,i4=2,o4=new Float32Array(16),a4=new Float32Array(2),s4=Object.create(null);function l4(t,e){var n=s4[e.facet]=s4[e.facet]||{matrix:new Float32Array(16),aspect:1,scale_pixel:new Float32Array(3),translate:new Float32Array(3),scale:new Float32Array(3),top:new Float32Array(3),left:new Float32Array(3),bottom:new Float32Array(3),right:new Float32Array(3),scale_responsive:new Float32Array(3),initialized:!1};z3(n.matrix);var r=t.viewportWidth/e4(),i=t.viewportHeight/e4(),o=Z2.facets[$3.keys.indexOf(e.facet)||0],a=o.layout.y/i,s=(o.layout.y+o.layout.plot_h)/i,l=o.layout.x/r,c=(o.layout.x+o.layout.plot_w)/r,u=fb.responsive_dots?Math.min(o.scales.w,o.scales.h)/300:1;n.initialized||(f4(n.top,a),f4(n.left,l),f4(n.right,c),f4(n.bottom,s),f4(n.scale_responsive,u),n.initialized=!0),t.transition_init&&(u4(n.top,a),u4(n.left,l),u4(n.right,c),u4(n.bottom,s),u4(n.scale_responsive,u));e=t.transition_progress,e=t4(e=1<(e=e<0?0:e)?1:e);d4(n.top,e),d4(n.left,e),d4(n.right,e),d4(n.bottom,e),d4(n.scale_responsive,e);o=n.top[r4],a=n.left[r4],l=n.right[r4],c=n.bottom[r4],s=c-o,u=l-a,t=r/i,e=(l-a)/(c-o);return n.scale[0]=u,n.scale[1]=s,n.scale[2]=1,n.translate[0]=u-1+2*a,n.translate[1]=1-s-2*o,J3(n.matrix,n.matrix,n.translate),K3(n.matrix,n.matrix,n.scale),n.aspect=t*e,n.scale_pixel[0]=1/(l-a)/r,n.scale_pixel[1]=1/(c-o)/i,n.scale_pixel[2]=n.scale_responsive[r4],n}var c4={u_proj:function(t){return t.proj},u_view:function(t){return t.view},u_proj_view:function(t){return N3(o4,t.proj,t.facet.matrix)},u_scale_aspect:function(t){t=t.facet.aspect;return a4[0]=Math.max(1,1/t),a4[1]=Math.max(1,t),a4},u_scale_pixel:function(t){return t.facet.scale_pixel},u_transition_stagger:function(t,e){return t.transition_stagger?t.transition_stagger*V5()/W5(t,e):0}};function u4(t,e){t[i4]=e,t[n4]=t[r4]}function f4(t,e){t[n4]=t[r4]=t[i4]=e}function d4(t,e){t[r4]=t[n4]+(t[i4]-t[n4])*e}var h4,p4,g4,_4,m4=(h4=document.createElement("canvas").getContext("2d"),function(t,e){return h4.font=e||"10px sans-serif",h4.measureText(t).width});function y4(t,e){t=t.facet.scales[e?"prevXScale":"x"](t.x)+t.facet.layout.x;return t=!isFinite(t)?1e9:t}function v4(t,e){t=t.facet.scales[e?"prevYScale":"y"](t.y)+t.facet.layout.y;return t=!isFinite(t)?1e9:t}function b4(t){return fb.responsive_dots?Math.min(t.facet.scales.w,t.facet.scales.h)/300:1}function x4(t){if(t.name.length){if("none"==fb.labels_responsive)return fb.label_font_size;if("data"!=fb.labels_responsive)return Math.max(fb.label_font_size_min,Math.min(fb.label_font_size_max,fb.label_font_size_min*window.innerWidth/500));var e=t.name.join(" "),t=(2*w3(t)*b4(t)-10)/e.length*_4,e=fb.label_font_size_max;return t=fb.label_font_size_min<=(t=Math.min(t,e))?t:0}}function w4(t){return"fixed"==fb.label_color_type?fb.label_color:"match"==fb.label_color_type||"data"!=fb.labels_responsive||fb.label_bg_size?Pw(t.color):function(t){if(t){var e=Ei(t);return 195<Math.round(299*e.r+587*e.g+114*e.b)/1e3}console.warn("No valid color",t)}(Pw(t.color))?"black":"white"}function M4(a,n){var t=fb.labels_show?a.data_points.filter(function(t){return!("slider"in a.data_points.column_names)||(null==Ok.value()||t.slider==Ok.value())}):[];fb.labels_selective&&(t=t.filter(function(t){return-1<fb.labels_selected.indexOf(t.row)})),_4=function(){if(g4==fb.layout.body_font.name)return _4;g4=fb.layout.body_font.name;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnop0123456789 /;[].";return 10/(m4(t,"10px "+g4)/t.length)}();var e=t[0]&&t[0].id&&!(!t[0].slider&&!t[0].filter),r=(p4=p4||Ps("#overlay .data-labels")).selectAll(".data-label").data(t,function(t){return e?t.id:t.row}),i=r.enter().append("g").attr("class","data-label").attr("transform",s).attr("pointer-events","none");i.append("text").attr("dominant-baseline","middle").attr("dy","0.1em").attr("class","label-bg"),i.append("text").attr("dominant-baseline","middle").attr("dy","0.1em").attr("class","label-main");i=r.merge(i).attr("text-anchor",l);function o(t,e){return n?0:e*fb.animation_stagger*1e3}function s(e){var t,n,r,i=a.facets.filter(function(t){return e.facet.name==t.name})[0]||a.facets[0],o=0;"next"==fb.label_offset&&(t=w3(e)*b4(e),n=.25*x4(e),"start"==(r=l(e))&&(o+=t+n),"end"==r&&(o-=t+n));o=i.scales.x(e.x)+i.layout.x+o+e.beeswarm_offset_x,i=i.scales.y(e.y)+i.layout.y+e.beeswarm_offset_y;return"translate("+(o=!isFinite(o)?1e9:o)+","+(i=!isFinite(i)?1e9:i)+")"}function l(e){if("data"==fb.labels_responsive)return"middle";if("auto"!=fb.label_align)return fb.label_align;var t=a.facets.filter(function(t){return e.facet==t.name})[0]||a.facets[0];return t.scales.x(e.x)>t.layout.w/2?"end":"start"}i.select(".label-bg").text(function(t){return t.id||""}).attr("fill",w4).attr("stroke",(fb.chart_bg.background_color_enabled?fb.chart_bg:fb.layout).background_color).attr("stroke-width",function(t){return x4(t)*fb.label_bg_size/100}).attr("font-size",x4),i.select(".label-main").text(function(t){return t.id||""}).attr("fill",w4).attr("font-size",x4),(t.length<500?i.transition().duration(n?0:1e3*fb.animation_duration):i.transition().duration(n||2500<t.length?0:1e3*fb.animation_duration)).delay(o).attr("transform",s),r.exit().remove()}var k4,j4,A4=25,T4={};function z4(t,e,n,r,i,o,a){var s=n+t/2+10,i=t/2+Math.min(0,n-t/2-10-i.left)+Math.max(0,s-i.right),o=i-10<5?[-i,-15*o,Math.max(10,5-i),-10*o]:t-5<i+10?[Math.min(-10,t-i-5),-10*o,Math.min(10,t-i),-15*o]:[-10,-10*o,10,-10*o];return{pos:[i,a],shape:o}}function N4(t,e,n,r,i,o,a){var s=r+e/2+10,i=e/2+Math.min(0,r-e/2-10-i.top)+Math.max(0,s-i.bottom),o=i-10<5?[-15*o,-i,-10*o,Math.max(10,5-i)]:e-5<i+10?[-10*o,Math.min(-10,e-i-5),-15*o,Math.min(10,e-i)]:[-10*o,-10,-10*o,10];return{pos:[a,i],shape:o}}function D4(t,e,n){var r,i=document.createElementNS("http://www.w3.org/2000/svg",t);if(e)for(r in e)i.setAttribute(r,e[r]);var o=i.style;if(n)for(r in n)o[r]=n[r];return i}function S4(){return k4||((k4=document.createElement("div")).id="flourish-popup-constrainer",(j4=k4.style).overflow="hidden",j4.pointerEvents="none",j4.position="absolute",j4.left="0",j4.top="0",j4.margin="0",j4.padding="0",document.body.appendChild(k4),this._resizeConstrainer(),k4)}T4.bottom=function(t,e){return{shape:[-10,-10,10,-10],pos:[t/2,e+10]}},T4.top=function(t,e){return{shape:[-10,10,10,10],pos:[t/2,-10]}},T4.left=function(t,e){return{shape:[10,10,10,-10],pos:[-10,e/2]}},T4.right=function(t,e){return{shape:[-10,10,-10,-10],pos:[t+10,e/2]}},T4.topLeft=function(t,e){return{shape:[15,10,10,15],pos:[-10,-10]}},T4.bottomLeft=function(t,e){return{shape:[15,-10,10,-15],pos:[-10,e+10]}},T4.topRight=function(t,e){return{shape:[-15,10,-10,15],pos:[t+10,-10]}},T4.bottomRight=function(t,e){return{shape:[-15,-10,-10,-15],pos:[t+10,e+10]}},T4.bottomFlexible=function(t,e,n,r,i){return z4(t,0,n,0,i,1,e+10)},T4.topFlexible=function(t,e,n,r,i){return z4(t,0,n,0,i,-1,-10)},T4.rightFlexible=function(t,e,n,r,i){return N4(0,e,0,r,i,1,t+10)},T4.leftFlexible=function(t,e,n,r,i){return N4(0,e,0,r,i,-1,-10)};var I4,E4=1,L4={container:document.body,maxWidth:"70%",point:null,html:null,directions:["bottom","top","left","right","topLeft","bottomLeft","topRight","bottomRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"],fallbackFit:"horizontal"};function C4(){for(var t in this.unique_id=E4++,this.is_visible=!0,L4)this["_"+t]=L4[t];this.handlers={click:[]}}for(I4 in L4)!function(e){C4.prototype[e]=function(t){return void 0===t?this["_"+e]:(this["_"+e]=t,this)}}(I4);function O4(){return new C4}C4.prototype.point=function(t,e){return void 0===t?this._point:(Array.isArray(t)?this._point=[t[0],t[1]]:void 0!==e?this._point=[t,e]:t instanceof HTMLElement||t instanceof SVGElement?(t=t.getBoundingClientRect(),this._point=[Math.floor(t.left+t.width/2),Math.floor(t.top+t.height/2)]):console.error("Popup: could not understand argument"),this)},C4.prototype.directions=function(t){return void 0===t?this._directions:(this._directions=(t="string"==typeof t?[t]:t).slice(),this)},C4.prototype.text=function(t){return this._html=t.replace(/[&<>]/g,function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[t]}),this},C4.prototype.on=function(t,e){if(!(t in this.handlers))throw new Error("Popup.on: No such event: "+t);return this.handlers[t].push(e),this},C4.prototype.fire=function(t,e){if(!(t in this.handlers))throw new Error("Popup.fire: No such event: "+t);for(var n=this.handlers[t],r=0;r<n.length;r++)n[r].call(this,e);return this},C4.prototype._getElement=function(){var t,e,n,r=this,i="flourish-popup-"+r.unique_id,o=document.getElementById(i);return o||((o=document.createElement("div")).className="flourish-popup",o.id=i,(t=o.style).display="none",t.margin=t.padding=0,t.position="absolute",t.width="80px",t.height="40px",t.boxSizing="border-box",o.addEventListener("click",function(t){r.fire("click",t)},!1),n=D4("svg",{class:"flourish-popup-svg"},{position:"absolute",top:0,left:0,bottom:0,right:0}),(e=D4("filter",{id:"dropshadow-"+r.unique_id,height:"130%"})).appendChild(D4("feGaussianBlur",{in:"SourceAlpha",stdDeviation:5})),e.appendChild(D4("feOffset",{dx:0,dy:2,result:"offsetblur"})),(i=D4("feComponentTransfer")).appendChild(D4("feFuncA",{type:"linear",slope:.2})),e.appendChild(i),i=D4("feMerge"),e.appendChild(i),i.appendChild(D4("feMergeNode")),i.appendChild(D4("feMergeNode",{in:"SourceGraphic"})),n.appendChild(e),(e=D4("g",{filter:"url(#dropshadow-"+r.unique_id+")",fill:"white",stroke:"none"})).appendChild(D4("rect",{x:A4,y:A4,rx:5})),e.appendChild(D4("path")),n.appendChild(e),o.appendChild(n),(n=document.createElement("div")).className="flourish-popup-content",(t=n.style).position="absolute",t.top=t.left=A4+"px",t.padding="10px",o.appendChild(n),r._getConstrainer().appendChild(o)),r._resizeConstrainer(),o},C4.prototype._getConstrainer=S4,C4.prototype._resizeConstrainer=function(){k4||S4.call(this);var t=j4.display;j4.display="none",j4.width=document.documentElement.scrollWidth+"px",j4.height=document.documentElement.scrollHeight+"px",j4.display=t},C4.prototype.draw=function(){var t=this;if(t.is_visible=!0,t._point){var e=document.documentElement.getBoundingClientRect(),n=t._point[0],r=t._point[1],i=t._container.getBoundingClientRect();n<i.left?n=i.left:n>i.right&&(n=i.right),r<i.top?r=i.top:r>i.bottom&&(r=i.bottom);var o=n-e.left,a=r-e.top,s=t._getElement(),l=s.style,c=s.querySelector(".flourish-popup-svg"),u=c.querySelector("g"),f=u.querySelector("rect"),d=u.querySelector("path"),h=s.querySelector(".flourish-popup-content");l.display="block",h.style.maxWidth=(w=i,(t._maxWidth.match(/^\d+(?:\.\d+)?%$/)?w.width*parseFloat(t._maxWidth)/100:t._maxWidth.match(/^\d+(?:\.\d+)?(?:px)?$/)?parseFloat(t._maxWidth):(null!=t._maxWidth&&console.error("Popup: Unknown value for maxWidth: "+t._maxWidth),w.width))+"px"),t._inner_html!=t._html&&(h.innerHTML=t._inner_html=t._html);for(var p,g,_=h.getBoundingClientRect();p=Math.ceil(_.width),g=Math.ceil(_.height),l.width=p+2*A4+"px",l.height=g+2*A4+"px",_=h.getBoundingClientRect(),p!=Math.ceil(_.width)||g!=Math.ceil(_.height););f.setAttribute("width",p),f.setAttribute("height",g),c.setAttribute("width",p+2*A4),c.setAttribute("height",g+2*A4);for(var m,y,v,b,x,w,M=A4-10,k=null,j=null,A=null,T=1/0,z=1/0,N=0;N<t._directions.length;N++){var D=t._directions[N],S=(v=p,I=g,b=n,x=r,S=i,S=T4[D](v,I,b,x,S),b=b-A4-S.pos[0],S=x-A4-S.pos[1],{left:b,top:S,right:b+v+2*A4,bottom:S+I+2*A4}),I=Math.max(0,Math.floor(i.left)-S.left-M)+Math.max(0,S.right-Math.ceil(i.right)-M),S=Math.max(0,Math.floor(i.top)-S.top-M)+Math.max(0,S.bottom-Math.ceil(i.bottom)-M);if(0==I&&0==S){k=D;break}(I<T||I==T&&S<m)&&(T=I,m=S,j=D),(S<z||S==z&&I<y)&&(z=S,y=I,A=D)}return D=k||("horizontal"==t._fallbackFit?j:"vertical"==t._fallbackFit?A:(console.warn("Popup: failed to point box of size ("+p+", "+g+") at ("+n+", "+r+") within ("+i.left+", "+i.top+", "+i.right+", "+i.bottom+")"),t._directions[0])),w=l,e=d,u=p,s=g,f=o,c=a,d=n,o=r,a=i,a=T4[D](u,s,d,o,a),w.left=f-A4-a.pos[0]+"px",w.top=c-A4-a.pos[1]+"px",e.setAttribute("d","M0,0L"+a.shape.join(",")+"Z"),e.setAttribute("transform","translate("+(a.pos[0]+A4)+","+(a.pos[1]+A4)+")"),t}console.error("Popup: cannot draw popup till point() has been specified")},C4.prototype.hide=function(){return this.is_visible&&(this.is_visible=!1,this._getElement().style.display="none"),this},O4.version="2.1.5";var P4=O0("start","end","cancel","interrupt"),R4=[],F4=0,Y4=1,U4=2,B4=3,H4=4,Z4=5,G4=6;function q4(t,e,n,r,i,o){var a,s,l,c,u,f=t.__transition;if(f){if(n in f)return}else t.__transition={};function d(t){var e,n,r,i;if(l.state!==Y4)return p();for(e in u)if((i=u[e]).name===l.name){if(i.state===B4)return rg(d);i.state===H4?(i.state=G4,i.timer.stop(),i.on.call("interrupt",a,a.__data__,i.index,i.group),delete u[e]):+e<s&&(i.state=G4,i.timer.stop(),i.on.call("cancel",a,a.__data__,i.index,i.group),delete u[e])}if(rg(function(){l.state===B4&&(l.state=H4,l.timer.restart(h,l.delay,l.time),h(t))}),l.state=U4,l.on.call("start",a,a.__data__,l.index,l.group),l.state===U4){for(l.state=B4,c=new Array(r=l.tween.length),e=0,n=-1;e<r;++e)(i=l.tween[e].value.call(a,a.__data__,l.index,l.group))&&(c[++n]=i);c.length=n+1}}function h(t){for(var e=t<l.duration?l.ease.call(null,t/l.duration):(l.timer.restart(p),l.state=Z4,1),n=-1,r=c.length;++n<r;)c[n].call(a,e);l.state===Z4&&(l.on.call("end",a,a.__data__,l.index,l.group),p())}function p(){for(var t in l.state=G4,l.timer.stop(),delete u[s],u)return;delete a.__transition}a=t,s=n,l={name:e,index:r,group:i,on:P4,tween:R4,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:F4},((u=a.__transition)[s]=l).timer=K0(function(t){l.state=Y4,l.timer.restart(d,l.delay,l.time),l.delay<=t&&d(t-l.delay)},0,l.time)}function Q4(t,e){e=V4(t,e);if(e.state>F4)throw new Error("too late; already scheduled");return e}function W4(t,e){e=V4(t,e);if(e.state>B4)throw new Error("too late; already running");return e}function V4(t,e){t=t.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function X4(t,e,n){var r=t._id;return t.each(function(){var t=W4(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return V4(t,r).value[e]}}function $4(t,e){var n;return("number"==typeof e?vu:e instanceof Ei?kc:(n=Ei(e))?(e=n,kc):Mu)(t,e)}function J4(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return o=t!==a?(a=t)&&(e=r,n=t,function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}):o}return t._value=i,t}function K4(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return o=t!==a?(a=t)&&(e=r,n=t,function(t){this.setAttribute(e,n.call(this,t))}):o}return t._value=i,t}var t5=Os.prototype.constructor;function e5(t){return function(){this.style.removeProperty(t)}}function n5(i,o,a){var s,l;function t(){var e,n,r,t=o.apply(this,arguments);return s=t!==l?(l=t)&&(e=i,n=t,r=a,function(t){this.style.setProperty(e,n.call(this,t),r)}):s}return t._value=o,t}function r5(n){var r,i;function t(){var e,t=n.apply(this,arguments);return r=t!==i?(i=t)&&(e=t,function(t){this.textContent=e.call(this,t)}):r}return t._value=n,t}var i5=0;function o5(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}Mh=Os.prototype;o5.prototype={constructor:o5,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=es(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),f[d]=l,q4(f[d],e,n,d,f,V4(s,n)));return new o5(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=rs(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,f=0;f<u;++f)if(l=c[f]){for(var d,h=t.call(l,l.__data__,f,c),p=V4(l,n),g=0,_=h.length;g<_;++g)(d=h[g])&&q4(d,e,n,g,h,p);o.push(h),a.push(l)}return new o5(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=is(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new o5(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,t=n.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var s,l=e[a],c=n[a],u=l.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=l[d]||c[d])&&(f[d]=s);for(;a<r;++a)o[a]=e[a];return new o5(o,this._parents,this._name,this._id)},selection:function(){return new t5(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=++i5,r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&q4(a,t,n,c,s,{time:(a=V4(a,e)).time+a.delay+a.duration,delay:0,duration:a.duration,ease:a.ease});return new o5(r,this._parents,t,n)},call:Mh.call,nodes:Mh.nodes,node:Mh.node,size:Mh.size,empty:Mh.empty,each:Mh.each,on:function(t,e){var n,r,i,o,a,s,l=this._id;return arguments.length<2?V4(this.node(),l).on.on(t):this.each((n=l,i=e,s=((r=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return!(t=0<=e?t.slice(0,e):t)||"start"===t})?Q4:W4,function(){var t=s(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}))},attr:function(t,e){var n=Ja(t),r="transform"===n?Cu:$4;return this.attrTween(t,"function"==typeof e?(n.local?function(r,i,o){var a,s,l;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttributeNS(r.space,r.local))===(e=n+"")?null:t===a&&e===s?l:(s=e,l=i(a=t,n));this.removeAttributeNS(r.space,r.local)}}:function(r,i,o){var a,s,l;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttribute(r))===(e=n+"")?null:t===a&&e===s?l:(s=e,l=i(a=t,n));this.removeAttribute(r)}})(n,r,X4(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===i?o:o=n(i=t,r)}}:function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttribute(e);return t===a?null:t===i?o:o=n(i=t,r)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return t=Ja(t),this.tween(n,(t.local?J4:K4)(t,e))},style:function(t,e,n){var r,i,o,a,s,l,c,u,f,d,h,p,g,_,m,y,v,b,x,w,M,k,j,A,T,z="transform"==(t+="")?Lu:$4;return null==e?this.styleTween(t,(M=t,k=z,function(){var t=ds(this,M),e=(this.style.removeProperty(M),ds(this,M));return t===e?null:t===j&&e===A?T:T=k(j=t,A=e)})).on("end.style."+t,e5(t)):"function"==typeof e?this.styleTween(t,(y=z,v=X4(this,"style."+(m=t),e),function(){var t=ds(this,m),e=v(this),n=e+"";return null==e&&(this.style.removeProperty(m),n=e=ds(this,m)),t===n?null:t===b&&n===x?w:(x=n,w=y(b=t,e))})).each((c=this._id,_="end."+(g="style."+(u=t)),function(){var t=W4(this,c),e=t.on,n=null==t.value[g]?p=p||e5(u):void 0;e===f&&h===n||(d=(f=e).copy()).on(_,h=n),t.on=d})):this.styleTween(t,(r=t,i=z,l=(o=e)+"",function(){var t=ds(this,r);return t===l?null:t===a?s:s=i(a=t,o)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,n5(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=X4(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,r5(t))},remove:function(){return this.on("end.remove",(n=this._id,function(){var t,e=this.parentNode;for(t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=V4(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(i,o){var a,s;return function(){var t=W4(this,i),e=t.tween;if(e!==a)for(var n=0,r=(s=a=e).length;n<r;++n)if(s[n].name===o){(s=s.slice()).splice(n,1);break}t.tween=s}}:function(o,a,s){var l,c;if("function"!=typeof s)throw new Error;return function(){var t=W4(this,o),e=t.tween;if(e!==l){c=(l=e).slice();for(var n={name:a,value:s},r=0,i=c.length;r<i;++r)if(c[r].name===a){c[r]=n;break}r===i&&c.push(n)}t.tween=c}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Q4(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Q4(this,t).delay=e}})(e,t)):V4(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){W4(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){W4(this,t).duration=e}})(e,t)):V4(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){W4(this,t).ease=e}}(e,t)):V4(this.node(),e).ease},end:function(){var i,o,a=this,s=a._id,l=a.size();return new Promise(function(t,e){var n={value:e},r={value:function(){0==--l&&t()}};a.each(function(){var t=W4(this,s),e=t.on;e!==i&&((o=(i=e).copy())._.cancel.push(n),o._.interrupt.push(n),o._.end.push(r)),t.on=o})})}};var a5={time:null,delay:0,duration:250,ease:Tg};Os.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>U4&&n.state<Z4,n.state=G4,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)})},Os.prototype.transition=function(t){var e,n;t=t instanceof o5?(e=t._id,t._name):(e=++i5,(n=a5).time=X0(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&q4(a,t,e,c,s,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return a5.time=X0(),a5;return n}(a,e));return new o5(r,this._parents,t,e)};var s5,l5=1,c5={container:document.body,point:[window.innerWidth/2,window.innerHeight/2],html:"",open_duration:250,close_duration:250,popup_custom_template:"",position:"overlay",shadow:!0,underlay_color:"rgba(255, 255, 255, 0.75)",width_side:35,height_side:35,width_overlay:80,height_overlay:80,vertical_position:"click",max_width:null,max_height:null,closeable:!0};function u5(){for(var t in this.unique_id=l5++,this._is_open=!1,this._onclose=null,c5)this["_"+t]=c5[t]}for(s5 in c5)!function(e){u5.prototype[e]=function(t){return void 0===t?this["_"+e]:(this["_"+e]=t,this)}}(s5);u5.prototype.point=function(t,e){return void 0===t?this._point:(Array.isArray(t)?this._point=[t[0],t[1]]:void 0!==e?this._point=[t,e]:t instanceof HTMLElement||t instanceof SVGElement?(t=t.getBoundingClientRect(),this._point=[Math.floor(t.left+t.width/2),Math.floor(t.top+t.height/2)]):console.error("Panel: could not understand argument"),this)},u5.prototype.container=function(t){return t&&(this._container=t),this},u5.prototype.close=u5.prototype.hide=function(){if(this._is_open)return function(t){t._getElement().style.pointerEvents="none",t._is_open=!1;var e=t._close_duration;Ps(t._getElement()).transition().duration(e).style("background","rgba(255, 255, 255, 0)").on("interrupt",function(){Ps(this).style("display",t._is_open?"block":"none")}).on("end",function(){Ps(this).style("display","none")}).select(".flourish-panel-close").style("opacity","0"),Ps(t._inner).transition().duration(e).style("opacity",0),Ps(t._content).transition().duration(e/2).style("opacity",0)}(this),this},u5.prototype.draw=function(){return this._content.innerHTML=this._html,function(t){var e=t._is_open||t._html==t._default?0:t._open_duration,n=window.innerWidth,r=window.innerHeight,i="overlay"==t._position,o="top"==t._position||"bottom"==t._position,a="left"==t._position||"right"==t._position,s=100*(t._max_width||1/0)/n,l=100*(t._max_height||1/0)/r,c=100*t._point[1]/r,r="click"==t._vertical_position&&!Flourish.fixed_height,u=i?Math.min(t._width_overlay,s):o?100:Math.min(t._width_side,s),f=i?Math.min(t._height_overlay,l):a?100:Math.min(t._height_side,l),d=i?(100-u)/2:"right"==t._position?100-u:0,o=r?Math.max(1,Math.min(c-f/2,99-f)):(100-f)/2,h=i?o:"bottom"==t._position?100-f:0,s=i?0:u,l=i?0:f,o=i?100*t._point[0]/n:"right"==t._position?100:"left"==t._position?-u:0,n=i?c:"bottom"==t._position?100:"top"==t._position?-f:0;Ps(t._getElement()).style("display","block").transition().duration(e).delay(.25*e).style("background",i?t._underlay_color:"rgba(255, 255, 255, 0)").style("pointer-events",i?null:"none"),Ps(t._inner).style("opacity",1).style("display","block").style("pointer-events","none").style("width",s+"%").style("height",l+"%").style("left",o+"%").style("top",n+"%").transition().duration(e).style("width",u+"%").style("height",f+"%").style("left",d+"%").style("top",h+"%").on("end",function(){Ps(t._inner).style("pointer-events","all").style("width",u+"%").style("height",f+"%").style("left",d+"%").style("top",h+"%")}).on("interrupt",function(){Ps(t._inner).style("pointer-events","all").style("width",u+"%").style("height",f+"%").style("left",d+"%").style("top",h+"%")});r=a&&r;Ps(t._content).transition().duration(e/4).delay(e).style("opacity",1).on("interrupt",function(){Ps(this).style("opacity",1)}),Ps(t._content).select(".flourish-panel-content-inner").style("position",r?"absolute":null).style("top",r?c+"%":null).style("transform",r?"translateY(-50%)":null),Ps(t._inner).select(".flourish-panel-close").style("opacity",0).transition().duration(e/4).delay(e).style("opacity",t._closeable?1:0),t._is_open=!0}(this),this},u5.prototype.on=function(t,e){return"close"==t?e&&(this._onclose=e):console.error("Panel .on() method only supports 'close' events"),this},u5.prototype.margins=function(){var t,e={top:0,right:0,bottom:0,left:0};return this._is_open&&"overlay"!=this._position&&(t=this._getElement().getBoundingClientRect(),"top"==this._position&&(e.top=t.top+t.height),"right"==this._position&&(e.right=t.left),"bottom"==this._position&&(e.bottom=t.top),"left"==this._position&&(e.left=t.left+t.width)),e.css=e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px",e};var f5,d5={mode:"popup",locked_id:null,popup_is_custom:!(u5.prototype._getElement=function(){var t,e,n,r=this,i="flourish-panel-"+r.unique_id,o=document.getElementById(i);return o||((o=document.createElement("div")).className="flourish-panel",o.id=i,o.addEventListener("click",function(t){t.stopPropagation(),r.hide(),r._onclose&&r._onclose()}),(t=o.style).position="absolute",t.zIndex="999999",t.pointerEvents="none",t.width="100%",t.height="100%",t.top="0",t.left="0",t.background="rgba(255, 255, 255, 0)",(e=document.createElement("div")).className="flourish-panel-inner",o.appendChild(e),(t=(r._inner=e).style).width="0",t.height="0",t.position="absolute",t.boxSizing="border-box",(i=document.createElement("div")).className="flourish-panel-shadow",e.appendChild(i),(i=document.createElement("div")).className="flourish-panel-content",e.appendChild(i),(t=(r._content=i).style).opacity="0",t.overflowY="auto",t.height="100%",Ps((n=r)._inner).append("svg").attr("class","flourish-panel-close").attr("viewBox","0 0 40 40").style("width","1.25rem").style("height","1.25rem").style("position","absolute").style("right","1rem").style("top","1rem").style("cursor","pointer").style("opacity",0).on("mouseover",function(){n._closeable&&(this.style.opacity=.66)}).on("mouseout",function(){n._closeable&&(this.style.opacity=1)}).on("click",function(){zs.stopPropagation(),n.hide(),n._onclose&&n._onclose()}).on("touch",function(){zs.stopPropagation(),n.hide(),n._onclose&&n._onclose()}).append("path").attr("stroke","#333333").attr("stroke-width","0.5rem").attr("stroke-linecap","round").attr("d","M 10,10 L 30,30 M 30,10 L 10,30"),r._container.appendChild(o)),o}),popup_custom_header:"Popup header",popup_custom_main:"Popup main content. Write your column names in between double curly brackets to display dynamic content.",popup_teaser_default:"Click to see more",popup_text_color:"#333333",popup_align:"left",popup_font_size:1,popup_width:12,popup_background:"#ffffff",popup_background_opacity:1,popup_padding:.5,popup_radius:.2,popup_shadow:!0,popup_pointer:!0,popup_header_background:"#333333",popup_header_text_color:"#ffffff",popup_header_type:"block",popup_list_type:"table",popup_list_label_weight:"normal",popup_list_separator:": ",panel_is_custom:!1,panel_custom_header:"Custom panel header",panel_custom_main:"Custom panel main content",panel_side_default_content:"<h1>Tap or click to explore</h1>",panel_side_fixed:!1,panel_position:"overlay",panel_width_overlay:80,panel_height_overlay:80,panel_vertical_position:"center",panel_width_side:35,panel_height_side:35,panel_max_width:null,panel_max_height:null,panel_text_color:"#333333",panel_align:"left",panel_font_size:1.25,panel_background:"#ffffff",panel_background_opacity:.9,panel_padding:1.2,panel_radius:.2,panel_shadow:!0,panel_open_duration:250,panel_close_duration:250,panel_list_type:"table",panel_list_label_weight:"normal",panel_list_separator:": "};function h5(i,o,t){var e="<div class='flourish-panel-content-inner'>",n=i["_"+t+"_default_template"],r=i._state[t+"_list_type"],a=i._state[t+"_list_separator"];if(n)e+=n.replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,function(t,n){var r;if(Array.isArray(i._column_names[n])){var e=i._column_names[n];if(0==e.length)return"";r="<ul>",e.forEach(function(t,e){r+="<li>"+t+a+o[n][e]+"</li>"}),r+="</ul>"}else r=o[n];return void 0!==r?r:""});else{var s,l,c={};for(l in(o[i._title_key]||o[i._subtitle_key])&&(e+="<header>",o[i._title_key]&&(e+="<h1>"+o[i._title_key]+"</h1>",c[s=i._column_names[i._title_key]]=!0),o[i._subtitle_key]&&(e+="<h2>"+o[i._subtitle_key]+"</h2>",c[s=i._column_names[i._subtitle_key]]=!0),e+="</header>"),e+="<div class='main-content'><"+r+">",i._column_names)if(l!=i._title_key&&l!=i._subtitle_key)if(Array.isArray(o[l]))for(var u=0;u<o[l].length;u++)c[s=i._column_names[l][u]]||(c[s]=!0,"table"==r?e+="<tr><td class='table-col-label'><span class='data-heading'>"+s+"</span></td><td class='table-col-value'>"+o[l][u]+"</td></tr>":"ul"==r&&(e+="<li><span class='data-heading'>"+s+a+"</span>"+o[l][u]+"</li>"));else c[s=i._column_names[l]]||(c[s]=!0,"table"==r?e+="<tr><td class='table-col-label'><span class='data-heading'>"+s+"</span></td><td class='table-col-value'>"+o[l]+"</td></tr>":"ul"==r&&(e+="<li><span class='data-heading'>"+s+a+"</span>"+o[l]+"</li>"));e+="</"+r+"></div></div>"}return e}function p5(n,r,i){var o;return Object.keys(n._column_names).some(function(t){if(Array.isArray(n._column_names[t])){var e=n._column_names[t].indexOf(r);if(0<=e)return o=i[t][e],!0}else if(n._column_names[t]==r)return o=i[t],!0}),void 0!==o?o:""}function g5(t,e,n,r){var i="",e=_5(e,t,r),r=_5(n,t,r);return e&&(i+="<header>"+e+"</header>"),r&&(i+="<div class='main-content'>"+r+"</div>"),i}function _5(t,r,i){return t.replace(/\{\{#if ((?:[^}]|\}[^}])*)\}\}([\s\S]*?)\{\{\/if\}\}/g,function(t,e,n){return""==p5(r,e,i)?"":n}).replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,function(t,e){return p5(r,e,i)})}function m5(t,e,n){var r="";return n&&!t._state.popup_is_custom?r+="<div class='main-content'>"+t._state.popup_teaser_default+"</div>":n||t._state.popup_is_custom?r+=g5(t,t._state.popup_custom_header,t._state.popup_custom_main,e):r+=h5(t,e,"popup"),r}function y5(t,e){var n="";return t._state.panel_is_custom?n+=g5(t,t._state.panel_custom_header,t._state.panel_custom_main,e):n+=h5(t,e,"panel"),n}function v5(t){var e=t.popup._getElement(),n=e.querySelector(".flourish-popup-content");n.style.padding="0",n.style.textAlign=t._state.popup_align,n.style.color=t._state.popup_text_color,n.style.fontSize=t._state.popup_font_size+"rem",n.style.borderRadius=t._state.popup_radius+"rem",n.addEventListener("click",function(){event.stopPropagation()});var r=t.panel._getElement(),i=r.querySelector(".flourish-panel-inner"),o=r.querySelector(".flourish-panel-content"),n=Ei(t._state.panel_background);i.style.background="rgba("+n.r+","+n.g+","+n.b+","+t._state.panel_background_opacity+")",i.style.borderRadius=t._state.popup_radius+"rem",i.style.boxShadow="overlay"==t._state.panel_position&&t._state.panel_shadow?"0 0 1.5rem rgba(0,0,0,0.2)":"",i.addEventListener("click",function(){event.stopPropagation()}),o.style.padding=t._state.panel_padding+"rem",o.style.textAlign=t._state.panel_align,o.style.color=t._state.panel_text_color,o.style.fontSize=t._state.panel_font_size+"rem",o.style.boxSizing="border-box";e=e.querySelector(".flourish-popup-svg g");e.style.fill=t._state.popup_background,e.style.opacity=t._state.popup_background_opacity;r=r.querySelector(".flourish-panel-close path");r&&(r.style.stroke=t._state.panel_text_color),0==t._state.popup_shadow?e.removeAttribute("filter"):e.setAttribute("filter","url(#dropshadow-"+t.popup.unique_id+")"),e.querySelector("rect").setAttribute("rx",t._state.popup_radius+"rem"),e.querySelector("path").style.display=t._state.popup_pointer?"block":"none",function(t){document.querySelector("#popup-styles")||((i=document.createElement("style")).id="popup-styles",document.head.appendChild(i));var e=new e2,n="block"==t._state.popup_header_type,r=Ei(t._state.popup_header_background||"transparent");r.opacity=t._state.popup_header_background?t._state.popup_background_opacity:0;var i=t._state.panel_position;e.select(".flourish-panel .flourish-panel-shadow").style("pointer-events","none").style("position","absolute").style("display","overlay"!=i&&t._state.panel_shadow?"block":"none").style("top","bottom"==i?"-3rem":"top"==i?"auto":0).style("right","left"==i?"-3rem":"right"==i?"auto":0).style("bottom","top"==i?"-3rem":"bottom"==i?"auto":0).style("left","right"==i?"-3rem":"left"==i?"auto":0).style("width","left"==i||"right"==i?"3rem":"100%").style("height","top"==i||"bottom"==i?"3rem":"100%").style("z-index","-1").style("overflow","hidden"),e.select(".flourish-panel .flourish-panel-shadow:before").style("content","''").style("display","block").style("position","absolute").style("width","left"==i||"right"==i?"1.5rem":"100%").style("height","top"==i||"bottom"==i?"1.5rem":"100%").style("border-radius","50%").style("background","rgba(0,0,0,0.3)").style("bottom","bottom"==i?"-50%":"top"==i?"auto":0).style("left","left"==i?"-50%":"right"==i?"auto":0).style("top","top"==i?"-50%":"bottom"==i?"auto":0).style("right","right"==i?"-50%":"left"==i?"auto":0).style("filter","blur(15px)"),e.select(".flourish-popup").style("pointer-events","none").select(".flourish-popup-content").style("pointer-events","auto").style("max-width",null==t._state.popup_width?null:t._state.popup_width+"rem !important"),e.select(".flourish-popup header, .flourish-panel header").style("margin","0"),e.select(".flourish-popup header").style("font-weight","bold").style("color",n?t._state.popup_header_text_color:null).style("background",n?r.rgb():null).style("padding",t._state.popup_padding+"rem").style("padding-bottom",n?null:"0").style("border-radius",t._state.popup_radius+"rem "+t._state.popup_radius+"rem 0 0"),e.select(".flourish-panel .flourish-panel-content-inner").style("overflow","auto"),e.select(".flourish-panel header").style("font-weight","bold").style("margin-bottom","0.5em").style("padding-right","1rem"),e.select(".flourish-popup .main-content").style("padding",t._state.popup_padding+"rem"),e.select(".flourish-popup header + .main-content").style("padding",t._state.popup_padding+"rem").style("padding-top",n?null:"0"),e.select(".flourish-popup h1, .flourish-panel h1").style("font-size","1em").style("margin","0"),e.select(".flourish-popup h2, .flourish-panel h2").style("font-size","1em").style("margin",n?"0":"0 0 0.25em").style("opacity","0.6").style("font-weight","normal"),e.select(".flourish-popup h2:empty, .flourish-panel h2:empty, .flourish-popup h1:empty, .flourish-panel h1:empty, .flourish-popup p:empty, .flourish-panel p:empty").style("display","none"),e.select(".flourish-popup p, .flourish-panel p").style("margin","0").style("font-size","inherit").style("font-weight","normal"),e.select(".flourish-popup table, .flourish-panel table").style("margin","0").style("width","100%").style("border-collapse","collapse").style("table-layout","auto"),e.select(".flourish-popup table tr, .flourish-panel table tr").style("border-top","1px solid #eee"),e.select(".flourish-popup table tr:first-child, .flourish-panel table tr:first-child").style("border-top","none"),e.select(".flourish-popup table tr td, .flourish-panel table tr td").style("padding","0.25em 0.5em 0.25em 0").style("vertical-align","top").style("font-size","inherit").style("text-align","left").style("font-weight","normal").style("overflow","hidden").style("word-break","break-word").style("text-overflow","ellipsis"),e.select(".flourish-popup table tr:last-child td, .flourish-panel table tr:last-child td").style("padding-bottom","0"),e.select(".flourish-popup .data-heading").style("font-weight",t._state.popup_list_label_weight),e.select(".flourish-panel .data-heading").style("font-weight",t._state.panel_list_label_weight),e.select(".flourish-popup table tr td.table-col-value, .flourish-panel table tr td.table-col-value").style("text-align","right").style("padding","0.25em 0 0.25em 0.5em"),e.select(".flourish-popup table tr:last-child td.table-col-value, .flourish-panel table tr:last-child td.table-col-value").style("padding-bottom","0"),e.select(".flourish-popup ul, .flourish-panel ul").style("padding","0").style("margin","0"),e.select(".flourish-popup ul li, .flourish-panel ul li").style("font-size","inherit").style("list-style","none"),document.head.querySelector("#popup-styles").innerHTML=e.print()}(t)}function b5(t,e,n){var r,i=this;for(r in this._state=t,this._popup_default_template=null,this._panel_default_template=null,this._title_key="name",this._subtitle_key=null,this._first_load=!0,this._on_panel_close=null,this._show_default_content_timer=null,this._panel_container=e||document.body,this._popup_container=n||document.body,this._popup_directions=["top","bottom","left","right"],this._getLockedPosition=function(){return null},d5)null==t[r]&&(t[r]=d5[r]);this.panel=(new u5).container(this._panel_container).on("close",function(){i._state.locked_id=null,i.popup.hide(),"function"==typeof i._on_panel_close&&i._on_panel_close()}),this.popup=O4().container(this._popup_container).point(0,0).draw().hide()}function x5(t){t.popup._getElement().querySelector(".flourish-popup-content").style.pointerEvents="none"}function w5(t){t.popup._getElement().querySelector(".flourish-popup-content").style.pointerEvents="auto"}function M5(t){var e,n={};for(e in t){var r=t[e];"x"===e&&(r=hk(r)),"y"===e&&(r=pk(r)),"size"===e&&(r=gk(r)),"facet"===e&&(r=t.facet.key),"id"!==e&&(n[e]=r)}return n}function k5(){var t,e;f5.panel.underlay_color((t=fb.layout.background_color,e=.8,"string"==typeof t&&((t=Ei(t)).opacity=void 0!==e?e:1,t))),f5.setColumnNames(q2.data.column_names).getLockedPosition(j5).update()}function j5(t){if("webgl"===fb.render_mode)return null;t=Ps("#"+t).node();return t?[t,t&&t.__data__]:void 0}b5.prototype.getLockedPosition=function(t){return"function"!=typeof t?console.error("Invalid function passed to @flourish/info-popup getLockedPosition"):this._getLockedPosition=t,this},b5.prototype.update=function(t){var e;null!==this._state.locked_id&&"none"!=this._state.mode?(e=this._getLockedPosition(this._state.locked_id))?this.click(e[0],e[1],this._state.locked_id,t):console.warn("@flourish/info-popup: failed to return value from getLockedPosition function"):this.clickout()},b5.prototype.click=function(t,e,n,r){var i;"none"!=this._state.mode&&(i="popup"==this._state.mode?"popup":"panel",this._checkIfPopupIsEmpty(e,i)?"panel"==i?this.hidePanel():this.hidePopup():(this._point(t),null!=n?(this._state.locked_id=n,w5(this)):this._state.locked_id=null,"panel"==i?(clearTimeout(this._show_default_content_timer),this.popup.hide(),this._drawPanel(e,r)):"popup"==i&&(this.panel.hide(),this._drawPopup(e,r))))},b5.prototype.clickout=function(){this._state.locked_id=null,"both"!=this._state.mode&&"panel"!=this._state.mode||(this.popup.draw(),this.popup.hide(),"overlay"!=this._state.panel_position&&this._state.panel_side_fixed?this._showDefaultPanelContent():this.panel.hide()),"popup"==this._state.mode&&(this.panel.hide(),this.popup.draw(),this.popup.hide())},b5.prototype.touch=function(t,e,n,r){this.mouseover(t,e,r,!0,n)},b5.prototype.mouseover=function(t,e,n,r,i){var o="panel"==this._state.mode?"panel":"popup";if(this._checkIfPopupIsEmpty(e,o,"both"==this._state.mode))"panel"==o?this.hidePanel():this.hidePopup();else{var a=this;if("both"==this._state.mode&&(this._point(t),this._drawPopup(e,n,!0),(r?w5:x5)(this),r&&(a.popup._getElement().querySelector(".flourish-popup-content").onclick=function(){a.click(t,e,i,n)})),"popup"==this._state.mode){if(null!==this._state.locked_id)return;x5(this),this._point(t),this._drawPopup(e,n)}"panel"==this._state.mode&&null===this._state.locked_id&&"overlay"!=this._state.panel_position&&this._state.panel_side_fixed&&(clearTimeout(this._show_default_content_timer),this._point(t),this._drawPanel(e,n))}},b5.prototype.mouseout=function(){if("both"==this._state.mode&&this.popup.hide(),"popup"==this._state.mode){if(null!==this._state.locked_id)return;this.popup.hide()}"panel"==this._state.mode&&null===this._state.locked_id&&"overlay"!=this._state.panel_position&&this._state.panel_side_fixed&&this._showDefaultPanelContent()},b5.prototype.locked=function(){return this._state.locked_id},b5.prototype.mode=function(){return this._state.mode},b5.prototype.setColumnNames=function(t){return this._column_names=t,this},b5.prototype._showDefaultPanelContent=function(){var t=this;clearTimeout(this._show_default_content_timer),this._show_default_content_timer=setTimeout(function(){t.panel.html(t._state.panel_side_default_content),t._drawPanel()},100),t._drawPanel()},b5.prototype._checkIfPopupIsEmpty=function(t,e,n){return""==("panel"==e?y5(this,t):m5(this,t,n)).trim()},b5.prototype.onPanelClose=function(t){return this._on_panel_close=t,this},b5.prototype._drawPopup=function(t,e,n){return t&&this.popup.html(m5(this,t,n)),v5(this),this.popup.draw(),e&&e(this.popup._getElement(),t),this},b5.prototype._drawPanel=function(t,e){return v5(this),this.panel.open_duration(this._state.panel_open_duration).close_duration(this._state.panel_close_duration).width_overlay(this._state.panel_width_overlay).height_overlay(this._state.panel_height_overlay).vertical_position(this._state.panel_vertical_position).width_side(this._state.panel_width_side).height_side(this._state.panel_height_side).position(this._state.panel_position).max_width(this._state.panel_max_width).max_height(this._state.panel_max_height).closeable("overlay"==this._state.panel_position||!this._state.panel_side_fixed),(void 0===t?this.panel:this.panel.html(y5(this,t))).draw(),e&&e(this.panel._getElement(),t),this},b5.prototype.hidePanel=function(){return this.panel.hide(),this},b5.prototype.hidePopup=function(){return this.popup.hide(),this},b5.prototype.popupDirections=function(t){return this._popup_directions=t,this},b5.prototype.margins=function(){return this.panel.margins()},b5.prototype._getBiggestGap=function(t){var e,n,r,i=this._popup_container.getBoundingClientRect(),o=0,a={right:(i.width+i.left-(t.width+t.left))/i.width,bottom:(i.height+i.top-(t.height+t.top))/i.height,left:(t.left-i.left)/i.width,top:(t.top-i.top)/i.height},s={right:["left","leftFlexible","topLeft","bottomLeft","bottomFlexible","bottom","topFlexible","top","bottomRight","topRight","rightFlexible","right"],left:["right","rightFlexible","topRight","bottomRight","top","topFlexible","bottom","bottomFlexible","bottomLeft","topLeft","leftFlexible","left"],top:["bottom","bottomFlexible","bottomRight","bottomLeft","rightFlexible","leftFlexible","right","left","topRight","topLeft","topFlexible","top"],bottom:["top","topFlexible","topLeft","topRight","left","right","leftFlexible","rightFlexible","bottomLeft","bottomRight","bottomFlexible","bottom"]};for(r in a)this._popup_directions.indexOf(r)<0||o<a[r]&&(o=a[r],n=s[e=r]);var l=t.left,i=t.top;return"left"==e||"right"==e?i+=.5*t.height:"bottom"==e&&(i+=t.height),"top"==e||"bottom"==e?l+=.5*t.width:"right"==e&&(l+=t.width),{side:e,arrow_directions:n,x:l,y:i}},b5.prototype._point=function(t){var e=this._popup_directions;if(Array.isArray(t))r=t[0],i=t[1];else{if(!t||!t.getBoundingClientRect)return console.warn("@flourish/info-popup: Invalid positional value passed in point function, should be a coordinates array, or a node. Current value is",t),this;var n=t.getBoundingClientRect(),n=this._getBiggestGap(n),r=n.x,i=n.y,e=n.arrow_directions}return this.panel.point(t),this.popup.directions(e).point(r,i),this},b5.prototype.popupDefaultTemplate=function(t){return null!=t?(this._popup_default_template=t,this):this._popup_default_template},b5.prototype.panelDefaultTemplate=function(t){return null!=t?(this._panel_default_template=t,this):this._panel_default_template},b5.prototype.titleKey=function(t){return null!=t?(this._title_key=t,this):this._title_key},b5.prototype.subtitleKey=function(t){return null!=t?(this._subtitle_key=t,this):this._subtitle_key};var A5,T5,z5,N5,D5,S5,I5={x:0,y:0,width:1,height:1,data:new Uint8Array(4),framebuffer:null},E5=null,L5=(A5=R5,z5=T5=!1,function t(e,n,r){if(T5)return z5=!0,N5=e,D5=n,void(S5=r);T5=!0,A5(e,n,function(){T5=!1,r.apply(this,arguments),z5&&(z5=!1,t(N5,D5,S5,S5=null))})});function C5(i){return function(t){var n=t.offsetX,r=t.offsetY;L5(n,r,function(t,e){t&&e?(t=i.getBoundingClientRect(),E5={coordinates:[n+t.left,r+t.top],data:e},f5.mouseover(E5.coordinates,E5.data)):(f5.mouseout(),E5=null)})}}function O5(t){E5?f5.click(E5.coordinates,E5.data,!0):f5.clickout(),"story_editor"===Flourish.environment&&R5(t.offsetX,t.offsetY,function(t,e,n){t&&(-1==(t=fb.labels_selected.indexOf(n))?fb.labels_selected.push(n):fb.labels_selected.splice(t,1),M4(Z2))})}var P5={color:[D5=N5=0,0,0,0],depth:1};function R5(e,o,a){!function(t){if(_M())U3?uM(rM,t):H3(rM)}(function(t){if(t.transition_progress<1)return a(!1,!1,-1);var n=U5(rM,t);if(void 0===n)return a(!1,!1,-1);var r=Math.floor(e*e4()),i=t.drawingBufferHeight-Math.floor(o*e4());return r<0||i<0||r>=t.drawingBufferWidth||i>=t.drawingBufferHeight?a(!1,!1,-1):(P5.framebuffer=n,rM.clear(P5),G5.pickPass(rM),void window.requestAnimationFrame(function(){I5.x=r,I5.y=i,I5.framebuffer=n,rM.read(I5);var t=I5.data,e=t[3],t=t[2]|t[1]<<8|t[0]<<16,e=e&&Z2.data_points[t];a(!!e,e,e?t:-1)}))})}var F5=S5=null,Y5=[-1,-1];function U5(t,e){var n=e.drawingBufferWidth,e=e.drawingBufferHeight;if(F5)Y5[0]===n&&Y5[1]===e||F5.resize(n,e);else try{F5=F5||t.framebuffer({width:n,height:e,depth:!1,stencil:!1})}catch(t){return}return Y5[0]=n,Y5[1]=e,F5}var B5,H5,Z5,G5=(B5="plotter-points",Z5=!(H5=function(n,t,e){return function(t){var e,n=Z2.facets,r=function(t,e){for(var n=Object.create(null),r=0;r<t.length;r++)n[t[r][e]]=r;return n}(n,"key");for(e in Q3=Object.create(null),$3.allocate(t,n.map(function(t){return t.key})),$3.facets){var i=r[e];if(void 0===i)throw new Error("Unexpected: referenced unallocated facet "+JSON.stringify(e));var o=n[i],a=$3.facets[e],s=a.storage,l=Z2.data_points.filter(function(e){var t=!("slider"in Z2.data_points.column_names)||null==Ok.value(),n="x"in Z2.data_points.column_names,r="y"in Z2.data_points.column_names,i="size"in Z2.data_points.column_names;return t?function(t){return o(t)&&t.facet_index===e}:function(t){return o(t)&&t.facet_index===e&&t.slider==Ok.value()};function o(t){return!(n&&"string"!=typeof t.x&&isNaN(t.x)||r&&"string"!=typeof t.y&&isNaN(t.y)||i&&"string"!=typeof t.size&&isNaN(t.size))}}(i)),c=function(t){var n=Object.create(null);return t&&t.length?1===t.length?function(t){return e(t,t.name[0])}:function(t){return e(t,t.name.join("ÿ"))}:function(t){return t.row};function e(t,e){return t._id_key||(n[e]?n[e]++:n[e]=1,t._id_key=e+n[e])}}(q2.data.column_names.name),u=a.joiner(l,c),f=u.update.concat(u.enter).concat(u.exit);!function(t){for(var e=0;e<t.length;e++){var n=t[e];n._color_webgl_curr?(n._color_webgl_prev=n._color_webgl_curr,n._color_webgl_curr=Pw(n.color),n._shape_webgl_prev=n._shape_webgl_curr,n._shape_webgl_curr=b3(n)):(n._color_webgl_prev=n._color_webgl_curr=Pw(n.color),n._shape_webgl_prev=n._shape_webgl_curr=b3(n))}}(f),s.id=new Float32Array(2*f.length),s.prev_x=new Float32Array(f.length),s.curr_x=new Float32Array(f.length),s.curr_y=new Float32Array(f.length),s.prev_y=new Float32Array(f.length),s.curr_r=new Float32Array(f.length),s.prev_r=new Float32Array(f.length),s.curr_uv=new Float32Array(4*f.length),s.prev_uv=new Float32Array(4*f.length),s.stroke_width=new Float32Array(f.length),s.curr_color=new Float32Array(3*f.length),s.prev_color=new Float32Array(3*f.length);var d=u.update.length,h=d+u.enter.length;a.count_total=f.length,a.count_remaining=h;for(var p=o.scales.x.range(),i=p[0]/o.layout.plot_w,l=p[1]/o.layout.plot_w,u=o.scales.y.range(),p=1-u[0]/o.layout.plot_h,u=1-u[1]/o.layout.plot_h,g=o.scales.x.copy().range([i,l]),_=o.scales.y.copy().range([p,u]),m=function(t){return g(t.x)+t.beeswarm_offset_x/o.layout.w},y=function(t){return _(t.y)+t.beeswarm_offset_y/o.layout.h},v=0;v<d;v++){var b=f[v],x=a.joiner.source(c(f[v]))||b,w=b._shape_webgl_curr,M=x===b?x._shape_webgl_prev:x._shape_webgl_curr;s.prev_x[v]="_pwx"in x?x._pwx:m(x),s.curr_x[v]=b._pwx=m(b),s.prev_y[v]="_pwy"in x?x._pwy:y(x),s.curr_y[v]=b._pwy=y(b),s.curr_r[v]=4.5*$5(b)/Math.PI*Q5(w),s.prev_r[v]=4.5*$5(x)/Math.PI*Q5(M),s.stroke_width[v]=Q5(w),G3(s.id,v,b.row_filtered),q3(s.curr_uv,v,w),q3(s.prev_uv,v,M),W3(s.curr_color,v,b._color_webgl_curr),W3(s.prev_color,v,x===b?x._color_webgl_prev:x._color_webgl_curr)}for(v=d;v<h;v++){var k=f[v];s.curr_x[v]=s.prev_x[v]=k._pwx=m(k),s.curr_y[v]=s.prev_y[v]=k._pwy=y(k),s.curr_r[v]=4.5*$5(k)/Math.PI*Q5(k._shape_webgl_curr),s.prev_r[v]=0,s.stroke_width[v]=Q5(k._shape_webgl_curr),G3(s.id,v,k.row_filtered),q3(s.curr_uv,v,k._shape_webgl_curr),q3(s.prev_uv,v,k._shape_webgl_curr),W3(s.curr_color,v,k._color_webgl_curr),W3(s.prev_color,v,k._color_webgl_curr)}for(v=h;v<f.length;v++){var j=f[v];s.curr_x[v]=s.prev_x[v]="_pwx"in j?j._pwx:m(j),s.curr_y[v]=s.prev_y[v]="_pwy"in j?j._pwy:y(j),s.curr_r[v]=0,s.prev_r[v]=4.5*$5(j)/Math.PI*Q5(j._shape_webgl_prev),s.stroke_width[v]=Q5(j._shape_webgl_prev),G3(s.id,v,j.row_filtered),q3(s.curr_uv,v,j._shape_webgl_prev),q3(s.prev_uv,v,j._shape_webgl_prev),W3(s.curr_color,v,j._color_webgl_prev),W3(s.prev_color,v,j._color_webgl_prev)}a.upload()}}(n),{instances:W5,vert:"precision highp float;\n#define GLSLIFY 1\nuniform mat4 u_proj_view;uniform float u_pixel_ratio;uniform vec2 u_scale_aspect;uniform vec3 u_scale_pixel;uniform float state_stroke_width;attribute vec2 a_coord;attribute highp vec2 instance_id;attribute float instance_stroke_width;attribute float instance_scale_x_curr;attribute float instance_scale_y_curr;attribute float instance_scale_r_curr;attribute vec3 instance_color_curr;\n#if IS_TRANSITION\nuniform float u_transition_progress;uniform float u_transition_stagger;attribute float instance_scale_x_prev;attribute float instance_scale_y_prev;attribute float instance_scale_r_prev;attribute vec3 instance_color_prev;varying float v_transition_progress;\n#endif\n#if !IS_ALL_CIRCLES\nvarying vec2 v_uv1;varying vec2 v_uv2;attribute vec4 instance_uv_prev;attribute vec4 instance_uv_curr;\n#endif\nvarying float v_coord_pixel;varying vec2 v_coord;varying vec3 v_color;float cubicInOut(float t){if(t<0.5){return 4.0*t*t*t;}float u=1.0-t;return 1.0-4.0*u*u*u;}vec3 packUInt24IntoVec3(highp float i){return vec3(floor(i/65536.0),mod(floor(i/256.0),256.0),mod(i,256.0))/255.0;}void main(){v_coord=a_coord;\n#if IS_PICKING\nv_color=packUInt24IntoVec3(instance_id.y);\n#else\nv_color=instance_color_curr;\n#endif\n#if IS_TRANSITION\nfloat t=u_transition_progress;t=clamp(t-instance_id.x*u_transition_stagger,0.0,1.0);t=cubicInOut(t);v_color=mix(instance_color_prev,v_color,t);v_transition_progress=t;float radius=mix(instance_scale_r_prev,instance_scale_r_curr,t);vec2 p_prev=vec2(instance_scale_x_prev,instance_scale_y_prev);vec2 p_curr=vec2(instance_scale_x_curr,instance_scale_y_curr);vec2 P=mix(p_prev,p_curr,t);\n#if !IS_ALL_CIRCLES\nv_uv1=mix(instance_uv_prev.xy,instance_uv_prev.zw,a_coord.xy*0.5+0.5);v_uv2=mix(instance_uv_curr.xy,instance_uv_curr.zw,a_coord.xy*0.5+0.5);\n#endif\n#else\nfloat radius=instance_scale_r_curr;vec2 P=vec2(instance_scale_x_curr,instance_scale_y_curr);\n#if !IS_ALL_CIRCLES\nv_uv1=mix(instance_uv_curr.xy,instance_uv_curr.zw,a_coord.xy*0.5+0.5);\n#endif\n#endif\nP=P*2.0-1.0;P+=u_scale_pixel.xy*u_scale_pixel.z*a_coord*(radius+state_stroke_width/u_scale_pixel.z);\n#if !IS_PICKING\nv_coord_pixel=u_pixel_ratio/radius/u_scale_pixel.z;\n#if !IS_ALL_CIRCLES\nv_coord_pixel*=instance_stroke_width;\n#endif\n#endif\ngl_Position=u_proj_view*vec4(P,0,1);}",frag:"precision highp float;\n#define GLSLIFY 1\n#define DEBUG_SHOW_TRANSITIONS 0\nuniform vec3 state_stroke_color;uniform float state_fill_opacity;uniform float state_stroke_width;uniform float state_stroke_opacity;uniform sampler2D t_spritesheet;varying vec2 v_uv1;varying vec2 v_uv2;varying float v_coord_pixel;\n#if IS_TRANSITION\nvarying float v_transition_progress;\n#endif\nvarying vec3 v_color;varying vec2 v_coord;float aastep(float threshold,float value){\n#ifdef GL_OES_standard_derivatives\nfloat afwidth=length(vec2(dFdx(value),dFdy(value)))*0.70710678118654757;return smoothstep(threshold-afwidth,threshold+afwidth,value);\n#else\nreturn step(threshold,value);\n#endif\n}float getPointDistance(){\n#if IS_TRANSITION\nfloat dist1=texture2D(t_spritesheet,v_uv1).r;float dist2=texture2D(t_spritesheet,v_uv2).r;return mix(dist1,dist2,v_transition_progress);\n#else\nreturn texture2D(t_spritesheet,v_uv1).r;\n#endif\n}float getDiffuseAlpha(out float alpha_stroke){\n#if IS_ALL_CIRCLES\nfloat alpha_outer=1.0-aastep(1.0,length(v_coord));float alpha_inner=1.0-aastep(1.0-v_coord_pixel*state_stroke_width,length(v_coord));\n#else\nfloat dist=getPointDistance();float alpha_outer=aastep(0.5,dist);float alpha_inner=aastep(0.5,dist-v_coord_pixel*state_stroke_width);\n#endif\nalpha_stroke=alpha_outer-alpha_inner;return alpha_stroke*state_stroke_opacity+alpha_inner*state_fill_opacity;}float getPickingAlpha(){\n#if IS_ALL_CIRCLES\nreturn step(length(v_coord),1.0);\n#else\nreturn step(0.5,getPointDistance());\n#endif\n}void main(){\n#if IS_PICKING\nfloat alpha=getPickingAlpha();vec3 color=v_color;\n#else\nfloat alpha_stroke;float alpha=getDiffuseAlpha(alpha_stroke);\n#if IS_STROKE_FIXED\nvec3 color=mix(v_color,state_stroke_color,alpha_stroke);\n#else\nvec3 color=v_color;\n#endif\n#endif\ngl_FragColor=vec4(color,clamp(alpha,0.0,1.0));\n#if !IS_PICKING && DEBUG_SHOW_TRANSITIONS && IS_TRANSITION\ngl_FragColor.rgb=vec3(1,0,0);\n#endif\n}",count:6,depth:{enable:!0,mask:!1},blend:{enable:!0,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:"one minus src alpha"},equation:{rgb:"add",alpha:"add"}},context:{facet:l4},uniforms:c4,attributes:{instance_id:X5("id"),instance_uv_curr:X5("curr_uv"),instance_uv_prev:X5("prev_uv"),instance_stroke_width:X5("stroke_width"),instance_scale_x_curr:X5("curr_x"),instance_scale_y_curr:X5("curr_y"),instance_scale_x_prev:X5("prev_x"),instance_scale_y_prev:X5("prev_y"),instance_scale_r_curr:X5("curr_r"),instance_scale_r_prev:X5("prev_r"),instance_color_curr:X5("curr_color"),instance_color_prev:X5("prev_color"),a_coord:[-1,-1,1,-1,1,1,1,1,-1,1,-1,-1]},framebuffer:function(t,e){return e.picking?U5(n,t):void 0}}}),function(t,e){if(!Z5)try{var n;!K5[B5]||tM[B5]?(n=H5(t,fb,q2),Object.assign(n,{vert:nM(n.vert,eM),frag:nM(n.frag,eM,["GL_OES_standard_derivatives"]),profile:!0}),K5[B5]=t(n),K5[B5](e),tM[B5]=!1):K5[B5](e)}catch(t){throw Z5=!0,t}});function q5(n){var r=[];return function(t){for(var e=r.length;e<Z2.facets.length;e++)r[e]=Object.assign({facet:Z2.facets[e].key},n);r.length=Z2.facets.length;for(e=0;e<r.length;e++)r[e].facet=Z2.facets[e].key;G5(t,r)}}function Q5(t){return Z3[t].scale}function W5(t,e){return eM.IS_TRANSITION(t,e)?$3.facets[e.facet||""].count_total:$3.facets[e.facet||""].count_remaining}function V5(){for(var t=0,e=0;e<$3.keys.length;e++){var n=$3.facets[$3.keys[e]].storage.curr_x.length;t<n&&(t=n)}return t}function X5(n){var r={buffer:null,divisor:1};return function(t,e){return r.buffer=$3.facets[e.facet||""].buffers[n],r}}function $5(t){return Math.sqrt(v3(t))}G5.mainPass=q5({picking:!1}),G5.pickPass=q5({picking:!0});var J5,K5=Object.create(null),tM=Object.create(null),eM={IS_PICKING:"picking",IS_ALL_CIRCLES:function(){return!1},IS_STROKE_FIXED:function(){return"fixed"===fb.stroke_mode},IS_TRANSITION:function(t,e){t=t.time_current-t.time_last_update<fb.animation_duration+fb.animation_stagger*V5();return t&&(hM=!0),t}};function nM(o,t,e){if(!o)return o;for(var a=Object.keys(t),s=Object.values(t),l=Object.create(null),c=[],u=[],n=0;e&&n<e.length;n++){var r=e[n];c.push("#ifdef "+r),c.push("#extension "+r+" : enable"),c.push("#endif")}var f=c.length;if(24<a.length)throw new Error("Too many dynamic shader flags: no more than 24 may be used.");return function(t,e){for(var n=0,r=0;r<a.length;r++){var i="function"==typeof s[r]?s[r](t,e):e[s[r]];(u[r]=!!i)&&(n|=1<<r)}if(l[n])return l[n];c.length=f;for(r=0;r<a.length;r++)c.push("#define "+a[r]+(u[r]?" 1":" 0"));return c.push(o),l[n]=c.join("\n")}}var rM,iM=Date.now(),oM=0,aM=0,sM=0,lM=0,cM=!1;function uM(t,e){function n(t){return function(){return fb[t]}}var r,i,o,a,s;aM=(Date.now()-iM)/1e3,sM=aM-lM,lM=aM,e&&(J5=J5||(t=t,r=new Float32Array(16),i=new Float32Array(16),o=new Float32Array(16),a=new Float32Array(2),s=new Float32Array(3),t({context:{time_last_update:function(){return oM},time_current:function(){return aM},time_delta:function(){return sM},transition_progress:function(){return(aM-oM)/fb.animation_duration},transition_init:function(){return cM},transition_stagger:function(){return fb.animation_stagger?fb.animation_stagger/fb.animation_duration:0},view:function(){return z3(i)},proj:function(){return D3(r,-1,1,-1,1,-1,1)},aspect_ratio:function(t){return t.viewportWidth/t.viewportHeight},assets:U3},uniforms:{u_time:function(){return aM},u_time_since_update:function(){return aM-oM},u_transition_progress:t.context("transition_progress"),u_transition_stagger:t.context("transition_stagger"),u_pixel_ratio:e4,u_view:t.context("view"),u_proj:t.context("proj"),u_proj_view:function(t){return N3(o,t.proj,t.view)},u_scale_aspect:function(t){t=t.aspect_ratio;return a[0]=Math.max(1,1/t),a[1]=Math.max(1,t),a},t_spritesheet:t.context("assets.spritesheet"),state_fill_opacity:n("fill_opacity"),state_stroke_opacity:n("stroke_opacity"),state_stroke_color:function(){return W3(s,0,fb.stroke_color),s},state_stroke_width:function(t,e){return eM.IS_ALL_CIRCLES(t,e)?fb.stroke_width:fb.stroke_width*Math.PI/4}}})))(e),cM=!1}uM.update=function(t){cM=!0,t||(oM=aM)};var fM,dM,hM=!0;function pM(t){if(rM)throw new Error("createScatterGL should only be called once");try{dM=(fM=t).appendChild(document.createElement("canvas")),vM(),rM=T3({canvas:dM,extensions:["ANGLE_instanced_arrays"],optionalExtensions:["OES_standard_derivatives"],attributes:{premultipliedAlpha:!0,preserveDrawingBuffer:!0}})}catch(t){return void console.log("WebGL disabled")}fM.addEventListener("mousemove",C5(fM),!1),fM.addEventListener("click",O5),rM.frame(function(t){if(rM&&(hM&&rM.clear(mM),_M())){if(!U3)return H3(rM);var e=hM;hM=!1,uM(rM,e&&t)}}.bind(null,yM)),window.addEventListener("resize",vM,!1),gM(!0)}function gM(t){hM=!0,_M()?(fM.style.display="block",function(){for(var t in K5)tM[t]=!0}(),uM.update(t),vM()):fM.style.display="none"}function _M(){return rM&&"webgl"===fb.render_mode}var mM={color:[0,0,0,0],depth:1};function yM(){rM&&G5.mainPass(rM)}function vM(){var t=e4(),e=Math.min(4096/t,Rj.getPrimaryHeight()),n=Rj.getPrimaryWidth();fM.style.position="absolute",fM.style.top=0,fM.style.left=0,fM.style.width=n+"px",fM.style.height=e+"px",dM.style.width=n+"px",dM.style.height=e+"px",dM.width=n*t,dM.height=e*t}"classList"in SVGElement.prototype||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){var n=this;return{contains:function(t){return-1!==n.className.baseVal.split(" ").indexOf(t)},add:function(t){return n.setAttribute("class",(n.getAttribute("class")||"")+" "+t)},remove:function(t){var e=n.getAttribute("class").replace(new RegExp("(\\s|^)".concat(t,"(\\s|$)"),"g"),"$2");n.classList.contains(t)&&n.setAttribute("class",e)},toggle:function(t){this.contains(t)?this.remove(t):this.add(t)}}}});s=document.createElement("style");s.innerHTML='body.fl-cursor-custom,body.fl-cursor-custom *{cursor:none!important}body.fl-cursor-pointer,body.fl-cursor-pointer *{cursor:pointer!important}body.fl-cursor-default .fl-annotations .fl-annotations-cursor,body.fl-cursor-pointer .fl-annotations .fl-annotations-cursor{visibility:hidden}.fl-annotations{position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,0);cursor:pointer;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;-webkit-transition:opacity .25s;transition:opacity .25s}.fl-annotations,.fl-annotations.is-dragging,.fl-annotations.is-dragging *{pointer-events:none}.flourish-popup{z-index:100000}.fl-project-editor{font-family:Source Sans Pro,sans-serif;color:#333;margin:0;font-size:16px;height:100%;-webkit-font-smoothing:antialiased}.fl-project-editor *{box-sizing:border-box}.fl-project-editor .no-select{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fl-project-editor h1,.fl-project-editor h2,.fl-project-editor h3,.fl-project-editor h4,.fl-project-editor p{margin:0;font-weight:400}.fl-project-editor input,.fl-project-editor select,.fl-project-editor textarea{font-family:Source Sans Pro,sans-serif}.fl-project-editor a:link,.fl-project-editor a:visited{color:inherit;text-decoration:none}.fl-project-editor a:active,.fl-project-editor a:hover{opacity:.75}.fl-project-editor header{display:block;position:absolute;top:0;left:0;width:100%}.fl-project-editor main{display:block;position:absolute;top:80px;left:0;width:100%;height:calc(100vh - 80px);overflow-y:auto;-webkit-transition:height .5s ease,top .5s ease;transition:height .5s ease,top .5s ease}@media(min-width:420px){.fl-project-editor main{top:92px;height:calc(100vh - 92px)}}.fl-project-editor .hide-editor-bar main{top:50px;height:calc(100vh - 50px)}@media(min-width:420px){.fl-project-editor .hide-editor-bar main{top:62px;height:calc(100vh - 62px)}}.fl-project-editor .user-nav{float:right;padding-top:0;display:none}@media(min-width:820px){.fl-project-editor .user-nav{display:block;margin-top:13px;height:36px}.fl-project-editor .user-nav .dropdown-head #current-picture{height:36px;width:36px;border-radius:9999px;margin-left:10px}.fl-project-editor .user-nav .dropdown-list{left:auto;right:-5px;margin-top:-5px}}.fl-project-editor .visualisation-editor{overflow-x:hidden}.fl-project-editor .visualisation-editor .template-chooser.visible+.tab-panes{display:none}.fl-project-editor .visualisation-editor .tab-panes{height:100%;width:100%}.fl-project-editor .visualisation-editor .tab-panes #visualisation,.fl-project-editor .visualisation-editor .tab-panes .row-inner,.fl-project-editor .visualisation-editor .tab-panes .row.editor,.fl-project-editor .visualisation-editor .tab-panes .tab-pane{height:100%}.fl-project-editor .visualisation-editor .tab-panes #visualisation .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row-inner .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row.editor .editor-core,.fl-project-editor .visualisation-editor .tab-panes .tab-pane .editor-core{position:relative}@media (min-width:820px){.fl-project-editor .visualisation-editor .tab-panes #visualisation .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row-inner .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row.editor .editor-core,.fl-project-editor .visualisation-editor .tab-panes .tab-pane .editor-core{min-height:100%;padding-bottom:40px}}.fl-project-editor .visualisation-editor .tab-panes .tab-pane .side-panel{display:none}.fl-project-editor .visualisation-editor .tab-panes .tab-pane.active .side-panel{display:block}.fl-project-editor .visualisation-editor .tab-panes .tab-pane:not(.active) #spreadsheet-container input{display:none}.fl-project-editor .story-editor,.fl-project-editor .visualisation-editor{background:#f9f9f9}.fl-project-editor .row.editor{padding:0}.no-template .fl-project-editor .row.editor{display:none}.fl-project-editor .row.editor .row-inner{max-width:none;padding:0 10px}.fl-project-editor .row.editor #visibility-status .label,.fl-project-editor .row.editor .blueprint-tag{display:inline-block;margin-left:2px}.fl-project-editor .row.editor #story,.fl-project-editor .row.editor #visualisation{height:100%;width:100%;-webkit-transition:height .5s ease;transition:height .5s ease;position:relative}.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{width:100%;height:auto;overflow:visible;-webkit-transition:width .5s ease;transition:width .5s ease;position:relative;text-align:center}.fl-project-editor .row.editor #story .editor-core .preview-holder,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder{width:100%;height:100%;padding-right:4px;min-width:100px;min-height:100px;-webkit-transition:margin-left .5s ease,width .5s ease,opacity 1s;transition:margin-left .5s ease,width .5s ease,opacity 1s;position:relative;background:#fff;display:inline-block;box-shadow:0 0 2px rgba(0,0,0,.2)}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview{max-height:100%;overflow-y:auto;min-width:100px;text-align:right;border:none;background:#fff;display:block;width:100%;height:100%}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview iframe{width:100vw;border:none;position:relative}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview #blank-slide,.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview #blank-slide,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview iframe{height:100%;width:100%;min-width:100px;border:none;-webkit-box-flex:1;flex:1}.fl-project-editor .row.editor #story .editor-core .preview-holder .loading-spinner,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder .loading-spinner{position:absolute;left:50%;top:50%;width:27px;height:27px;opacity:0;pointer-events:none;z-index:5;margin-top:-13.5px;margin-left:-13.5px}.fl-project-editor .row.editor #story .editor-core .preview-holder .unsupported-notice,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder .unsupported-notice{position:absolute;top:0;left:0;right:0;bottom:0;background-color:#f9f9f9;padding:20px;z-index:10}.fl-project-editor .row.editor #story .editor-core #resize-overlay,.fl-project-editor .row.editor #visualisation .editor-core #resize-overlay{position:absolute;top:0;left:0;width:100%;height:100%;display:none}.fl-project-editor .row.editor #story .editor-core #resize-overlay.dragging,.fl-project-editor .row.editor #visualisation .editor-core #resize-overlay.dragging{display:block}.fl-project-editor .row.editor #story .editor-core #resize-handle-container,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container{position:absolute;width:4px;bottom:0;top:0;right:0;margin-bottom:0;display:none;z-index:100;-webkit-transition:width .2s;transition:width .2s}.fl-project-editor .row.editor #story .editor-core #resize-handle-container #resize-handle,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container #resize-handle{cursor:ew-resize;position:absolute;width:4px;bottom:0;top:0;right:0;background:#eee;-webkit-transition:width .1s,background .1s;transition:width .1s,background .1s}.fl-project-editor .row.editor #story .editor-core #resize-handle-container #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container #resize-handle:after{display:block;content:"";position:absolute;top:0;bottom:0;left:-4px;background:transparent;right:0;width:auto}.fl-project-editor .row.editor #story .editor-core #resize-handle-container .resize-handle-icon,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container .resize-handle-icon{position:absolute;right:3px;top:50%;margin-top:-15px;opacity:.8;pointer-events:none;-webkit-transition:right .1s;transition:right .1s;display:none}.fl-project-editor .row.editor #story .editor-core #resize-handle-container>i,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container>i{position:absolute;top:5px;left:5px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover{width:6px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover #resize-handle,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover #resize-handle{width:6px;background:#ddd}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover #resize-handle:after{left:-10px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover .resize-handle-icon,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover .resize-handle-icon{right:2px;display:block}.fl-project-editor .row.editor #story .editor-core #resize-handle-container.dragging #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container.dragging #resize-handle:after{left:-200px;right:0}@media(min-width:770px){.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{padding:0}.fl-project-editor .row.editor #story .editor-core #resize-handle-container,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container{display:block}}@media(min-width:820px){.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{padding:0 10px 0 0}}.fl-project-editor .row.editor #visualisation{padding:10px 0 0}.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview{-webkit-transform-origin:left top;transform-origin:left top}.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview.mini-preview{z-index:1000;opacity:1;box-shadow:none;-webkit-animation:fadeIn .5s;animation:fadeIn .5s;overflow:hidden;pointer-events:none}@-webkit-keyframes fadeIn{0%{opacity:0}1%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}1%{opacity:0}to{opacity:1}}@media(min-width:820px){.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview{width:100%}}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe{height:calc(100% - 64px)}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview.nav-style-none iframe{height:100%}@media(min-width:820px){.fl-project-editor .row.editor #story .editor-core{max-width:calc(100% - 220px);margin-left:220px;min-height:calc(100vh - 94px)}}.fl-project-editor .row.editor.mobile #story .editor-core .preview-holder,.fl-project-editor .row.editor.mobile #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.mobile #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.mobile #visualisation .editor-core .preview-holder iframe{width:320px}.fl-project-editor .row.editor.mobile.landscape #story .editor-core .preview-holder,.fl-project-editor .row.editor.mobile.landscape #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.mobile.landscape #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.mobile.landscape #visualisation .editor-core .preview-holder iframe{width:500px}.fl-project-editor .row.editor.tablet #story .editor-core .preview-holder,.fl-project-editor .row.editor.tablet #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.tablet #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.tablet #visualisation .editor-core .preview-holder iframe{width:768px}.fl-project-editor .row.editor.tablet.landscape #story .editor-core .preview-holder,.fl-project-editor .row.editor.tablet.landscape #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.tablet.landscape #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.tablet.landscape #visualisation .editor-core .preview-holder iframe{width:1024px}@media(min-width:820px){.fl-project-editor .row.editor #visualisation .editor-core{max-width:calc(100% - 350px)}}.fl-project-editor .project-header{padding:0 10px;position:absolute;top:2px;left:48px;right:0;width:auto}@media(min-width:420px){.fl-project-editor .project-header{left:60px}.fl-project-editor .project-header:after{clear:both;display:block;content:""}}@media(min-width:620px){.fl-project-editor .project-header{height:60px;z-index:110}}.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .blueprint-tag,.fl-project-editor .project-header .read-only{text-align:left;margin:-1px 0 0 3px;height:auto;line-height:1em;display:inline-block;border-radius:3px;vertical-align:top}@media(min-width:420px){.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .blueprint-tag,.fl-project-editor .project-header .read-only{font-size:11px;padding:2px 3px 1px}}.fl-project-editor .project-header #visibility-status{cursor:pointer}.fl-project-editor .project-header #visibility-status:hover{color:#333}.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .read-only{color:#aaa;font-weight:400;padding:1px 3px 2px;background:#eee}.fl-project-editor .project-header #visibility-status.public,.fl-project-editor .project-header .read-only.public{background:#ffdc98;color:#000}.fl-project-editor .project-header #visibility-status.public:hover,.fl-project-editor .project-header .read-only.public:hover{background:#eec26d;color:#000}.fl-project-editor .project-header .blueprint-tag{font-size:9px;font-weight:700;background:#2886b2;color:#fff;text-transform:uppercase;padding:1px 5px 2px;cursor:default}.fl-project-editor .project-header .project-settings{margin-left:10px;font-size:14px;font-weight:400;line-height:0;vertical-align:top;margin-bottom:-3px;display:inline-block;margin-top:-2px;z-index:110;height:auto}.fl-project-editor .project-header .project-settings .dropdown-head{padding-right:5px;padding-left:5px;padding-bottom:10px;font-size:16px}.fl-project-editor .project-header .project-settings .dropdown-list{margin-right:0}@media(min-width:420px){.fl-project-editor .project-header .project-settings{top:0;margin-top:-4px;padding-top:19px}}@media(min-width:620px){.fl-project-editor .project-header .project-settings{padding-top:18px}}.fl-project-editor .project-header .has-name+.project-settings{margin-left:0}.fl-project-editor .project-header .name{position:relative;vertical-align:top;font-weight:400;font-style:italic;height:23px;margin-left:0;width:auto;display:inline-block;font-size:16px;z-index:110;margin-top:3px}@media(min-width:420px){.fl-project-editor .project-header .name{margin-top:5px;height:26px}}@media(min-width:620px){.fl-project-editor .project-header .name{font-size:18px}}@media(min-width:820px){.fl-project-editor .project-header .name{font-size:18px}}.fl-project-editor .project-header .name input{font-size:1em;font-size:inherit;border:none;border-bottom:1px solid #ccc;border-radius:0;background:#fff;font-style:italic;padding:0;display:inline-block;color:#aaa;position:absolute;left:0;top:0;box-sizing:content-box;outline:none;height:23px}@media(min-width:420px){.fl-project-editor .project-header .name input{height:26px}}.fl-project-editor .project-header .name .name-width-setter{font-size:inherit;padding:0;display:inline-block;opacity:0;pointer-events:none;max-width:140px;min-width:40px;white-space:pre}@media(min-width:420px){.fl-project-editor .project-header .name .name-width-setter{max-width:240px}}@media(min-width:620px){.fl-project-editor .project-header .name .name-width-setter{max-width:340px}}@media(min-width:820px){.fl-project-editor .project-header .name .name-width-setter{max-width:340px}}.fl-project-editor .project-header .name.not-editable input{border-color:transparent;color:#333;top:0;background:transparent;font-style:normal}.fl-project-editor .project-header .name.has-name .name-width-setter,.fl-project-editor .project-header .name.has-name input{font-style:normal;background:none}.fl-project-editor .project-header .name.has-name input{color:#333;border-color:#ccc;top:0;font-style:normal}.fl-project-editor .project-header .name.has-name .name-overlay{display:block;top:0}.fl-project-editor .project-header .name .name-overlay{display:none;content:"";position:absolute;left:125px;top:0;width:20px;height:100%;background:-webkit-gradient(linear,left top,right top,from(hsla(0,0%,100%,0)),color-stop(80%,#fff));background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff 80%)}@media(min-width:420px){.fl-project-editor .project-header .name .name-overlay{left:225px}}@media(min-width:620px){.fl-project-editor .project-header .name .name-overlay{left:325px}}@media(min-width:820px){.fl-project-editor .project-header .name .name-overlay{left:325px}}.fl-project-editor .project-header .project-author{color:#aaa;font-weight:400;top:30px;font-size:11px;line-height:1em;position:absolute}@media(min-width:420px){.fl-project-editor .project-header .project-author{top:38px;font-size:12px}}@media(min-width:820px){.fl-project-editor .project-header .project-author{font-size:12px}}.fl-project-editor .project-header .project-author+.dropdown .dropdown-head{display:inline-block}.fl-project-editor .project-header .project-author+.dropdown .badge{top:-14px}.fl-project-editor .project-header .project-author+.dropdown .dropdown-list .badge{position:absolute;right:10px;top:12px;pointer-events:none}.fl-project-editor .project-header #export-btn-group{float:right;margin-bottom:0;margin-right:0;margin-top:9px}.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{width:30px;height:30px;padding:0;text-align:center}.fl-project-editor .project-header #export-btn-group #story-btn span,.fl-project-editor .project-header #export-btn-group .export-btn span{display:none}.fl-project-editor .project-header #export-btn-group #story-btn i,.fl-project-editor .project-header #export-btn-group .export-btn i{margin-right:0}@media(min-width:420px){.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{width:30px;height:30px}}@media(min-width:820px){.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{padding:0 8px;height:36px;width:auto}.fl-project-editor .project-header #export-btn-group #story-btn span,.fl-project-editor .project-header #export-btn-group .export-btn span{display:inline}.fl-project-editor .project-header #export-btn-group #story-btn i,.fl-project-editor .project-header #export-btn-group .export-btn i{margin-right:3px}}.fl-project-editor .project-header #export-btn-group #create-btn{height:36px;line-height:34px}.visualisation-editor.no-template .fl-project-editor .project-header #export-btn-group{display:none}.fl-project-editor .project-header #export-btn-group #story-btn-form{display:inline-block}.fl-project-editor .project-header #export-btn-group #story-btn{border:1px solid #ddd;background-color:#eee;color:#333;font-family:Source Sans Pro;margin-right:8px;overflow:visible}@media(min-width:420px){.fl-project-editor .project-header #export-btn-group{margin-top:15px}}@media(min-width:820px){.fl-project-editor .project-header #export-btn-group{margin-top:12px}}.fl-project-editor .row.editor-bar{background:#e3e3e3;height:30px;font-size:12px;padding:0 10px}.fl-project-editor .row.editor-bar #visualisation-tabs{z-index:110;width:calc(100% - 120px);margin-left:60px;text-align:center}.fl-project-editor .row.editor-bar #visualisation-tabs button{font-size:12px;line-height:1em}.fl-project-editor .row.editor-bar #visualisation-tabs button i{margin-right:3px;font-size:11px}.fl-project-editor .row.editor-bar #visibility-status,.fl-project-editor .row.editor-bar .read-only{display:inline-block;float:left;font-weight:700;color:#aaa;margin-top:7px}.fl-project-editor .row.editor-bar .confirm-saved{float:right;margin-top:8px;margin-left:0;width:60px}@media(min-width:820px){.fl-project-editor .row.editor-bar #visualisation-tabs{width:calc(100% - 380px);margin-left:0}}.fl-project-editor .tab-data .tab-preview{position:fixed;z-index:2}.fl-project-editor .tab-data #preview-menu{opacity:0;pointer-events:none}.fl-project-editor .side-panel{text-align:left;position:relative;background:#f9f9f9;line-height:1.1;margin-left:0;padding:10px 0 1px;width:100%}.fl-project-editor .side-panel.closed{margin-left:-300px}.fl-project-editor .side-panel .side-panel-inner{margin-bottom:87px;background:#fff}@media(min-width:820px){.fl-project-editor .side-panel .side-panel-inner{border:none;background:transparent}}.fl-project-editor .side-panel .side-panel-close{position:absolute;top:15px;right:10px;font-size:1.25em;width:1.5em;height:1.5em;padding:.1em;text-align:center;border:1px solid rgba(0,0,0,.4);border-radius:3px;background:#eaeaea;-webkit-transition:right .5s ease;transition:right .5s ease;z-index:1}.fl-project-editor .side-panel .side-panel-close.opener{right:calc(-1.5em + 1px);border-bottom-left-radius:0;border-top-left-radius:0}.fl-project-editor .side-panel .side-panel-close:hover{opacity:1}.fl-project-editor .side-panel .side-panel-close:hover i{opacity:.7}.fl-project-editor .side-panel#slides-panel{height:100%;padding:0;background:#fff;margin-top:20px}.fl-project-editor .side-panel#slides-panel .side-panel-scrollbox{padding:0 15px 10px}@media(min-width:820px){.fl-project-editor .side-panel#slides-panel{max-width:200px;right:auto;position:absolute;top:0;margin-top:0;border-right:1px solid #ddd}}.fl-project-editor .side-panel .side-panel-scrollbox{width:100%;height:100%;padding:10px 10px 20px;overflow-y:scroll}.fl-project-editor .side-panel .side-panel-scrollbox .side-panel-inner{width:100%}@media(min-width:1220px){.fl-project-editor .side-panel .side-panel-scrollbox{padding:20px}}.fl-project-editor .side-panel h1{margin:1em 0 .5em;font-size:.9em;opacity:.5;cursor:default}.fl-project-editor .side-panel h2{font-size:13px;letter-spacing:0;font-weight:500;margin:0 0 .6em;position:relative;color:#333;word-wrap:break-word}.fl-project-editor .side-panel .toplevel-settings-block{padding:0 5px 20px}.fl-project-editor .side-panel .toplevel-settings-block .settings-option{display:inline-block}.fl-project-editor .side-panel .toplevel-settings-block .settings-option:first-child{margin-top:9px}.fl-project-editor .side-panel .settings-divider{margin:1rem -10px 0;clear:both;width:calc(100% + 20px);height:1px;background:#eee}.fl-project-editor .side-panel .settings-subhead{text-transform:uppercase;font-size:.7rem;font-weight:700;color:#999;padding:.5rem 5px .25rem;margin:0;width:100%}.fl-project-editor .side-panel .settings-block{margin:0;display:inline-block;width:100%;background-color:#fff;padding:0 10px;min-height:24px}.fl-project-editor .side-panel .settings-block h2{margin:0 -10px;font-size:.8rem;padding:.75em 30px;font-weight:700;background-color:#f5f5f5;border-top:1px solid #ddd;cursor:pointer;color:#535e65}.fl-project-editor .side-panel .settings-block h2:focus{outline:none}.fl-project-editor .side-panel .settings-block h2:focus,.fl-project-editor .side-panel .settings-block h2:hover{background:#e8e8e8}.fl-project-editor .side-panel .settings-block h2:after{content:"";width:.6rem;height:.8rem;position:absolute;left:15px;background-repeat:no-repeat;background-position:50%;background-image:url(data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJjYXJldC1yaWdodCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTkyIDUxMiIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLWNhcmV0LXJpZ2h0IGZhLXctNiBmYS0zeCI+PHBhdGggZmlsbD0iIzUzNWU2NSIgZD0iTTAgMzg0LjY2MlYxMjcuMzM4YzAtMTcuODE4IDIxLjU0My0yNi43NDEgMzQuMTQyLTE0LjE0MmwxMjguNjYyIDEyOC42NjJjNy44MSA3LjgxIDcuODEgMjAuNDc0IDAgMjguMjg0TDM0LjE0MiAzOTguODA0QzIxLjU0MyA0MTEuNDA0IDAgNDAyLjQ4IDAgMzg0LjY2MnoiLz48L3N2Zz4=)}.fl-project-editor .side-panel .settings-block .settings-divider,.fl-project-editor .side-panel .settings-block .settings-option,.fl-project-editor .side-panel .settings-block .settings-subhead{display:none}.fl-project-editor .side-panel .settings-block input::-webkit-contacts-auto-fill-button{visibility:hidden;display:none!important;pointer-events:none;position:absolute;right:0}.fl-project-editor .side-panel .settings-block.open{padding-bottom:1rem}.fl-project-editor .side-panel .settings-block.open h2:after{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fl-project-editor .side-panel .settings-block.open .settings-option{display:inline-block}.fl-project-editor .side-panel .settings-block.open .settings-option.hidden{display:none}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker{vertical-align:top;line-height:0;position:relative}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker:hover:not(.is-null) .cancel-setting{-webkit-transform:translateX(27px);transform:translateX(27px)}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker.is-null .color-wrapper input{opacity:0}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting{width:30px;border:1px solid #ddd;background:#fff;position:absolute;padding:0;height:30px;vertical-align:top;left:0;-webkit-transition:-webkit-transform .2s;transition:-webkit-transform .2s;transition:transform .2s;transition:transform .2s,-webkit-transform .2s}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting svg{margin-left:2px;width:8px;height:8px;pointer-events:none;-webkit-transition:opacity .2s;transition:opacity .2s}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting:focus{border:1px solid #ddd}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting:hover svg{opacity:.4}.fl-project-editor .side-panel .settings-block.open .settings-divider,.fl-project-editor .side-panel .settings-block.open .settings-subhead{display:block}.fl-project-editor .side-panel .settings-block.open h2+.settings-divider{background:transparent;margin-top:.25rem}.fl-project-editor .side-panel .settings-block.hidden{display:none}.fl-project-editor .side-panel h3{font-size:.8rem;line-height:1.2em;font-weight:400;margin-top:0;margin-bottom:3px;color:#333;display:inline-block;cursor:default;overflow:hidden;vertical-align:top;background:#fff;text-overflow:ellipsis}.fl-project-editor .side-panel p{font-size:12px;margin-top:0;font-weight:300}.fl-project-editor .side-panel .settings-option{position:relative;margin-top:.75rem;display:none;vertical-align:bottom;width:100%;padding:0 5px}.fl-project-editor .side-panel .settings-option label{font-size:13px;display:inline-block;vertical-align:top;width:100%}.fl-project-editor .side-panel .settings-option label .help-tip{margin-left:3px;color:#d0d0d0;font-style:normal}.fl-project-editor .side-panel .settings-option label .help-tip:hover{color:#aaa}.fl-project-editor .side-panel .settings-option label:hover{z-index:2;position:relative}.fl-project-editor .side-panel .settings-option label:hover h3{padding-right:1px}.fl-project-editor .side-panel .settings-option button,.fl-project-editor .side-panel .settings-option input,.fl-project-editor .side-panel .settings-option select,.fl-project-editor .side-panel .settings-option textarea{border-radius:3px;border:1px solid #ddd;padding:.2em .1em .2em .3em;min-height:30px;font-size:13px;display:block;outline:none;-webkit-transition:border .2s linear;transition:border .2s linear;max-width:100%}.fl-project-editor .side-panel .settings-option button:focus,.fl-project-editor .side-panel .settings-option input:focus,.fl-project-editor .side-panel .settings-option select:focus,.fl-project-editor .side-panel .settings-option textarea:focus{border:1px solid #777}.fl-project-editor .side-panel .settings-option ::-webkit-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option :-ms-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option ::-ms-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option .autocomplete .dropdown-list .dropdown-item{font-size:13px;padding:10px 10px 10px 6px}.fl-project-editor .side-panel .settings-option .color-wrapper{width:30px;height:30px;overflow:hidden;border-radius:3px;position:relative;display:inline-block;background-color:#fff}.fl-project-editor .side-panel .settings-option .color-wrapper input{-webkit-transform:scale(10);transform:scale(10);position:absolute}.fl-project-editor .side-panel .settings-option .color-wrapper:before{display:block;position:absolute;content:"";top:0;bottom:-10px;left:0;width:1px;pointer-events:none;background:rgba(0,0,0,.1);-webkit-transform-origin:top;transform-origin:top;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.fl-project-editor .side-panel .settings-option .color-wrapper:after{display:block;position:absolute;content:"";border:1px solid rgba(0,0,0,.1);left:0;right:0;top:0;bottom:0;pointer-events:none}.fl-project-editor .side-panel .settings-option .color-wrapper:invalid{box-shadow:none}.fl-project-editor .side-panel .settings-option .single-button{background:#eee;color:#333;width:100%;border:none;padding:0;cursor:pointer;-webkit-transition:background-color .2s linear;transition:background-color .2s linear}.fl-project-editor .side-panel .settings-option .single-button:hover{background-color:#e0e0e0}.fl-project-editor .side-panel .settings-option .single-button:focus{border:none}.fl-project-editor .side-panel .settings-option .buttons-container{display:-webkit-box;display:flex}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]{width:0;height:0;opacity:0;margin:0;display:inline-block;display:none}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label{font-size:13px;background:#eee;color:#333;display:inline-block;height:30px;cursor:pointer;text-align:center;padding-top:8px;border-right:1px solid #fff;border-bottom:1px solid #fff;background-size:cover;background-position:50% 50%;-webkit-transition:background-color .2s linear;transition:background-color .2s linear}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label i{color:#555}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label img{margin-top:-8px}.fl-project-editor .side-panel .settings-option .buttons-container.large input[type=radio]+label{height:60px}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:not([disabled])+label:hover{background-color:#e0e0e0}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:disabled+label{cursor:default}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label{background-color:#ccdee6;cursor:default;position:relative}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label:hover{background-color:#ccdee6}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label:after{width:100%;height:2px;background:#2886b2;bottom:0;position:absolute;content:"";left:0}.fl-project-editor .side-panel .settings-option input[data-autocomplete]+.fa{position:absolute;right:10px;margin-top:-21px;font-size:12px;pointer-events:none}.fl-project-editor .side-panel .settings-option select{width:100%;height:30px}.fl-project-editor .side-panel .settings-option.option-type-color input{padding:0;background:#fff}.fl-project-editor .side-panel .settings-option.option-type-color,.fl-project-editor .side-panel .settings-option.option-type-number,.fl-project-editor .side-panel .settings-option.option-type-rows{width:50%}.fl-project-editor .side-panel .settings-option.option-type-color.width-quarter input,.fl-project-editor .side-panel .settings-option.option-type-number.width-quarter input,.fl-project-editor .side-panel .settings-option.option-type-rows.width-quarter input{width:100%}.fl-project-editor .side-panel .settings-option.option-type-color input,.fl-project-editor .side-panel .settings-option.option-type-number input,.fl-project-editor .side-panel .settings-option.option-type-rows input{width:calc((100% - 10px)/2);min-width:40px}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons).settings-buttons>label{height:auto}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input{display:none}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons)>label:first-child{position:absolute;padding-left:37px;padding-top:7px;width:auto;right:5px;left:5px}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider{position:relative;cursor:pointer;width:33px;height:30px;background:transparent;padding-left:0;padding-top:0}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:hover:after{border-color:#bbb}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:before{position:absolute;content:"";height:12px;width:33px;top:9px;left:0;border-radius:6px;background-color:#ddd;-webkit-transition:.1s;transition:.1s}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:after{position:absolute;content:"";height:24px;width:24px;left:0;bottom:3px;border-radius:50%;background-color:#fff;border:1px solid #ddd;box-sizing:border-box;-webkit-transition:.1s;transition:.1s}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:before{background:#ccdee6}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:after{left:9px;background:#2886b2;border-color:#2886b2}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:hover:after{background-color:#2886b2;border-color:#2886b2}.fl-project-editor .side-panel .settings-option.option-type-code textarea,.fl-project-editor .side-panel .settings-option.option-type-string input,.fl-project-editor .side-panel .settings-option.option-type-text textarea,.fl-project-editor .side-panel .settings-option.option-type-url input{width:100%}.fl-project-editor .side-panel .settings-option.option-type-code textarea.size-large,.fl-project-editor .side-panel .settings-option.option-type-text textarea.size-large{height:50vh}.fl-project-editor .side-panel .settings-option.option-type-code label{width:calc(100% - 18px)}.fl-project-editor .side-panel .settings-option.option-type-code .wrap-control{font-size:.7em;color:#999;-webkit-transform:scaleY(-1);transform:scaleY(-1);margin-bottom:.3em;display:inline-block;vertical-align:bottom;-webkit-transition:-webkit-transform .1s ease;transition:-webkit-transform .1s ease;transition:transform .1s ease;transition:transform .1s ease,-webkit-transform .1s ease}.fl-project-editor .side-panel .settings-option.option-type-code .wrap-control.selected{-webkit-transform:scale(-1);transform:scale(-1);cursor:pointer}.fl-project-editor .side-panel .settings-option.option-type-code textarea{font-family:monospace;font-size:13px}.fl-project-editor .side-panel .settings-option.option-type-font input.font-menu{width:100%;outline:none}.fl-project-editor .side-panel .settings-option.option-type-colors input{width:100%;margin:0;z-index:1;cursor:pointer}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item{display:-webkit-box;display:flex;-webkit-box-align:stretch;align-items:stretch;min-height:30px;overflow:hidden}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches em,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item em{font-style:normal;color:#777;display:block;padding:8px;pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches span,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span{display:inline-block;height:30px;-webkit-box-flex:1;flex:1}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches span:nth-child(n+13):nth-child(-n+99),.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span:nth-child(n+13):nth-child(-n+99){display:none}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches{padding:0;position:absolute;left:4px;right:26px;z-index:0;pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item{padding:2px 0!important;width:100%}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item label{position:absolute;top:6px;left:8px;color:hsla(0,0%,98%,.9);pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span{pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors.custom input{opacity:0}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches{-webkit-box-align:start;align-items:flex-start}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span{max-width:28px;pointer-events:auto;-webkit-transition:-webkit-transform .1s;transition:-webkit-transform .1s;transition:transform .1s;transition:transform .1s,-webkit-transform .1s;-webkit-transform-origin:center center;transform-origin:center center}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span:hover{-webkit-transform:scale(1.2);transform:scale(1.2)}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span.fa{font-size:24px;color:#ccc;margin-left:4px}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span.fa:before{position:relative;top:2px}.fl-project-editor .side-panel .settings-option.hidden{display:none}.fl-project-editor .side-panel .settings-option.width-full{width:100%!important}.fl-project-editor .side-panel .settings-option.width-half{width:50%!important}.fl-project-editor .side-panel .settings-option.width-quarter{width:25%!important}.fl-project-editor .side-panel .settings-option.width-three-quarters{width:75%!important}.fl-project-editor .side-panel .settings-option .description-link{cursor:pointer;color:#dd4141}.fl-project-editor .side-panel .detailed-settings h2{margin-bottom:.75rem}.fl-project-editor .side-panel .detailed-settings h2:after{content:""}.fl-project-editor .side-panel .palette{max-height:calc(100vh - 210px);overflow-y:auto;padding:1px}.fl-project-editor .side-panel .palette .swatch-color,.fl-project-editor .side-panel .palette button,.fl-project-editor .side-panel .palette input[type=color]{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;display:inline-block;width:28px;height:28px;padding:0;margin:1px;border:none;outline:none;background:transparent}.fl-project-editor .side-panel .palette .swatch-color.fa-plus-square:before,.fl-project-editor .side-panel .palette button.fa-plus-square:before,.fl-project-editor .side-panel .palette input[type=color].fa-plus-square:before{font-size:32px;color:#ddd;margin-left:1px}.fl-project-editor .side-panel .palette .swatch-color.fa-times,.fl-project-editor .side-panel .palette button.fa-times,.fl-project-editor .side-panel .palette input[type=color].fa-times{position:absolute;right:0;opacity:0;color:#aaa}.fl-project-editor .side-panel .palette .swatch-color.fa-times:hover,.fl-project-editor .side-panel .palette button.fa-times:hover,.fl-project-editor .side-panel .palette input[type=color].fa-times:hover{color:#888}.fl-project-editor .side-panel .palette .swatch-color::-webkit-color-swatch-wrapper,.fl-project-editor .side-panel .palette button::-webkit-color-swatch-wrapper,.fl-project-editor .side-panel .palette input[type=color]::-webkit-color-swatch-wrapper{padding:0}.fl-project-editor .side-panel .palette .swatch-color::-webkit-color-swatch,.fl-project-editor .side-panel .palette button::-webkit-color-swatch,.fl-project-editor .side-panel .palette input[type=color]::-webkit-color-swatch{border:none}.fl-project-editor .side-panel .palette [draggable]{cursor:move;cursor:grab;cursor:-webkit-grab}.fl-project-editor .side-panel .palette [draggable]:active{cursor:grabbing;cursor:-webkit-grabbing}.fl-project-editor .side-panel .palette .swatch-handle{display:block;width:15px;height:28px;color:#ddd;position:absolute;left:1px;top:7px;text-align:center;font-size:18px;font-weight:700;line-height:5.5px;pointer-events:none}.fl-project-editor .side-panel .palette input[type=text]{width:120px;width:calc(100% - 52px);background:transparent;padding:5px 8px;border-width:0;margin:0}.fl-project-editor .side-panel .palette p{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin:0;padding:5px 5px 5px 20px;border-bottom:1px solid #eee}.fl-project-editor .side-panel .palette p:first-child{border-top:1px solid #eee}.fl-project-editor .side-panel .palette p:hover button.fa-times{opacity:.5}.fl-project-editor .side-panel .palette p:hover [draggable]:before{opacity:1}.fl-project-editor .side-panel .side-panel-top{border-top:none;border-bottom:1px solid rgba(0,0,0,.1);margin-top:0;padding:17px 10px 20px;font-size:1em}.fl-project-editor .side-panel .side-panel-top.shadow{box-shadow:3px 3px 5px rgba(0,0,0,.1)}.fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .side-panel-icon-btn{color:#fff;background:#9a9a9a;padding:7px 0 0;border-radius:9999px;width:30px;height:30px;text-align:center;margin:0}.fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .separator{margin:0 .4em;height:1em;border-left:1px solid rgba(0,0,0,.25);display:inline-block;vertical-align:middle}#story .fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .separator{margin:0 .25em}.fl-project-editor .side-panel .current-template{margin:0;opacity:0;-webkit-transition:opacity .2s;transition:opacity .2s;position:relative;padding:10px 10px 0;min-height:56px;border-bottom:1px solid #ddd}.fl-project-editor .side-panel .current-template h1{padding-right:76px;opacity:1;font-size:12px;font-weight:400;min-height:36px;margin:0;padding-top:3px}.fl-project-editor .side-panel .current-template h1>span{display:block;font-weight:700;font-size:16px}.fl-project-editor .side-panel .current-template h3{margin-top:.7em}.fl-project-editor .side-panel .current-template h3 i{margin-left:.2em;color:rgba(0,0,0,.5)}.fl-project-editor .side-panel .current-template .current-template-title{position:relative}.fl-project-editor .side-panel .current-template .current-template-title .current-template-version{margin-left:4px;font-size:12px}.fl-project-editor .side-panel .current-template .current-template-thumbnail{position:absolute;right:-10px;top:-10px;width:76px;height:calc(100% + 19px);background-size:cover;background-position:50%;background-repeat:no-repeat}.fl-project-editor .side-panel .current-template .current-template-thumbnail:after{width:20px;height:100%;position:absolute;left:0;right:0;background:-webkit-gradient(linear,left top,right top,from(#fff),to(hsla(0,0%,100%,0)));background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0));content:"";display:block}.fl-project-editor .side-panel .template-theme button#reset-to-theme:disabled{color:#d3d3d3}@media (min-width:620px) and (max-width:819px){.fl-project-editor .side-panel .side-panel-inner{max-width:500px;margin:20px auto}}@media(min-width:820px){.fl-project-editor .side-panel{max-width:size(3.5);position:fixed;right:0;top:93px;background:#fff;overflow-y:auto;height:calc(100vh - 93px);border-left:1px solid #ddd}.fl-project-editor .side-panel .current-template{padding-top:0;min-height:46px}}.fl-project-editor .tab-preview #visualisation .editor-core{overflow:visible!important}.fl-project-editor .tab-preview.active #visualisation .editor-core{overflow:auto!important}.fl-project-editor body.full-screen .row.editor #story,.fl-project-editor body.full-screen .row.editor #visualisation{position:fixed!important;top:0!important;left:0!important;width:100%!important;height:100%!important}.fl-project-editor body.full-screen .row.editor #story .editor-core #preview,.fl-project-editor body.full-screen .row.editor #visualisation .editor-core #preview{width:100%!important}.fl-project-editor body.full-screen .row.editor #story #exit-full-screen,.fl-project-editor body.full-screen .row.editor #visualisation #exit-full-screen{display:block}.fl-project-editor body.loading .loading-spinner{opacity:1!important;-webkit-animation-name:spin;animation-name:spin;-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-transform-origin:center center;transform-origin:center center}.fl-project-editor body.loading .content{min-height:100vh}.fl-project-editor body.loading .preview-holder{pointer-events:none;background-color:#f3f3f3}.fl-project-editor body.loading .preview-holder #preview{background:transparent!important}.fl-project-editor body.loading .preview-holder iframe{opacity:.1}.fl-project-editor body.loading #blank-slide,.fl-project-editor body.loading .row.data{opacity:0;pointer-events:none}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.fl-project-editor #private-publishing{display:inline-block;padding-right:15px;margin-top:10px;width:100%}.fl-project-editor #private-publishing+input{width:100%;padding:5px}.fl-project-editor #private-publishing+input.hidden{display:none}.fl-project-editor #private-publishing+input.error{border-color:#dd4141}.fl-project-editor #private-publishing.upgrade-btn{width:auto;color:#999}.fl-project-editor #private-publishing.upgrade-btn:after{top:4px}.fl-annotations-source-element{position:absolute;left:-3rem;width:3rem;height:3rem;z-index:9999;background:#333;background-position:50%;background-size:40%;background-repeat:no-repeat;border:none;border-radius:100% 0 0 100%;top:.25rem;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg data-prefix=\'fas\' data-icon=\'pencil-alt\' xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 512 512\'%3E%3Cpath fill=\'%23fff\' d=\'M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z\'/%3E%3C/svg%3E")}.fl-annotations-add-element,.fl-annotations-source-element{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;pointer-events:all}.fl-annotations-add-element{display:block;border:none;margin:1rem;border-radius:2rem;color:#fff;font-weight:700;text-align:center;padding-left:1.5rem;padding-right:0;font-size:1rem;height:2.5rem;line-height:2.5rem;background:#333;background-position:.5rem;background-size:1.5rem;background-repeat:no-repeat;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 36 36\'%3E%3Cstyle%3E.fl-annotations-cursor rect{fill:%23fff}%3C/style%3E%3Cg xmlns=\'http://www.w3.org/2000/svg\' class=\'fl-annotations-cursor\' transform=\'translate(18 18)\'%3E%3Ccircle r=\'16\' style=\'transition:stroke .25s\' fill=\'none\' stroke=\'%23fff\' stroke-width=\'2\' stroke-dasharray=\'4,4\'/%3E%3Cpath fill=\'%23FFF\' d=\'M-1-6h2V6h-2z\'/%3E%3Cpath fill=\'%23FFF\' d=\'M-6-1H6v2H-6z\'/%3E%3C/g%3E%3C/svg%3E")}.fl-annotations .fl-annotations-node{pointer-events:none}.fl-annotations .fl-annotations-node.fl-connector-popup,.fl-annotations.is-editing .fl-annotations-node{pointer-events:all}.fl-annotations .fl-annotations-node.fl-marker text,.fl-annotations .fl-annotations-node.fl-point text{fill:#fff;text-anchor:middle;dominant-baseline:middle;alignment-baseline:middle;font-size:.8rem;font-weight:800}.fl-annotations .fl-annotations-node.fl-marker.selected circle{fill:#333}.fl-annotations .fl-notch{fill:none;stroke-dasharray:4,4;pointer-events:none}.fl-annotations.is-editing .fl-notch{pointer-events:all}.fl-annotations .fl-annotations-node .fl-connector,.fl-annotations .fl-annotations-node text,.fl-annotations.is-editing.is-dragging .fl-notch{pointer-events:none}.fl-annotations .fl-annotations-inline a,.fl-annotations.is-editing .fl-annotations-inline{pointer-events:all}.fl-annotations .fl-annotations-cursor{visibility:hidden;pointer-events:none}.fl-annotations.is-edit-add .fl-annotations-cursor{visibility:visible}.fl-annotations .fl-annotations-cursor circle{fill:none;stroke:#eee;stroke-width:2px;stroke-dasharray:4,4;-webkit-transition:stroke .25s;transition:stroke .25s}.fl-annotations .fl-annotations-cursor.is-valid circle{stroke:#333;-webkit-animation:cursorRotate 5s linear 0s infinite normal;animation:cursorRotate 5s linear 0s infinite normal}.fl-annotations .fl-annotations-cursor line{stroke:#eee;stroke-width:2px;-webkit-transition:stroke .25s;transition:stroke .25s}.fl-annotations .fl-annotations-cursor.is-valid line{stroke:#333}.fl-annotations .fl-annotations-cursor.inner-outline circle,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline circle{stroke-dasharray:6,2;stroke-dashoffset:1}.fl-annotations .fl-annotations-cursor.inner-outline circle,.fl-annotations .fl-annotations-cursor.inner-outline line,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline circle,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline line{stroke:#fff;stroke-width:4px}@-webkit-keyframes cursorRotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cursorRotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.fl-project-editor .fl-annotation-list{list-style-type:none;margin:0;padding:1rem;border-bottom:1px solid #eee}.fl-project-editor .fl-annotation-list:empty{padding:0}.fl-annotation-list-wrap{background:#fff;margin:0;font-size:.8rem;max-height:10rem;overflow:auto;position:relative;box-shadow:inset 0 -10px 10px -10px rgba(0,0,0,.25);-webkit-transition:box-shadow .5s;transition:box-shadow .5s}.fl-annotation-list-wrap.scroll-end{box-shadow:inset 0 -10px 10px -10px transparent}.fl-project-editor .fl-annotation-list>li{display:-webkit-box;display:flex;position:relative;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;list-style-type:none;line-height:1.35rem;color:#b1b1b1;cursor:pointer}.fl-project-editor .fl-annotation-list .drop-overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;display:none}.fl-project-editor .fl-annotation-list.dragging .drop-overlay{display:-webkit-box;display:flex}.fl-project-editor .fl-annotation-list .drop-above,.fl-project-editor .fl-annotation-list .drop-below{-webkit-box-flex:1;flex-grow:1}.fl-project-editor .fl-annotation-list .drop-above{border-top:1px solid #fff}.fl-project-editor .fl-annotation-list .drop-below{border-bottom:1px solid #fff}.fl-project-editor .fl-annotation-list .drop-above.dropping{border-top:1px solid #666}.fl-project-editor .fl-annotation-list .drop-below.dropping{border-bottom:1px solid #666}.fl-project-editor .fl-annotation-list>li .text{display:block;overflow:hidden;text-overflow:ellipsis;-webkit-box-flex:1;flex-grow:1;white-space:nowrap}.fl-project-editor .fl-annotation-list>li .icon{display:none;margin-left:.5rem;color:#333;opacity:0;flex-shrink:0}.fl-project-editor .fl-annotation-list>li.selected .icon,.fl-project-editor .fl-annotation-list>li:hover .icon{display:inline-block;margin-left:.5rem;opacity:.5}.fl-project-editor .fl-annotation-list>li .icon:hover{opacity:1}.fl-project-editor .fl-annotation-list>li:hover{color:#000}.fl-project-editor .fl-annotation-list>li:before{content:"";width:.75rem;height:.75rem;display:inline-block;background:#b1b1b1;vertical-align:middle;margin-right:.5rem;border-radius:100%;flex-shrink:0}.fl-project-editor .fl-annotation-list>li.selected{cursor:default}.fl-project-editor .fl-annotation-list>li.selected:before{background:#333}.fl-project-editor .fl-annotation-list>li.selected .text{color:#333}.fl-annotation-list li.drag-over{background:red}.icon-pencil{width:10px;height:10px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguNjYgNC4wODZMOS43NTYgMi45OUEuODA5LjgwOSAwIDAwMTAgMi4zOTZhLjg0NS44NDUgMCAwMC0uMjQ0LS42TDguMjA1LjI1QS44Mi44MiAwIDAwNy42MDQgMGEuNzg0Ljc4NCAwIDAwLS41OTQuMjVMNS45MTQgMS4zNCA4LjY2IDQuMDg2ek0yLjc0NiAxMGw1LjQ5Mi01LjQ5Mi0yLjc0Ni0yLjc0NkwwIDcuMjU0VjEwaDIuNzQ2em0tLjYzNC0zLjIzNGMtLjA5NyAwLS4xNDUtLjA0OS0uMTQ1LS4xNDYgMC0uMDQ0LjAxNS0uMDguMDQ2LS4xMTJsMy41NzgtMy41NzdhLjE1My4xNTMgMCAwMS4xMTItLjA0N2MuMDk3IDAgLjE0NS4wNDkuMTQ1LjE0NmEuMTUzLjE1MyAwIDAxLS4wNDYuMTEyTDIuMjI0IDYuNzE5YS4xNTMuMTUzIDAgMDEtLjExMi4wNDd6bS4yODQgMi4zOUgxLjY5VjguMzFILjg0NXYtLjcwNmwuNi0uNiAxLjU1MiAxLjU1LS42MDEuNjAxeiIgZmlsbD0iIzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+")}.icon-clone{width:10px;height:10px;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg aria-hidden="true" data-prefix="fas" data-icon="clone" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-clone fa-w-16 fa-3x"><path fill="currentColor" d="M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z"/></svg>\')}.icon-trash{width:10px;height:10px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEiIGhlaWdodD0iMTEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguMjg2IDEwLjg1N2MuMjk0IDAgLjU0Ny0uMTM1Ljc1Ni0uNDA1LjIxLS4yNy4zMTUtLjU5LjMxNS0uOTZ2LTYuMzVIMTBjLjA2MyAwIC4xMTQtLjAyLjE1NC0uMDYuMDQtLjA0LjA2LS4wOS4wNi0uMTUzVjIuNWEuMjA5LjIwOSAwIDAwLS4wNi0uMTU0LjIwOS4yMDkgMCAwMC0uMTU0LS4wNkg3LjkzbC0uNDY4LTEuMTE5QS45MjguOTI4IDAgMDA3LjEuNzQ2Ljk0NS45NDUgMCAwMDYuNTcxLjU3SDQuNDNhLjk0NS45NDUgMCAwMC0uNTMuMTc1LjkyOC45MjggMCAwMC0uMzYxLjQyMWwtLjQ2OSAxLjExOUgxYS4yMDkuMjA5IDAgMDAtLjE1NC4wNi4yMDkuMjA5IDAgMDAtLjA2LjE1NHYuNDI5YzAgLjA2Mi4wMi4xMTMuMDYuMTU0LjA0LjA0LjA5Mi4wNi4xNTQuMDZoLjY0M3Y2LjM3NWMwIC4zNy4xMDUuNjg2LjMxNS45NDcuMjEuMjYyLjQ2Mi4zOTIuNzU2LjM5Mmg1LjU3MnpNNyAyLjI4Nkg0bC4zMjgtLjc4NGEuMTg5LjE4OSAwIDAxLjExNC0uMDczaDIuMTIzYS4xODkuMTg5IDAgMDEuMTE0LjA3M0w3IDIuMjg2ek00IDkuMTQzaC0uNDI5YS4yMDkuMjA5IDAgMDEtLjE1NC0uMDYuMjA5LjIwOSAwIDAxLS4wNi0uMTU0VjQuMjE0YzAtLjA2Mi4wMi0uMTE0LjA2LS4xNTQuMDQtLjA0LjA5Mi0uMDYuMTU0LS4wNkg0Yy4wNjMgMCAuMTE0LjAyLjE1NC4wNi4wNC4wNC4wNi4wOTIuMDYuMTU0VjguOTNjMCAuMDYyLS4wMi4xMTMtLjA2LjE1NGEuMjA5LjIwOSAwIDAxLS4xNTQuMDZ6bTEuNzE0IDBoLS40MjhhLjIwOS4yMDkgMCAwMS0uMTU0LS4wNi4yMDkuMjA5IDAgMDEtLjA2LS4xNTRWNC4yMTRjMC0uMDYyLjAyLS4xMTQuMDYtLjE1NC4wNC0uMDQuMDkxLS4wNi4xNTQtLjA2aC40MjhjLjA2MyAwIC4xMTQuMDIuMTU0LjA2LjA0LjA0LjA2LjA5Mi4wNi4xNTRWOC45M2MwIC4wNjItLjAyLjExMy0uMDYuMTU0YS4yMDkuMjA5IDAgMDEtLjE1NC4wNnptMS43MTUgMEg3YS4yMDkuMjA5IDAgMDEtLjE1NC0uMDYuMjA5LjIwOSAwIDAxLS4wNi0uMTU0VjQuMjE0YzAtLjA2Mi4wMi0uMTE0LjA2LS4xNTQuMDQtLjA0LjA5MS0uMDYuMTU0LS4wNmguNDI5Yy4wNjIgMCAuMTEzLjAyLjE1NC4wNi4wNC4wNC4wNi4wOTIuMDYuMTU0VjguOTNjMCAuMDYyLS4wMi4xMTMtLjA2LjE1NGEuMjA5LjIwOSAwIDAxLS4xNTQuMDZ6IiBmaWxsPSIjMzMzIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=")}.fl-project-editor .side-panel .help-tip{display:inline-block;position:relative;width:.7rem;height:.7rem;-webkit-transform:translateY(1px);transform:translateY(1px);opacity:.6;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtcXVlc3Rpb24tY2lyY2xlIGZhLXctMTYgZmEtM3giPjxwYXRoIGZpbGw9IiNhYWEiIGQ9Ik01MDQgMjU2YzAgMTM2Ljk5Ny0xMTEuMDQzIDI0OC0yNDggMjQ4UzggMzkyLjk5NyA4IDI1NkM4IDExOS4wODMgMTE5LjA0MyA4IDI1NiA4czI0OCAxMTEuMDgzIDI0OCAyNDh6TTI2Mi42NTUgOTBjLTU0LjQ5NyAwLTg5LjI1NSAyMi45NTctMTE2LjU0OSA2My43NTgtMy41MzYgNS4yODYtMi4zNTMgMTIuNDE1IDIuNzE1IDE2LjI1OGwzNC42OTkgMjYuMzFjNS4yMDUgMy45NDcgMTIuNjIxIDMuMDA4IDE2LjY2NS0yLjEyMiAxNy44NjQtMjIuNjU4IDMwLjExMy0zNS43OTcgNTcuMzAzLTM1Ljc5NyAyMC40MjkgMCA0NS42OTggMTMuMTQ4IDQ1LjY5OCAzMi45NTggMCAxNC45NzYtMTIuMzYzIDIyLjY2Ny0zMi41MzQgMzMuOTc2QzI0Ny4xMjggMjM4LjUyOCAyMTYgMjU0Ljk0MSAyMTYgMjk2djRjMCA2LjYyNyA1LjM3MyAxMiAxMiAxMmg1NmM2LjYyNyAwIDEyLTUuMzczIDEyLTEydi0xLjMzM2MwLTI4LjQ2MiA4My4xODYtMjkuNjQ3IDgzLjE4Ni0xMDYuNjY3IDAtNTguMDAyLTYwLjE2NS0xMDItMTE2LjUzMS0xMDJ6TTI1NiAzMzhjLTI1LjM2NSAwLTQ2IDIwLjYzNS00NiA0NiAwIDI1LjM2NCAyMC42MzUgNDYgNDYgNDZzNDYtMjAuNjM2IDQ2LTQ2YzAtMjUuMzY1LTIwLjYzNS00Ni00Ni00NnoiLz48L3N2Zz4=)}.fl-project-editor .side-panel .help-tip:hover{opacity:1}.fl-project-editor .side-panel .help-tip:after{content:attr(data-popup-body);position:absolute;bottom:100%;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}.fl-annotations-tip{font-family:Source Sans Pro,sans-serif;max-width:15rem;background:#fff;color:#333;box-shadow:0 0 8px rgba(0,0,0,.2);border-radius:.5rem;padding:.625rem;font-size:.72rem;line-height:1.25em;position:absolute;z-index:999999;pointer-events:none}.fl-annotations-tip:after{content:"";position:absolute;bottom:-8px;left:50%;margin-left:-8px;width:0;height:0;border-color:#fff transparent transparent;border-style:solid;border-width:8px 8px 0}.fl-annotations-tip.hidden{display:none}.fl-disable-selection,.fl-disable-selection *{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.fl-project-editor{z-index:100000;overflow-y:auto;width:18rem;background:#fff;box-shadow:0 -2px 5px 0 rgba(0,0,0,.2);height:100vh;overflow:auto}.fl-project-editor .side-panel .side-panel-inner{margin:0;max-width:none}.fl-project-editor .side-panel{padding:0;background:transparent;height:auto;position:static;overflow:none}.fl-annotation-settings{border-top:1px solid #eee}.fl-annotation-contents :first-child{margin-top:0}.fl-annotation-contents :last-child{margin-bottom:0}.fl-annotation-contents a{color:inherit;-webkit-text-stroke-color:inherit}.fl-annotation-contents img{-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none;pointer-events:none}.empty-annotation-message{padding:1rem;font-size:1rem;text-align:center;color:#aaa}.fl-project-editor .fl-annotation-settings .settings-block,.fl-project-editor .fl-annotation-settings .toplevel-settings-block{display:none}.fl-project-editor.active-annotation .fl-annotation-settings .settings-block,.fl-project-editor.active-annotation .fl-annotation-settings .toplevel-settings-block{display:block}.fl-project-editor.active-annotation .fl-annotation-settings .empty-annotation-message{display:none}@media screen and (min-width:521px){.fl-annotations-add-element{display:none}}@media screen and (max-width:520px){.fl-project-editor{right:0;position:absolute}.is-edit-settings .fl-annotations-add-element,.is-edit-settings.is-editing .fl-annotations-source-element{left:-21rem}}',document.head.appendChild(s);var bM=function(t,e){"string"==typeof e&&(e=function(e){return e=String(e).toUpperCase(),function(t){return e===t.nodeName}}(e));"function"!=typeof e&&(e=function(e){return function(t){return e===t}}(e));for(;t&&!e(t);)t=t.parentNode;return t||null};function xM(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var wM=xM;function MM(t){return"function"==typeof t}function kM(t){return"object"===Zs(t)&&null!==t}function jM(t){return void 0===t}(xM.EventEmitter=xM).prototype._events=void 0,xM.prototype._maxListeners=void 0,xM.defaultMaxListeners=10,xM.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},xM.prototype.emit=function(t){var e,n,r,i,o,a;if(this._events||(this._events={}),"error"===t&&(!this._events.error||kM(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var s=new Error('Uncaught, unspecified "error" event. ('+e+")");throw s.context=e,s}if(jM(n=this._events[t]))return!1;if(MM(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(kM(n))for(i=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,o=0;o<r;o++)a[o].apply(this,i);return!0},xM.prototype.on=xM.prototype.addListener=function(t,e){var n;if(!MM(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,MM(e.listener)?e.listener:e),this._events[t]?kM(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,kM(this._events[t])&&!this._events[t].warned&&(n=jM(this._maxListeners)?xM.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},xM.prototype.once=function(t,e){if(!MM(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},xM.prototype.removeListener=function(t,e){var n,r,i,o;if(!MM(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=(n=this._events[t]).length,r=-1,n===e||MM(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(kM(n)){for(o=i;0<o--;)if(n[o]===e||n[o].listener&&n[o].listener===e){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},xM.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(MM(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},xM.prototype.listeners=function(t){t=this._events&&this._events[t]?MM(this._events[t])?[this._events[t]]:this._events[t].slice():[];return t},xM.prototype.listenerCount=function(t){if(this._events){t=this._events[t];if(MM(t))return 1;if(t)return t.length}return 0},xM.listenerCount=function(t,e){return t.listenerCount(e)};function AM(t,a){a=a||{},t=t||window;var s=new wM;s.target=a.target||t;var l=null,c=a.filtered,e=TM,n=(e="string"==typeof a.type?TM.filter(function(t){return 0===t.indexOf(a.type)}):e).map(function(i){var o=i.replace(/^(touch|mouse)/,"").replace(/up$/,"end").replace(/down$/,"start");return{type:i,listener:function(t){var e,n,r=t;/^touch/.test(i)&&(/^touchend$/.test(i)&&!1!==a.preventSimulated&&t.preventDefault(),r=c?function(t,e){var n;l&&/^touch(end|cancel)/.test(e)?(n=DM(t.changedTouches,l.identifier||0))&&(l=null):!l&&/^touchstart/.test(e)?l=n=NM(t.changedTouches,s.target):l&&(n=DM(t.changedTouches,l.identifier||0));return n}(t,i):NM(t.changedTouches,s.target)),r&&(e=r,n=s.target,r=e.clientX||0,e=e.clientY||0,n=function(t){return t===window||t===document||t===document.body?zM:t.getBoundingClientRect()}(n),n=[r-n.left,e-n.top],s.emit(o,t,n))}}});return s.enable=function(){return n.forEach(SM(t,!0)),s},s.disable=function(){return l=null,n.forEach(SM(t,!1)),s},s.enable(),s}var TM=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup"],zM={left:0,top:0};function NM(t,e){return Array.prototype.slice.call(t).filter(function(t){return t.target===e})[0]||t[0]}function DM(t,e){for(var n=0;n<t.length;n++)if(t[n].identifier===e)return t[n];return null}function SM(e,n){return function(t){n?e.addEventListener(t.type,t.listener,{passive:!1}):e.removeEventListener(t.type,t.listener,{passive:!1})}}var IM,EM,LM=void 0!==e&&(e.crypto||e.msCrypto);LM&&LM.getRandomValues&&(IM=new Uint8Array(16),KM=function(){return LM.getRandomValues(IM),IM}),KM||(EM=new Array(16),KM=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),EM[e]=t>>>((3&e)<<3)&255;return EM});for(var CM=KM,OM=[],PM=0;PM<256;++PM)OM[PM]=(PM+256).toString(16).substr(1);var RM=function(t,e){return e=e||0,OM[t[e++]]+OM[t[e++]]+OM[t[e++]]+OM[t[e++]]+"-"+OM[t[e++]]+OM[t[e++]]+"-"+OM[t[e++]]+OM[t[e++]]+"-"+OM[t[e++]]+OM[t[e++]]+"-"+OM[t[e++]]+OM[t[e++]]+OM[t[e++]]+OM[t[e++]]+OM[t[e++]]+OM[t[e++]]};function FM(t,e){pa(this,FM),this.id="",this.position=t,this.device_visibility="all",this.text_size=1,this.text_color="#333333",this.text_bg="#ffffff",this.text_weight="bold",this.text_line_height=1.25,this.label_width=10,this.popup_position="center",this.popup_bg="#ffffff",this.line_marker="none",this.stroke_color="#333333",this.stroke_opacity=1,this.stroke_width=2,this.subject_fill="#333333",this.point_radius=.5,this.point_text="",this.point_text_color="#FFFFFF",this.subject_fill_opacity=0,this.subject_type="none",this.connector_type="direct",this.connector_extend_line="enabled",this.contents="Type your annotation...",e&&Object.assign(this,e),this.view=Object.assign({},HM),this.view.origin=this.view.origin.slice(),this.view.content_offset=this.view.content_offset.slice()}var YM,UM,BM=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||CM)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var o=0;o<16;++o)e[r+o]=i[o];return e||RM(i)},HM={origin:[0,0],content_offset:[.025,.025]};FM.getDefaultSettings=function(){var t=new FM,t=Object.assign({},t);return delete t.view,delete t.position,delete t.id,delete t.contents,t};function ZM(){return window.innerWidth!==YM&&(YM=window.innerWidth,UM=YM<=520),UM}var GM=tn.end,Mh=i("trimEnd"),s=Mh?function(){return GM(this)}:"".trimEnd;$t({target:"String",proto:!0,name:"trimEnd",forced:Mh},{trimEnd:s,trimRight:s});var qM=D.TypeError,QM=l("match"),WM=v("".indexOf);$t({target:"String",proto:!0,forced:!function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[QM]=!1,"/./"[e](n)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~WM(Qe(u(this)),Qe(function(t){if(Xr(t))throw qM("The method doesn't accept regular expressions");return t}(t)),1<arguments.length?arguments[1]:void 0)}});var VM=n(function(t,e){t.exports=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function e(t,e,n){if(e)r(t.prototype,e);if(n)r(t,n);return t}function i(t,e){if(!t)return;if(typeof t==="string")return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor)n=t.constructor.name;if(n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}function o(t,e){if(e==null||e>t.length)e=t.length;for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){var n;if(typeof Symbol==="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=i(t))||e&&t&&typeof t.length==="number"){if(n)t=n;var r=0;return function(){if(r>=t.length)return{done:true};return{done:false,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n=t[Symbol.iterator]();return n.next.bind(n)}function t(t){var e={exports:{}};return t(e,e.exports),e.exports}var n=t(function(e){function t(){return{baseUrl:null,breaks:false,gfm:true,headerIds:true,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:true,pedantic:false,renderer:null,sanitize:false,sanitizer:null,silent:false,smartLists:false,smartypants:false,tokenizer:null,walkTokens:null,xhtml:false}}function n(t){e.exports.defaults=t}e.exports={defaults:t(),getDefaults:t,changeDefaults:n}}),a=/[&<>"']/,s=/[&<>"']/g,l=/[<>"']|&(?!#?\w+;)/,c=/[<>"']|&(?!#?\w+;)/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},f=function t(e){return u[e]};function d(t,e){if(e){if(a.test(t))return t.replace(s,f)}else if(l.test(t))return t.replace(c,f);return t}var h=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function g(t){return t.replace(h,function(t,e){e=e.toLowerCase();if(e==="colon")return":";if(e.charAt(0)==="#")return e.charAt(1)==="x"?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1));return""})}var _=/(^|[^\[])\^/g;function m(r,e){r=r.source||r;e=e||"";var i={replace:function t(e,n){n=n.source||n;n=n.replace(_,"$1");r=r.replace(e,n);return i},getRegex:function t(){return new RegExp(r,e)}};return i}var y=/[^\w:]/g,v=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function b(t,e,n){if(t){var r;try{r=decodeURIComponent(g(n)).replace(y,"").toLowerCase()}catch(t){return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}if(e&&!v.test(n))n=A(e,n);try{n=encodeURI(n).replace(/%25/g,"%")}catch(t){return null}return n}var x={},w=/^[^:]+:\/*[^/]*$/,M=/^([^:]+:)[\s\S]*$/,k=/^([^:]+:\/*[^/]*)[\s\S]*$/,j;function A(t,e){if(!x[" "+t])if(w.test(t))x[" "+t]=t+"/";else x[" "+t]=N(t,"/",true);t=x[" "+t];var n=t.indexOf(":")===-1;if(e.substring(0,2)==="//"){if(n)return e;return t.replace(M,"$1")+e}else if(e.charAt(0)==="/"){if(n)return e;return t.replace(k,"$1")+e}else return t+e}function T(t){var e=1,n,r;for(;e<arguments.length;e++){n=arguments[e];for(r in n)if(Object.prototype.hasOwnProperty.call(n,r))t[r]=n[r]}return t}function z(t,e){var n=t.replace(/\|/g,function(t,e,n){var r=false,i=e;while(--i>=0&&n[i]==="\\")r=!r;if(r)return"|";else return" |"}),r=n.split(/ \|/);var i=0;if(r.length>e)r.splice(e);else while(r.length<e)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function N(t,e,n){var r=t.length;if(r===0)return"";var i=0;while(i<r){var o=t.charAt(r-i-1);if(o===e&&!n)i++;else if(o!==e&&n)i++;else break}return t.substr(0,r-i)}function D(t,e){if(t.indexOf(e[1])===-1)return-1;var n=t.length;var r=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]){r--;if(r<0)return i}return-1}function S(t){if(t&&t.sanitize&&!t.silent)console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function I(t,e){if(e<1)return"";var n="";while(e>1){if(e&1)n+=t;e>>=1;t+=t}return n+t}var E={escape:d,unescape:g,edit:m,cleanUrl:b,resolveUrl:A,noopTest:{exec:function t(){}},merge:T,splitCells:z,rtrim:N,findClosingBracket:D,checkSanitizeDeprecation:S,repeatString:I},L=n.defaults,C=E.rtrim,O=E.splitCells,P=E.escape,R=E.findClosingBracket;function F(t,e,n){var r=e.href;var i=e.title?P(e.title):null;var o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!")return{type:"link",raw:n,href:r,title:i,text:o};else return{type:"image",raw:n,href:r,title:i,text:P(o)}}function Y(t,e){var n=t.match(/^(\s+)(?:```)/);if(n===null)return e;var r=n[1];return e.split("\n").map(function(t){var e=t.match(/^\s+/);if(e===null)return t;var n=e[0];if(n.length>=r.length)return t.slice(r.length);return t}).join("\n")}var U=function(){function t(t){this.options=t||L}var e=t.prototype;e.space=function t(e){var n=this.rules.block.newline.exec(e);if(n){if(n[0].length>1)return{type:"space",raw:n[0]};return{raw:"\n"}}};e.code=function t(e,n){var r=this.rules.block.code.exec(e);if(r){var i=n[n.length-1];if(i&&i.type==="paragraph")return{raw:r[0],text:r[0].trimRight()};var o=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:!this.options.pedantic?C(o,"\n"):o}}};e.fences=function t(e){var n=this.rules.block.fences.exec(e);if(n){var r=n[0];var i=Y(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim():n[2],text:i}}};e.heading=function t(e){var n=this.rules.block.heading.exec(e);if(n){var r=n[2].trim();if(/#$/.test(r)){var i=C(r,"#");if(this.options.pedantic)r=i.trim();else if(!i||/ $/.test(i))r=i.trim()}return{type:"heading",raw:n[0],depth:n[1].length,text:r}}};e.nptable=function t(e){var n=this.rules.block.nptable.exec(e);if(n){var r={type:"table",header:O(n[1].replace(/^ *| *\| *$/g,"")),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:n[3]?n[3].replace(/\n$/,"").split("\n"):[],raw:n[0]};if(r.header.length===r.align.length){var i=r.align.length;var o;for(o=0;o<i;o++)if(/^ *-+: *$/.test(r.align[o]))r.align[o]="right";else if(/^ *:-+: *$/.test(r.align[o]))r.align[o]="center";else if(/^ *:-+ *$/.test(r.align[o]))r.align[o]="left";else r.align[o]=null;i=r.cells.length;for(o=0;o<i;o++)r.cells[o]=O(r.cells[o],r.header.length);return r}}};e.hr=function t(e){var n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}};e.blockquote=function t(e){var n=this.rules.block.blockquote.exec(e);if(n){var r=n[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:n[0],text:r}}};e.list=function t(e){var n=this.rules.block.list.exec(e);if(n){var r=n[0];var i=n[2];var o=i.length>1;var t={type:"list",raw:r,ordered:o,start:o?+i.slice(0,-1):"",loose:false,items:[]};var a=n[0].match(this.rules.block.item);var s=false,l,c,u,f,d,h,p,g;var _=a.length;u=this.rules.block.listItemStart.exec(a[0]);for(var m=0;m<_;m++){l=a[m];r=l;if(m!==_-1){f=this.rules.block.listItemStart.exec(a[m+1]);if(!this.options.pedantic?f[1].length>u[0].length||f[1].length>3:f[1].length>u[1].length){a.splice(m,2,a[m]+"\n"+a[m+1]);m--;_--;continue}else if(!this.options.pedantic||this.options.smartLists?f[2][f[2].length-1]!==i[i.length-1]:o===(f[2].length===1)){d=a.slice(m+1).join("\n");t.raw=t.raw.substring(0,t.raw.length-d.length);m=_-1}u=f}c=l.length;l=l.replace(/^ *([*+-]|\d+[.)]) ?/,"");if(~l.indexOf("\n ")){c-=l.length;l=!this.options.pedantic?l.replace(new RegExp("^ {1,"+c+"}","gm"),""):l.replace(/^ {1,4}/gm,"")}h=s||/\n\n(?!\s*$)/.test(l);if(m!==_-1){s=l.charAt(l.length-1)==="\n";if(!h)h=s}if(h)t.loose=true;if(this.options.gfm){p=/^\[[ xX]\] /.test(l);g=undefined;if(p){g=l[1]!==" ";l=l.replace(/^\[[ xX]\] +/,"")}}t.items.push({type:"list_item",raw:r,task:p,checked:g,loose:h,text:l})}return t}};e.html=function t(e){var n=this.rules.block.html.exec(e);if(n)return{type:this.options.sanitize?"paragraph":"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):P(n[0]):n[0]}};e.def=function t(e){var n=this.rules.block.def.exec(e);if(n){if(n[3])n[3]=n[3].substring(1,n[3].length-1);var r=n[1].toLowerCase().replace(/\s+/g," ");return{tag:r,raw:n[0],href:n[2],title:n[3]}}};e.table=function t(e){var n=this.rules.block.table.exec(e);if(n){var r={type:"table",header:O(n[1].replace(/^ *| *\| *$/g,"")),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:n[3]?n[3].replace(/\n$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=n[0];var i=r.align.length;var o;for(o=0;o<i;o++)if(/^ *-+: *$/.test(r.align[o]))r.align[o]="right";else if(/^ *:-+: *$/.test(r.align[o]))r.align[o]="center";else if(/^ *:-+ *$/.test(r.align[o]))r.align[o]="left";else r.align[o]=null;i=r.cells.length;for(o=0;o<i;o++)r.cells[o]=O(r.cells[o].replace(/^ *\| *| *\| *$/g,""),r.header.length);return r}}};e.lheading=function t(e){var n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1]}};e.paragraph=function t(e){var n=this.rules.block.paragraph.exec(e);if(n)return{type:"paragraph",raw:n[0],text:n[1].charAt(n[1].length-1)==="\n"?n[1].slice(0,-1):n[1]}};e.text=function t(e,n){var r=this.rules.block.text.exec(e);if(r){var i=n[n.length-1];if(i&&i.type==="text")return{raw:r[0],text:r[0]};return{type:"text",raw:r[0],text:r[0]}}};e.escape=function t(e){var n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:P(n[1])}};e.tag=function t(e,n,r){var i=this.rules.inline.tag.exec(e);if(i){if(!n&&/^<a /i.test(i[0]))n=true;else if(n&&/^<\/a>/i.test(i[0]))n=false;if(!r&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0]))r=true;else if(r&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0]))r=false;return{type:this.options.sanitize?"text":"html",raw:i[0],inLink:n,inRawBlock:r,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):P(i[0]):i[0]}}};e.link=function t(e){var n=this.rules.inline.link.exec(e);if(n){var r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;var i=C(r.slice(0,-1),"\\");if((r.length-i.length)%2===0)return}else{var o=R(n[2],"()");if(o>-1){var a=n[0].indexOf("!")===0?5:4;var s=a+n[1].length+o;n[2]=n[2].substring(0,o);n[0]=n[0].substring(0,s).trim();n[3]=""}}var l=n[2];var c="";if(this.options.pedantic){var t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);if(t){l=t[1];c=t[3]}}else c=n[3]?n[3].slice(1,-1):"";l=l.trim();if(/^</.test(l))if(this.options.pedantic&&!/>$/.test(r))l=l.slice(1);else l=l.slice(1,-1);return F(n,{href:l?l.replace(this.rules.inline._escapes,"$1"):l,title:c?c.replace(this.rules.inline._escapes,"$1"):c},n[0])}};e.reflink=function t(e,n){var r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){var i=(r[2]||r[1]).replace(/\s+/g," ");i=n[i.toLowerCase()];if(!i||!i.href){var o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return F(r,i,r[0])}};e.strong=function t(e,n,r){if(r===void 0)r="";var i=this.rules.inline.strong.start.exec(e);if(i&&(!i[1]||i[1]&&(r===""||this.rules.inline.punctuation.exec(r)))){n=n.slice(-1*e.length);var o=i[0]==="**"?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;o.lastIndex=0;var a;while((i=o.exec(n))!=null){a=this.rules.inline.strong.middle.exec(n.slice(0,i.index+3));if(a)return{type:"strong",raw:e.slice(0,a[0].length),text:e.slice(2,a[0].length-2)}}}};e.em=function t(e,n,r){if(r===void 0)r="";var i=this.rules.inline.em.start.exec(e);if(i&&(!i[1]||i[1]&&(r===""||this.rules.inline.punctuation.exec(r)))){n=n.slice(-1*e.length);var o=i[0]==="*"?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;o.lastIndex=0;var a;while((i=o.exec(n))!=null){a=this.rules.inline.em.middle.exec(n.slice(0,i.index+2));if(a)return{type:"em",raw:e.slice(0,a[0].length),text:e.slice(1,a[0].length-1)}}}};e.codespan=function t(e){var n=this.rules.inline.code.exec(e);if(n){var r=n[2].replace(/\n/g," ");var i=/[^ ]/.test(r);var o=/^ /.test(r)&&/ $/.test(r);if(i&&o)r=r.substring(1,r.length-1);r=P(r,true);return{type:"codespan",raw:n[0],text:r}}};e.br=function t(e){var n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}};e.del=function t(e){var n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2]}};e.autolink=function t(e,n){var r=this.rules.inline.autolink.exec(e);if(r){var i,o;if(r[2]==="@"){i=P(this.options.mangle?n(r[1]):r[1]);o="mailto:"+i}else{i=P(r[1]);o=i}return{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}};e.url=function t(e,n){var r;if(r=this.rules.inline.url.exec(e)){var i,o;if(r[2]==="@"){i=P(this.options.mangle?n(r[0]):r[0]);o="mailto:"+i}else{var a;do{a=r[0];r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(a!==r[0]);i=P(r[0]);if(r[1]==="www.")o="http://"+i;else o=i}return{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}};e.inlineText=function t(e,n,r){var i=this.rules.inline.text.exec(e);if(i){var o;if(n)o=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):P(i[0]):i[0];else o=P(this.options.smartypants?r(i[0]):i[0]);return{type:"text",raw:i[0],text:o}}};return t}(),B=E.noopTest,H=E.edit,Z=E.merge,G={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:"+"<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)"+"|comment[^\\n]*(\\n+|$)"+"|<\\?[\\s\\S]*?(?:\\?>\\n*|$)"+"|<![A-Z][\\s\\S]*?(?:>\\n*|$)"+"|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)"+"|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)"+"|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)"+"|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)"+")",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:B,table:B,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};G.def=H(G.def).replace("label",G._label).replace("title",G._title).getRegex(),G.bullet=/(?:[*+-]|\d{1,9}[.)])/,G.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,G.item=H(G.item,"gm").replace(/bull/g,G.bullet).getRegex(),G.listItemStart=H(/^( *)(bull)/).replace("bull",G.bullet).getRegex(),G.list=H(G.list).replace(/bull/g,G.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+G.def.source+")").getRegex(),G._tag="address|article|aside|base|basefont|blockquote|body|caption"+"|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption"+"|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe"+"|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option"+"|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr"+"|track|ul",G._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,G.html=H(G.html,"i").replace("comment",G._comment).replace("tag",G._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),G.paragraph=H(G._paragraph).replace("hr",G.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",G._tag).getRegex(),G.blockquote=H(G.blockquote).replace("paragraph",G.paragraph).getRegex(),G.normal=Z({},G),G.gfm=Z({},G.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n"+" {0,3}([-:]+ *\\|[-| :]*)"+"(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n"+" {0,3}\\|?( *[-:]+[-| :]*)"+"(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),G.gfm.nptable=H(G.gfm.nptable).replace("hr",G.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",G._tag).getRegex(),G.gfm.table=H(G.gfm.table).replace("hr",G.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",G._tag).getRegex(),G.pedantic=Z({},G.normal,{html:H("^ *(?:comment *(?:\\n|\\s*$)"+"|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)"+"|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",G._comment).replace(/tag/g,"(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub"+"|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)"+"\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:B,paragraph:H(G.normal._paragraph).replace("hr",G.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",G.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var q={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:B,tag:"^comment"+"|^</[a-zA-Z][\\w:-]*\\s*>"+"|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>"+"|^<\\?[\\s\\S]*?\\?>"+"|^<![a-zA-Z]+\\s[\\s\\S]*?>"+"|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:B,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};q.punctuation=H(q.punctuation).replace(/punctuation/g,q._punctuation).getRegex(),q._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",q._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",q._comment=H(G._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),q.em.start=H(q.em.start).replace(/punctuation/g,q._punctuation).getRegex(),q.em.middle=H(q.em.middle).replace(/punctuation/g,q._punctuation).replace(/overlapSkip/g,q._overlapSkip).getRegex(),q.em.endAst=H(q.em.endAst,"g").replace(/punctuation/g,q._punctuation).getRegex(),q.em.endUnd=H(q.em.endUnd,"g").replace(/punctuation/g,q._punctuation).getRegex(),q.strong.start=H(q.strong.start).replace(/punctuation/g,q._punctuation).getRegex(),q.strong.middle=H(q.strong.middle).replace(/punctuation/g,q._punctuation).replace(/overlapSkip/g,q._overlapSkip).getRegex(),q.strong.endAst=H(q.strong.endAst,"g").replace(/punctuation/g,q._punctuation).getRegex(),q.strong.endUnd=H(q.strong.endUnd,"g").replace(/punctuation/g,q._punctuation).getRegex(),q.blockSkip=H(q._blockSkip,"g").getRegex(),q.overlapSkip=H(q._overlapSkip,"g").getRegex(),q._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,q._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,q._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,q.autolink=H(q.autolink).replace("scheme",q._scheme).replace("email",q._email).getRegex(),q._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,q.tag=H(q.tag).replace("comment",q._comment).replace("attribute",q._attribute).getRegex(),q._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,q._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,q._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,q.link=H(q.link).replace("label",q._label).replace("href",q._href).replace("title",q._title).getRegex(),q.reflink=H(q.reflink).replace("label",q._label).getRegex(),q.reflinkSearch=H(q.reflinkSearch,"g").replace("reflink",q.reflink).replace("nolink",q.nolink).getRegex(),q.normal=Z({},q),q.pedantic=Z({},q.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:H(/^!?\[(label)\]\((.*?)\)/).replace("label",q._label).getRegex(),reflink:H(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q._label).getRegex()}),q.gfm=Z({},q.normal,{escape:H(q.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),q.gfm.url=H(q.gfm.url,"i").replace("email",q.gfm._extended_email).getRegex(),q.breaks=Z({},q.gfm,{br:H(q.br).replace("{2,}","*").getRegex(),text:H(q.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Q={block:G,inline:q},W=n.defaults,V=Q.block,X=Q.inline,$=E.repeatString;function J(t){return t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function K(t){var e="",n,r;var i=t.length;for(n=0;n<i;n++){r=t.charCodeAt(n);if(Math.random()>.5)r="x"+r.toString(16);e+="&#"+r+";"}return e}var tt=function(){function i(t){this.tokens=[];this.tokens.links=Object.create(null);this.options=t||W;this.options.tokenizer=this.options.tokenizer||new U;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;var e={block:V.normal,inline:X.normal};if(this.options.pedantic){e.block=V.pedantic;e.inline=X.pedantic}else if(this.options.gfm){e.block=V.gfm;if(this.options.breaks)e.inline=X.breaks;else e.inline=X.gfm}this.tokenizer.rules=e}i.lex=function t(e,n){var r=new i(n);return r.lex(e)};i.lexInline=function t(e,n){var r=new i(n);return r.inlineTokens(e)};var t=i.prototype;t.lex=function t(e){e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");this.blockTokens(e,this.tokens,true);this.inline(this.tokens);return this.tokens};t.blockTokens=function t(e,n,r){if(n===void 0)n=[];if(r===void 0)r=true;if(this.options.pedantic)e=e.replace(/^ +$/gm,"");var i,o,a,s;while(e){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);if(i.type)n.push(i);continue}if(i=this.tokenizer.code(e,n)){e=e.substring(i.raw.length);if(i.type)n.push(i);else{s=n[n.length-1];s.raw+="\n"+i.raw;s.text+="\n"+i.text}continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length);n.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length);n.push(i);continue}if(i=this.tokenizer.nptable(e)){e=e.substring(i.raw.length);n.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length);n.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length);i.tokens=this.blockTokens(i.text,[],r);n.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length);a=i.items.length;for(o=0;o<a;o++)i.items[o].tokens=this.blockTokens(i.items[o].text,[],false);n.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length);n.push(i);continue}if(r&&(i=this.tokenizer.def(e))){e=e.substring(i.raw.length);if(!this.tokens.links[i.tag])this.tokens.links[i.tag]={href:i.href,title:i.title};continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length);n.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length);n.push(i);continue}if(r&&(i=this.tokenizer.paragraph(e))){e=e.substring(i.raw.length);n.push(i);continue}if(i=this.tokenizer.text(e,n)){e=e.substring(i.raw.length);if(i.type)n.push(i);else{s=n[n.length-1];s.raw+="\n"+i.raw;s.text+="\n"+i.text}continue}if(e){var l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return n};t.inline=function t(e){var n,r,i,o,a,s;var l=e.length;for(n=0;n<l;n++){s=e[n];switch(s.type){case"paragraph":case"text":case"heading":{s.tokens=[];this.inlineTokens(s.text,s.tokens);break}case"table":{s.tokens={header:[],cells:[]};o=s.header.length;for(r=0;r<o;r++){s.tokens.header[r]=[];this.inlineTokens(s.header[r],s.tokens.header[r])}o=s.cells.length;for(r=0;r<o;r++){a=s.cells[r];s.tokens.cells[r]=[];for(i=0;i<a.length;i++){s.tokens.cells[r][i]=[];this.inlineTokens(a[i],s.tokens.cells[r][i])}}break}case"blockquote":{this.inline(s.tokens);break}case"list":{o=s.items.length;for(r=0;r<o;r++)this.inline(s.items[r].tokens);break}}}return e};t.inlineTokens=function t(e,n,r,i){if(n===void 0)n=[];if(r===void 0)r=false;if(i===void 0)i=false;var o;var a=e;var s;var l,c;if(this.tokens.links){var u=Object.keys(this.tokens.links);if(u.length>0)while((s=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null)if(u.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1)))a=a.slice(0,s.index)+"["+$("a",s[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex)}while((s=this.tokenizer.rules.inline.blockSkip.exec(a))!=null)a=a.slice(0,s.index)+"["+$("a",s[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);while(e){if(!l)c="";l=false;if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length);n.push(o);continue}if(o=this.tokenizer.tag(e,r,i)){e=e.substring(o.raw.length);r=o.inLink;i=o.inRawBlock;n.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length);if(o.type==="link")o.tokens=this.inlineTokens(o.text,[],true,i);n.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);if(o.type==="link")o.tokens=this.inlineTokens(o.text,[],true,i);n.push(o);continue}if(o=this.tokenizer.strong(e,a,c)){e=e.substring(o.raw.length);o.tokens=this.inlineTokens(o.text,[],r,i);n.push(o);continue}if(o=this.tokenizer.em(e,a,c)){e=e.substring(o.raw.length);o.tokens=this.inlineTokens(o.text,[],r,i);n.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length);n.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length);n.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length);o.tokens=this.inlineTokens(o.text,[],r,i);n.push(o);continue}if(o=this.tokenizer.autolink(e,K)){e=e.substring(o.raw.length);n.push(o);continue}if(!r&&(o=this.tokenizer.url(e,K))){e=e.substring(o.raw.length);n.push(o);continue}if(o=this.tokenizer.inlineText(e,i,J)){e=e.substring(o.raw.length);c=o.raw.slice(-1);l=true;n.push(o);continue}if(e){var f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return n};e(i,null,[{key:"rules",get:function t(){return{block:V,inline:X}}}]);return i}(),et=n.defaults,nt=E.cleanUrl,rt=E.escape,it=function(){function t(t){this.options=t||et}var e=t.prototype;e.code=function t(e,n,r){var i=(n||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,i);if(o!=null&&o!==e){r=true;e=o}}e=e.replace(/\n$/,"")+"\n";if(!i)return"<pre><code>"+(r?e:rt(e,true))+"</code></pre>\n";return'<pre><code class="'+this.options.langPrefix+rt(i,true)+'">'+(r?e:rt(e,true))+"</code></pre>\n"};e.blockquote=function t(e){return"<blockquote>\n"+e+"</blockquote>\n"};e.html=function t(e){return e};e.heading=function t(e,n,r,i){if(this.options.headerIds)return"<h"+n+' id="'+this.options.headerPrefix+i.slug(r)+'">'+e+"</h"+n+">\n";return"<h"+n+">"+e+"</h"+n+">\n"};e.hr=function t(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};e.list=function t(e,n,r){var i=n?"ol":"ul",o=n&&r!==1?' start="'+r+'"':"";return"<"+i+o+">\n"+e+"</"+i+">\n"};e.listitem=function t(e){return"<li>"+e+"</li>\n"};e.checkbox=function t(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "};e.paragraph=function t(e){return"<p>"+e+"</p>\n"};e.table=function t(e,n){if(n)n="<tbody>"+n+"</tbody>";return"<table>\n"+"<thead>\n"+e+"</thead>\n"+n+"</table>\n"};e.tablerow=function t(e){return"<tr>\n"+e+"</tr>\n"};e.tablecell=function t(e,n){var r=n.header?"th":"td";var i=n.align?"<"+r+' align="'+n.align+'">':"<"+r+">";return i+e+"</"+r+">\n"};e.strong=function t(e){return"<strong>"+e+"</strong>"};e.em=function t(e){return"<em>"+e+"</em>"};e.codespan=function t(e){return"<code>"+e+"</code>"};e.br=function t(){return this.options.xhtml?"<br/>":"<br>"};e.del=function t(e){return"<del>"+e+"</del>"};e.link=function t(e,n,r){e=nt(this.options.sanitize,this.options.baseUrl,e);if(e===null)return r;var i='<a href="'+rt(e)+'"';if(n)i+=' title="'+n+'"';i+=">"+r+"</a>";return i};e.image=function t(e,n,r){e=nt(this.options.sanitize,this.options.baseUrl,e);if(e===null)return r;var i='<img src="'+e+'" alt="'+r+'"';if(n)i+=' title="'+n+'"';i+=this.options.xhtml?"/>":">";return i};e.text=function t(e){return e};return t}(),ot=function(){function t(){}var e=t.prototype;e.strong=function t(e){return e};e.em=function t(e){return e};e.codespan=function t(e){return e};e.del=function t(e){return e};e.html=function t(e){return e};e.text=function t(e){return e};e.link=function t(e,n,r){return""+r};e.image=function t(e,n,r){return""+r};e.br=function t(){return""};return t}(),at=function(){function t(){this.seen={}}var e=t.prototype;e.serialize=function t(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")};e.getNextSafeSlug=function t(e,n){var r=e;var i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do{i++;r=e+"-"+i}while(this.seen.hasOwnProperty(r))}if(!n){this.seen[e]=i;this.seen[r]=0}return r};e.slug=function t(e,n){if(n===void 0)n={};var t=this.serialize(e);return this.getNextSafeSlug(t,n.dryrun)};return t}(),st=n.defaults,lt=E.unescape,ct=function(){function i(t){this.options=t||st;this.options.renderer=this.options.renderer||new it;this.renderer=this.options.renderer;this.renderer.options=this.options;this.textRenderer=new ot;this.slugger=new at}i.parse=function t(e,n){var r=new i(n);return r.parse(e)};i.parseInline=function t(e,n){var r=new i(n);return r.parseInline(e)};var t=i.prototype;t.parse=function t(e,n){if(n===void 0)n=true;var r="",i,o,a,s,l,c,u,f,d,h,p,g,_,m,y,v,b,x;var w=e.length;for(i=0;i<w;i++){h=e[i];switch(h.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(h.tokens),h.depth,lt(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{f="";u="";s=h.header.length;for(o=0;o<s;o++)u+=this.renderer.tablecell(this.parseInline(h.tokens.header[o]),{header:true,align:h.align[o]});f+=this.renderer.tablerow(u);d="";s=h.cells.length;for(o=0;o<s;o++){c=h.tokens.cells[o];u="";l=c.length;for(a=0;a<l;a++)u+=this.renderer.tablecell(this.parseInline(c[a]),{header:false,align:h.align[a]});d+=this.renderer.tablerow(u)}r+=this.renderer.table(f,d);continue}case"blockquote":{d=this.parse(h.tokens);r+=this.renderer.blockquote(d);continue}case"list":{p=h.ordered;g=h.start;_=h.loose;s=h.items.length;d="";for(o=0;o<s;o++){y=h.items[o];v=y.checked;b=y.task;m="";if(y.task){x=this.renderer.checkbox(v);if(_)if(y.tokens.length>0&&y.tokens[0].type==="text"){y.tokens[0].text=x+" "+y.tokens[0].text;if(y.tokens[0].tokens&&y.tokens[0].tokens.length>0&&y.tokens[0].tokens[0].type==="text")y.tokens[0].tokens[0].text=x+" "+y.tokens[0].tokens[0].text}else y.tokens.unshift({type:"text",text:x});else m+=x}m+=this.parse(y.tokens,_);d+=this.renderer.listitem(m,b,v)}r+=this.renderer.list(d,p,g);continue}case"html":{r+=this.renderer.html(h.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{d=h.tokens?this.parseInline(h.tokens):h.text;while(i+1<w&&e[i+1].type==="text"){h=e[++i];d+="\n"+(h.tokens?this.parseInline(h.tokens):h.text)}r+=n?this.renderer.paragraph(d):d;continue}default:{var M='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(M);return}else throw new Error(M)}}}return r};t.parseInline=function t(e,n){n=n||this.renderer;var r="",i,o;var a=e.length;for(i=0;i<a;i++){o=e[i];switch(o.type){case"escape":{r+=n.text(o.text);break}case"html":{r+=n.html(o.text);break}case"link":{r+=n.link(o.href,o.title,this.parseInline(o.tokens,n));break}case"image":{r+=n.image(o.href,o.title,o.text);break}case"strong":{r+=n.strong(this.parseInline(o.tokens,n));break}case"em":{r+=n.em(this.parseInline(o.tokens,n));break}case"codespan":{r+=n.codespan(o.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(o.tokens,n));break}case"text":{r+=n.text(o.text);break}default:{var s='Token with "'+o.type+'" type was not found.';if(this.options.silent){console.error(s);return}else throw new Error(s)}}}return r};return i}(),ut=E.merge,ft=E.checkSanitizeDeprecation,dt=E.escape,ht=n.getDefaults,pt=n.changeDefaults,gt=n.defaults,_t;function mt(t,r,i){if(typeof t==="undefined"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!=="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof r==="function"){i=r;r=null}r=ut({},mt.defaults,r||{});ft(r);if(i){var o=r.highlight;var a;try{a=tt.lex(t,r)}catch(t){return i(t)}var s=function t(e){var n;if(!e)try{n=ct.parse(a,r)}catch(t){e=t}r.highlight=o;return e?i(e):i(null,n)};if(!o||o.length<3)return s();delete r.highlight;if(!a.length)return s();var l=0;mt.walkTokens(a,function(n){if(n.type==="code"){l++;setTimeout(function(){o(n.text,n.lang,function(t,e){if(t)return s(t);if(e!=null&&e!==n.text){n.text=e;n.escaped=true}l--;if(l===0)s()})},0)}});if(l===0)s();return}try{var e=tt.lex(t,r);if(r.walkTokens)mt.walkTokens(e,r.walkTokens);return ct.parse(e,r)}catch(t){t.message+="\nPlease report this to https://github.com/markedjs/marked.";if(r.silent)return"<p>An error occurred:</p><pre>"+dt(t.message+"",true)+"</pre>";throw t}}return mt.options=mt.setOptions=function(t){ut(mt.defaults,t);pt(mt.defaults);return mt},mt.getDefaults=ht,mt.defaults=gt,mt.use=function(s){var n=ut({},s);if(s.renderer)(function(){var a=mt.defaults.renderer||new it;var t=function t(i){var o=a[i];a[i]=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=s.renderer[i].apply(a,e);if(r===false)r=o.apply(a,e);return r}};for(var e in s.renderer)t(e);n.renderer=a})();if(s.tokenizer)(function(){var a=mt.defaults.tokenizer||new U;var t=function t(i){var o=a[i];a[i]=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=s.tokenizer[i].apply(a,e);if(r===false)r=o.apply(a,e);return r}};for(var e in s.tokenizer)t(e);n.tokenizer=a})();if(s.walkTokens){var e=mt.defaults.walkTokens;n.walkTokens=function(t){s.walkTokens(t);if(e)e(t)}}mt.setOptions(n)},mt.walkTokens=function(t,e){for(var n=p(t),r;!(r=n()).done;){var i=r.value;e(i);switch(i.type){case"table":{for(var o=p(i.tokens.header),a;!(a=o()).done;){var s=a.value;mt.walkTokens(s,e)}for(var l=p(i.tokens.cells),c;!(c=l()).done;){var u=c.value;for(var f=p(u),d;!(d=f()).done;){var h=d.value;mt.walkTokens(h,e)}}break}case"list":{mt.walkTokens(i.items,e);break}default:if(i.tokens)mt.walkTokens(i.tokens,e)}}},mt.parseInline=function(t,e){if(typeof t==="undefined"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!=="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=ut({},mt.defaults,e||{});ft(e);try{var n=tt.lexInline(t,e);if(e.walkTokens)mt.walkTokens(n,e.walkTokens);return ct.parseInline(n,e)}catch(t){t.message+="\nPlease report this to https://github.com/markedjs/marked.";if(e.silent)return"<p>An error occurred:</p><pre>"+dt(t.message+"",true)+"</pre>";throw t}},mt.Parser=ct,mt.parser=ct.parse,mt.Renderer=it,mt.TextRenderer=ot,mt.Lexer=tt,mt.lexer=tt.lex,mt.Tokenizer=U,mt.Slugger=at,mt.parse=mt}()}),XM={gfm:!0,breaks:!0};function $M(t){return t=String(t||""),"<div class='fl-annotation-contents'>"+(t=VM(t,XM))+"</div>"}vd("isConcatSpreadable"),vd("toPrimitive");var JM=D.TypeError,e=l("toPrimitive"),KM=Date.prototype;ot(KM,e)||re(KM,e,function(t){if(kt(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw JM("Incorrect hint");return J(this,t)}),vd("unscopables");function t6(t){var e=h6(null);return d6.call(arguments,function(t){s6(t)&&function(t,e){for(var n in t)e[n]=t[n]}(Object(t),e)}),e}function e6(t){return"function"==typeof t}function n6(t){if((!(e=t)||"symbol"!==Zs(e)&&"Symbol"!==e["@@toStringTag"])&&1)throw new TypeError(t+" is not a symbol");var e;return t}var r6,i6,o6,a6=void 0,s6=function(t){return t!==a6&&null!==t},l6=Object.keys,c6=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}()?Object.keys:function(t){return l6(s6(t)?Object(t):t)},u6=Math.max,f6="function"==typeof(r6=Object.assign)&&(r6(r6={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),r6.foo+r6.bar+r6.trzy==="razdwatrzy")?Object.assign:function(e,n){var r,t,i,o=u6(arguments.length,2);for(e=Object(function(t){if(!s6(t))throw new TypeError("Cannot use null or undefined");return t}(e)),i=function(t){try{e[t]=n[t]}catch(t){r=r||t}},t=1;t<o;++t)c6(n=arguments[t]).forEach(i);if(void 0!==r)throw r;return e},d6=Array.prototype.forEach,h6=Object.create,p6="razdwatrzy",g6=String.prototype.indexOf,_6="function"==typeof p6.contains&&(!0===p6.contains("dwa")&&!1===p6.contains("foo"))?String.prototype.contains:function(t){return-1<g6.call(this,t,arguments[1])},m6=n(function(t){(t.exports=function(t,e){var n,r,i,o;return arguments.length<2||"string"!=typeof t?(i=e,e=t,t=null):i=arguments[2],null==t?r=!(n=o=!0):(n=_6.call(t,"c"),r=_6.call(t,"e"),o=_6.call(t,"w")),o={value:e,configurable:n,enumerable:r,writable:o},i?f6(t6(i),o):o}).gs=function(t,e,n){var r,i;return"string"!=typeof t?(i=n,n=e,e=t,t=null):i=arguments[3],null==e?e=void 0:e6(e)?null==n?n=void 0:e6(n)||(i=n,n=void 0):(i=e,e=n=void 0),t=null==t?!(r=!0):(r=_6.call(t,"c"),_6.call(t,"e")),t={get:e,set:n,configurable:r,enumerable:t},i?f6(t6(i),t):t}}),y6=Object.create,v6=Object.defineProperties,b6=Object.defineProperty,x6=Object.prototype,w6=y6(null),M6=(o6=y6(null),function(t){for(var e,n=0;o6[t+(n||"")];)++n;return o6[t+=n||""]=!0,b6(x6,e="@@"+t,m6.gs(null,function(t){b6(this,e,m6(t))})),e}),k6=function t(e){if(this instanceof k6)throw new TypeError("TypeError: Symbol is not a constructor");return t()},tn=i6=function t(e){var n;if(this instanceof t)throw new TypeError("TypeError: Symbol is not a constructor");return n=y6(k6.prototype),e=void 0===e?"":String(e),v6(n,{__description__:m6("",e),__name__:m6("",M6(e))})};v6(i6,{for:m6(function(t){return w6[t]||(w6[t]=i6(String(t)))}),keyFor:m6(function(t){for(var e in n6(t),w6)if(w6[e]===t)return e}),hasInstance:m6("",i6("hasInstance")),isConcatSpreadable:m6("",i6("isConcatSpreadable")),iterator:m6("",i6("iterator")),match:m6("",i6("match")),replace:m6("",i6("replace")),search:m6("",i6("search")),species:m6("",i6("species")),split:m6("",i6("split")),toPrimitive:m6("",i6("toPrimitive")),toStringTag:m6("",i6("toStringTag")),unscopables:m6("",i6("unscopables"))}),v6(k6.prototype,{constructor:m6(i6),toString:m6("",function(){return this.__name__})}),v6(i6.prototype,{toString:m6(function(){return"Symbol ("+n6(this).__description__+")"}),valueOf:m6(function(){return n6(this)})}),b6(i6.prototype,i6.toPrimitive,m6("",function(){return n6(this)})),b6(i6.prototype,i6.toStringTag,m6("c","Symbol")),b6(k6.prototype,i6.toPrimitive,m6("c",i6.prototype[i6.toPrimitive])),b6(k6.prototype,i6.toStringTag,m6("c",i6.prototype[i6.toStringTag]));var i=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return"symbol"===Zs(Symbol.iterator)||"object"===Zs(Symbol.isConcatSpreadable)&&("object"===Zs(Symbol.iterator)&&("object"===Zs(Symbol.toPrimitive)&&("object"===Zs(Symbol.toStringTag)&&"object"===Zs(Symbol.unscopables))))}()?Symbol:tn,j6=T6,Mh=function(n){var r,t=n.length;return i(),e[A6]=!0,e;function e(){return n.length!==t?(t=n.length,i(),!0):r()}function i(){for(var e=[],t=0;t<n.length;t++)!function(t){e[t]=function(){return n[t]}}(t);r=T6(e)}},A6=i("see-change-array");function T6(i){for(var o=[],t=0;t<i.length;t++)o[t]=i[t]();return function(){for(var t=!1,e=0;e<i.length;e++){var n=i[e],r=n();n[A6]?r&&(t=!0,o[e]=r):(n=o[e],r!==n&&(t=!0,o[e]=r))}return t}}function z6(t,e,n,r){var i=e[0],o=n[0],a=e[1],s=n[1],l=n[2],c=n[3],u=o-i,f=s-a,d=!!r.extend_line,n=D6(0,e,n,d);!d&&u<0&&n<=0&&(u=(o+=l/(2+n))-i),"rect"===t&&(h=r.radius_x+r.radius_pad,p=r.radius_y+r.radius_pad,u=o,f=s,(0<h&&-h<u||h<0&&u<+h)&&(i=Math.abs(h)>Math.abs(u)?0:h),(0<p&&-p<f||p<0&&f<+p)&&(a=Math.abs(p)>Math.abs(f)?0:p)),s<0&&(s+=c),i===l/2&&a===c/2&&(i=o,a=s),u=o-i,f=s-a;var h=o,p=s,c=s<a&&i<o||o<i&&a<s?-1:1;if(Math.abs(u)<Math.abs(f)?(h=o,p=a+u*c):(p=s,h=i+f*c),"circle"!==t&&"point"!==t||!r.radius)return N6(d?[[[i,a],[h,p],[o,s]],[[o,s],[o+l,s]]]:[[[i,a],[h,p],[o,s]]]);c=r.radius,t=Math.sqrt(u*u+f*f);t<c-r.radius_pad?c-=r.radius_pad:t>c+r.radius_pad&&(c+=r.radius_pad);r=c/Math.sqrt(2);if(Math.abs(u)>r&&Math.abs(f)>r)return i=r*(o<0?-1:1),a=r*(s<0?-1:1),N6(d?[[[i,a],[h,p],[o,s]],[[o,s],[o+l,s]]]:[[[i,a],[h,p],[o,s]]]);if(Math.abs(u)>Math.abs(f)){f=Math.asin(-s/c),i=Math.abs(Math.cos(f)*c)*(o<0?-1:1);return N6(d?[[[i,s],[o,s]],[[o,s],[o+l,s]]]:[[[i,s],[o,s]]])}i=Math.acos(o/c),a=Math.abs(Math.sin(i)*c)*(s<0?-1:1);return N6(d?[[[o,a],[o,s]],[[o,s],[o+l,s]]]:[[[o,a],[o,s]]])}function N6(t){for(var e=[],n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++){var i=t[n][r][0],o=t[n][r][1];e.push((0===r?"M":"L")+i+","+o)}return e.join(" ")}function D6(t,e,n,r){var i=e[0],e=n[0],n=n[2];return!!r||0<e-i?1:e-i<-n?-1:0}function S6(t,e,n,r){var i=e[0]-t[0],o=e[1]-t[1],a=r[0]-n[0],s=r[1]-n[1],e=i*s-o*a;if(0==e)return 1/0;r=n[0]-t[0],t=n[1]-t[1],a=(r*s-t*a)/e;if(a<0||1<a)return 1/0;e=(r*o-t*i)/e;return e<0||1<e?1/0:a}j6.array=Mh,z6.align=D6;var I6=[0,0];function E6(t,e,n,r){var i=e[0],o=n[0],a=e[1],s=n[1],l=n[2],c=n[3],u=C6(0,e,n);if(o-i<0&&u<=0&&(o+=l/(2+u)),s<-c?s+=c:s<0&&(s+=c/2),"rect"===t){var f=-r.radius_x-r.radius_pad,d=-r.radius_y-r.radius_pad,h=+r.radius_x+r.radius_pad,p=+r.radius_y+r.radius_pad;if(e=[o,s],n=[0,0],l=I6,c=(u=[[f,d],[h,p]])[1][1],f=u[0][1],d=u[0][0],h=u[1][0],p=S6(e,n,[c,d],[c,h]),u=S6(e,n,[c,d],[f,d]),d=S6(e,n,[f,d],[f,h]),h=S6(e,n,[c,h],[f,h]),!(1/0<=(c=Math.min(p,u,d,h)))&&(l&&(l[0]=e[0]+(n[0]-e[0])*c,l[1]=e[1]+(n[1]-e[1])*c),1))return L6([[I6,[o,s]]])}if("circle"!==t&&"point"!==t||!r.radius)return L6([[[i,a],[o,s]]]);i=Math.sqrt(o*o+s*s),a=r.radius+r.radius_pad,r=a*s/i;return I6[0]=a*o/i,I6[1]=r,L6([[I6,[o,s]]])}function L6(t){for(var e=[],n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++){var i=t[n][r][0],o=t[n][r][1];e.push((0===r?"M":"L")+i+","+o)}return e.join(" ")}function C6(t,e,n,r){var i=e[0],e=n[0],n=n[2];return 0<=e-i?1:e-i<=-n?-1:0}function O6(t,e,n,r){var i=e[0],o=n[0],a=e[1],s=n[1],l=n[2],c=n[3],u=o-i,f=s-a,d=!!r.extend_line,h=R6(0,e,n,d);if(!d&&u<0&&0===h&&(u=(o+=l/2)-i),"rect"===t&&(e=r.radius_x+2*r.radius_pad,n=r.radius_y+2*r.radius_pad,f=s,a=(p=(u=o)<e&&-e<u+l)?(i=0,Math.sign(f)*n):(i=Math.sign(u)*e,0)),s<0&&(s+=c),i===l/2&&a===c/2&&(i=o,a=s),"rect"===t){if(p)return P6(d?[[[0,a],[0,s]],[[Math.min(o,0),s],[Math.max(0,o+l),s]]]:[[[0,a],[0,s]],[[0,s],[o,s]]]);var p=o<0?(i+o+l)/2:(i+o)/2;return P6(d?[[[i,a],[p,a],[p,s],[o,s]],[[o,s],[o+l,s]]]:[[[i,a],[p,a],[p,s],[-1===h?o+l:o,s]]])}if(u=o-i,f=s-a,"circle"!==t&&"point"!==t&&"none"!==t)throw new Error("Unexpected annotation type for getStep()");t=r.radius||0,f=Math.sqrt(u*u+f*f);f<t-r.radius_pad?t-=r.radius_pad:f>t+r.radius_pad&&(t+=r.radius_pad);f=1;if(Math.abs(o)>t&&(0<o||o<-t-l)){o<-t&&(f*=-1,o+=l);r=((i=t*(o<(a=0)?-1:1))+o)/2;return P6(d?[[[i,a],[r,a],[r,s],[o,s]],[[o,s],[o+l*f,s]]]:0===h?[[[i,a],[o,a],[o,s]]]:[[[i,a],[r,a],[r,s],[o,s]]])}return a=t*(s<0?-1:1),P6(d?[[[i,a],[i,s],[o,s]],[[o,s],[o+l*f,s]]]:-1===h?[[[i,a],[i,s],[o+l,s]]]:[[[i,a],[i,s],[o,s]]])}function P6(t){for(var e=[],n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++){var i=t[n][r][0],o=t[n][r][1];e.push((0===r?"M":"L")+i+","+o)}return e.join(" ")}function R6(t,e,n,r){var i=e[0],e=n[0],n=n[2];return!!r||0<e-i?1:e-i<-n?-1:0}E6.align=C6,O6.align=R6;var F6,Y6={polyline:z6,direct:E6,step:O6,none:function(){return""},popup:function(){return""}};function U6(t){var e=(t=t||window).innerWidth,t=t.innerHeight;return Math.sqrt(e*e+t*t)}var B6={},H6={arrowhead:function(t,e,n){return t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX","7.5").attr("refY","5").attr("markerWidth","5").attr("markerHeight","5").attr("orient","auto-start-reverse").attr("fill",n).append("path").attr("d","M 0 0 L 10 5 L 0 10 z")}};Object.keys(H6).forEach(function(t){return B6[t]={}});var Z6,G6,q6=Object.create?Object.create(null):{},Q6=function(){function a(t,e,n,r){var i,o=this;pa(this,a),this.id=t,this.state=e.view,this.parent=n,this.parent_svg=r,this.settings=e,this.selected=!1,this.editable=!1,this.active=!0,this.shouldUpdatePath=j6(this.pathDependencies().concat([function(){return o.state.content_offset[0]},function(){return o.state.content_offset[1]},function(){return o.settings.contents},function(){return o.settings.text_size},function(){return o.settings.label_width},function(){return o.settings.stroke_color},function(){return o.settings.connector_type},function(){return o.settings.subject_type},function(){return o.settings.line_marker},function(){return window.innerWidth},function(){return window.innerHeight},(i=!1,function(){return i||!(i=!0)})])),this.element=Ps(r).append("g").attr("data-annotation-id",this.id).attr("data-annotation-interactive",!0).classed("fl-annotations-node",!0).node(),this.el_path=Ps(this.element).append("path").style("stroke",this.settings.stroke_color).style("stroke-width",this.settings.stroke_width).style("fill","none").classed("fl-connector",!0),this.el_content=Ps(n).append("aside").attr("data-annotation-content","true").style("position","absolute").classed("fl-annotations-inline",!0),this.el_content_bg=this.el_content.append("span").style("position","absolute").classed("fl-label-bg",!0),this.el_content_fg=this.el_content.append("span").style("position","absolute").classed("fl-label-fg",!0),this.id&&(q6[this.id]=this),this._updateContents()}return _a(a,[{key:"pathDependencies",value:function(){return[]}},{key:"updatePath",value:function(t,e,n){var r=Y6[this.getConnectorType()],i="disabled"!==this.settings.connector_extend_line,o=r.align?r.align(this.type,t,e,i):1,o=o<0?"right":0<o?"left":"center";Object.assign(n,{extend_line:i});e=r(this.type,t,e,n);this.el_path.attr("d",e),this.el_path.attr("visibility",this._displayPath()?"visible":"hidden"),this.el_content_bg.style("text-align",o),this.el_content_fg.style("text-align",o);o=this.settings.stroke_color;this.el_path.style("stroke",this.settings.stroke_color).style("stroke-opacity",this.settings.stroke_opacity).style("stroke-width",n.connector_width||this.settings.stroke_width).style("stroke-linecap","square").style("stroke-dasharray",n.connector_dash?"4, 4":null).attr("marker-start",function(t,e){var n=B6[t];if(!n)return null;var r="marker-"+t+"-"+e.replace(/[^a-f0-9]/gi,"-").toLowerCase();return n[e]=n[e]||H6[t](F6,r,e),"url(#"+r+")"}(this.settings.line_marker,o))}},{key:"ofType",value:function(t){if(t===this.constructor)return this;var e=this.id,n=this.settings,r=this.parent,i=this.parent_svg;return this.destroy(),new t(e,n,r,i)}},{key:"type",get:function(){return String(this.constructor.name)}},{key:"onDragStart",value:function(t,e){return!0}},{key:"onDragMove",value:function(t,e){return!0}},{key:"onDragEnd",value:function(t,e){return!0}},{key:"update",value:function(){var t=this.getConnectorType(),e=this.state.origin[0],n=this.state.origin[1];Ps(this.element).attr("transform","translate(".concat(e," ").concat(n,")")).classed("fl-connector-popup","popup"==t).classed("fl-connector-line","polyline"==t||"step"==t),this._updateContents()}},{key:"_displayEditorInterface",value:function(){return this.editable&&this.active}},{key:"_displayPath",value:function(){var t=this.getConnectorType();return"none"!==t&&"popup"!==t&&this._displayContent()}},{key:"_displayContent",value:function(){return this.active&&"popup"!==this.getConnectorType()&&!this.popup_mobile_mode}},{key:"_updateContents",value:function(){this._displayContent()&&(this._updateContentsMarkup(),this._updateContentsDom())}},{key:"_updateContentsMarkup",value:function(){var t=$M(this.settings.contents);this.el_content_bg.html(t),this.el_content_fg.html(t)}},{key:"_updateContentsDom",value:function(){var t=U6(),e=this.state.content_offset[0]*t,n=this.state.content_offset[1]*t,r=this.state.origin[0],t=this.state.origin[1];this.el_content.style("left",r+e+"px").style("top",t+n+"px").style("width","100%").style("color",this.settings.text_color).style("visibility",this._displayContent()).style("font-size",this.settings.text_size+"rem").style("font-weight",this.settings.text_weight).style("line-height",this.settings.text_line_height+"em"),this.el_content_bg.style("-webkit-text-stroke-width",.15*this.settings.text_size+"rem").style("-webkit-text-stroke-color",this.settings.text_bg||"transparent").style("max-width",this.settings.label_width+"rem"),this.el_content_fg.style("max-width",this.settings.label_width+"rem")}},{key:"getPopupPosition",value:function(t){return[0,0]}},{key:"getConnectorType",value:function(){return"popup"==this.settings.device_visibility&&ZM()?"popup":this.settings.connector_type}},{key:"destroy",value:function(t){t&&t.stayInDOM||!this.element.parentNode||this.element.parentNode.removeChild(this.element),this.state=null,this.element=null,this.settings=null,delete q6[this.id]}},{key:"setSelected",value:function(t){return this.selected!==(t=!!t)&&((this.selected=t)?this.element.classList.add("selected"):this.element.classList.remove("selected"),!0)}},{key:"setActive",value:function(t){return this.active!==(t=!!t)&&(this.active=t,this.element.style.visibility=t?"visible":"hidden",this.el_content.style("visibility",this._displayContent()?"visible":"hidden"),this.el_path.attr("visibility",this._displayPath()?"visible":"hidden"),!0)}}]),a}();function W6(t){return window.innerWidth!==Z6&&(Z6=window.innerWidth,G6=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*G6}Q6.getByID=function(t){return q6[t]||null};var V6={circle:function(){ya(o,Q6);var i=wa(o);function o(t,e,n,r){pa(this,o);e=i.call(this,t,e,n,r),n=U6();return e.state.radius="radius"in e.state?e.state.radius:.05,e.el_content.attr("data-annotation-type","circle"),e.group=Ps(e.element).classed("fl-circle",!0),e.el_circle=e.group.append("circle").classed("main-circle",!0).attr("fill","none").attr("stroke",e.settings.stroke_color).attr("stroke-width",e.settings.stroke_width).attr("cx",0).attr("cy",0).style("opacity",0).attr("r",e.state.radius*n+10),e.el_circle.transition().style("opacity",1).attr("r",e.state.radius*n),e.el_notch_radius=e.group.append("circle").classed("fl-notch",!0).attr("r",8).attr("cx",e.state.radius*n),e.el_notch_origin=e.group.append("circle").classed("fl-notch",!0).attr("r",8),e.el_content.attr("data-annotation-id",e.id),e.svg=r,e._is_drag_custom=!1,e._drag_mode_offset=!1,e._drag_mode_radius=!1,e._drag_start=[0,0],e._drag_base_position=[0,0],e._has_run=!1,e.updatePath(e.state.content_offset[0],e.state.content_offset[1]),e}return _a(o,[{key:"type",get:function(){return"circle"}},{key:"pathDependencies",value:function(){var t=this;return[function(){return t.state.radius}]}},{key:"setActive",value:function(t){return!!Ma(va(o.prototype),"setActive",this).call(this,t)&&(this.updateNotchVisibility(),!0)}},{key:"onDragStart",value:function(t,e){var n=U6();return this._drag_mode_offset=!!bM(t.target,function(t){return t.hasAttribute&&t.hasAttribute("data-annotation-content")}),this._drag_mode_radius=t.target===this.el_notch_radius.node(),this._drag_start[0]=e[0],this._drag_start[1]=e[1],this._drag_base_position[0]=n*this.state.content_offset[0],this._drag_base_position[1]=n*this.state.content_offset[1],this._is_drag_custom=this._drag_mode_offset||this._drag_mode_radius,!this._is_drag_custom}},{key:"onDragMove",value:function(t,e){return!this._is_drag_custom||(this._drag_mode_radius?(r=e[0]-this.state.origin[0],n=e[1]-this.state.origin[1],r=Math.sqrt(r*r+n*n),this.state.radius=r/U6()):(n=e[0]-this._drag_start[0],r=e[1]-this._drag_start[1],e=U6(),this.state.content_offset[0]=(n+this._drag_base_position[0])/e,this.state.content_offset[1]=(r+this._drag_base_position[1])/e),this.update(),!1);var n,r}},{key:"onDragEnd",value:function(t,e){return this.onDragMove(t,e)}},{key:"update",value:function(){Ma(va(o.prototype),"update",this).call(this);var t=U6()*this.state.radius,e=this.settings.stroke_color;this.el_circle.style("opacity",1).attr("stroke",e).attr("stroke-opacity",this.settings.stroke_opacity).attr("stroke-width",this.settings.stroke_width).attr("fill",this.settings.subject_fill).attr("fill-opacity",this.settings.subject_fill_opacity).attr("r",t).interrupt(),this.el_notch_origin.attr("stroke",e),this.el_notch_radius.attr("stroke",e).attr("cx",t),this.updateNotchVisibility(),this.updatePath()}},{key:"updatePath",value:function(){var t=U6(),e=t*this.state.radius,n=t*this.state.content_offset[0],r=t*this.state.content_offset[1];this.shouldUpdatePath()&&(t=this.el_content_fg.node().getBoundingClientRect(),t=[n,r,Math.max(t.width,1),Math.max(t.height,1)],Ma(va(o.prototype),"updatePath",this).call(this,[0,0],t,{radius:e,radius_pad:5}))}},{key:"updateNotchVisibility",value:function(){var t=this._displayEditorInterface()?"visible":"hidden";this.el_notch_origin.style("visibility",t),this.el_notch_radius.style("visibility",t)}},{key:"getPopupPosition",value:function(t){var e=this.state.radius*U6();switch(t){case"left":return[-e,0];case"right":return[+e,0];case"top":return[0,-e];case"bottom":return[0,+e];default:return[0,0]}}},{key:"destroy",value:function(){var t=this.element,e=this.state.radius;Ma(va(o.prototype),"destroy",this).call(this,{stayInDOM:!0}),this.el_circle.transition().attr("r",e*U6()+10),this.el_content.remove(),this.group.transition().style("opacity",0).on("end",function(){return Ps(t).remove()})}}]),o}(),point:function(){ya(o,Q6);var i=wa(o);function o(t,e,n,r){return pa(this,o),(n=i.call(this,t,e,n,r)).el_content.attr("data-annotation-type","point"),n.group=Ps(n.element).classed("fl-point",!0),n.el_circle=n.group.append("circle").classed("main-point",!0).attr("cx",0).attr("cy",0).attr("r",0),n.el_circle.transition().attr("r",W6(n.settings.point_radius)),n.el_notch_circle=n.group.append("circle").attr("cx",0).attr("cy",0).classed("fl-notch",!0).attr("r",0),n.el_notch_circle.transition().attr("r",W6(n.settings.point_radius)+3),n.el_label=n.group.append("text"),n.el_content.attr("data-annotation-id",n.id),n.svg=r,n._drag_offset=!1,n._drag_offset_start=[0,0],n._drag_offset_base_position=[0,0],n}return _a(o,[{key:"type",get:function(){return"point"}},{key:"setActive",value:function(t){return!!Ma(va(o.prototype),"setActive",this).call(this,t)&&(this.el_notch_circle.attr("visibility",this._displayEditorInterface()?"visible":"hidden"),!0)}},{key:"onDragStart",value:function(t,e){var n=U6();return this._drag_offset=!!bM(t.target,function(t){return t.hasAttribute&&t.hasAttribute("data-annotation-content")}),this._drag_offset_start[0]=e[0],this._drag_offset_start[1]=e[1],this._drag_offset_base_position[0]=n*this.state.content_offset[0],this._drag_offset_base_position[1]=n*this.state.content_offset[1],!this._drag_offset}},{key:"onDragMove",value:function(t,e){if(!this._drag_offset)return!0;var n=e[0]-this._drag_offset_start[0],r=e[1]-this._drag_offset_start[1],e=U6();return this.state.content_offset[0]=(n+this._drag_offset_base_position[0])/e,this.state.content_offset[1]=(r+this._drag_offset_base_position[1])/e,this.update(),!1}},{key:"onDragEnd",value:function(t,e){return this.onDragMove(t,e)}},{key:"update",value:function(){Ma(va(o.prototype),"update",this).call(this),this.el_circle.style("opacity",1).style("fill",this.settings.subject_fill).transition().attr("r",W6(this.settings.point_radius)),this.el_label.text(this.settings.point_text).style("font-size",Math.min(W6(this.settings.text_size),1.15*W6(this.settings.point_radius))).style("fill",this.settings.point_text_color),this.el_notch_circle.attr("visibility",this._displayEditorInterface()?"visible":"hidden").attr("stroke",this.settings.stroke_color).attr("r",W6(this.settings.point_radius)+3),this.updatePath()}},{key:"updatePath",value:function(){var t=U6(),e=W6(this.settings.point_radius),n=this.state.content_offset[0]*t,r=this.state.content_offset[1]*t;this.shouldUpdatePath()&&(t=this.el_content_fg.node().getBoundingClientRect(),t=[n,r,Math.max(t.width,1),Math.max(t.height,1)],Ma(va(o.prototype),"updatePath",this).call(this,[0,0],t,{radius:e,radius_pad:5}))}},{key:"getPopupPosition",value:function(t){var e=W6(this.settings.point_radius);switch(t){case"left":return[-e,0];case"right":return[+e,0];case"top":return[0,-e];case"bottom":return[0,+e];default:return[0,0]}}},{key:"destroy",value:function(){var t=this.element;Ma(va(o.prototype),"destroy",this).call(this,{stayInDOM:!0}),this.el_circle.transition().attr("r",0),this.el_notch_circle.transition().attr("r",0),this.el_content.style("opacity",1).transition().style("opacity",0).remove(),this.group.style("opacity",1).transition().style("opacity",0).on("end",function(){return Ps(t).remove()})}}]),o}(),none:function(){ya(s,Q6);var i=wa(s);function s(t,e,n,r){return pa(this,s),(n=i.call(this,t,e,n,r)).el_content.attr("data-annotation-type","none"),n.group=Ps(n.element).classed("fl-point",!0),n.el_notch_origin=n.group.append("circle").attr("cx",0).attr("cy",0).classed("fl-notch",!0).attr("r",0),n.el_notch_origin.transition().attr("r",8),n.el_label=n.group.append("text"),n.el_content.attr("data-annotation-id",n.id),n.svg=r,n._drag_offset=!1,n._drag_offset_start=[0,0],n._drag_offset_base_position=[0,0],n}return _a(s,[{key:"type",get:function(){return"point"}},{key:"setActive",value:function(t){return!!Ma(va(s.prototype),"setActive",this).call(this,t)&&(this.el_notch_origin.attr("visibility",this._displayEditorInterface()?"visible":"hidden"),!0)}},{key:"_displayEditorInterface",value:function(){return this.editable&&this.active}},{key:"_displayPath",value:function(){return(this._displayEditorInterface()||"none"!==Ma(va(s.prototype),"getConnectorType",this).call(this))&&this._displayContent()}},{key:"_displayContent",value:function(){return this.active&&"popup"!==this.getConnectorType()&&!this.popup_mobile_mode}},{key:"onDragStart",value:function(t,e){var n=U6();return this._drag_offset=!!bM(t.target,function(t){return t.hasAttribute&&t.hasAttribute("data-annotation-content")}),this._drag_offset_start[0]=e[0],this._drag_offset_start[1]=e[1],this._drag_offset_base_position[0]=n*this.state.content_offset[0],this._drag_offset_base_position[1]=n*this.state.content_offset[1],!this._drag_offset}},{key:"onDragMove",value:function(t,e){if(!this._drag_offset)return!0;var n=e[0]-this._drag_offset_start[0],r=e[1]-this._drag_offset_start[1],e=U6();return this.state.content_offset[0]=(n+this._drag_offset_base_position[0])/e,this.state.content_offset[1]=(r+this._drag_offset_base_position[1])/e,this.update(),!1}},{key:"onDragEnd",value:function(t,e){return this.onDragMove(t,e)}},{key:"update",value:function(){Ma(va(s.prototype),"update",this).call(this),this.el_label.text(this.settings.point_text).style("font-size",Math.min(W6(this.settings.text_size),1.15*W6(this.settings.point_radius))).style("fill",this.settings.point_text_color),this.el_notch_origin.attr("visibility",this._displayEditorInterface()?"visible":"hidden").attr("stroke",this.settings.stroke_color).attr("r",8),this.updatePath()}},{key:"getConnectorType",value:function(){var t=Ma(va(s.prototype),"getConnectorType",this).call(this);return"none"===t?"direct":t}},{key:"pathDependencies",value:function(){var t=this;return[function(){return t.editable},function(){return t.active},function(){return Ma(va(s.prototype),"getConnectorType",t).call(t)}]}},{key:"updatePath",value:function(){var t="none"===Ma(va(s.prototype),"getConnectorType",this).call(this),e=t?1:this.settings.stroke_width,n=U6(),r=t?8:0,i=t?5:0,o=this.state.content_offset[0]*n,a=this.state.content_offset[1]*n;this.shouldUpdatePath()&&(n=this.el_content_fg.node().getBoundingClientRect(),n=[o,a,Math.max(n.width,1),Math.max(n.height,1)],Ma(va(s.prototype),"updatePath",this).call(this,[0,0],n,{radius:r,radius_pad:i,connector_dash:t,connector_width:e}))}},{key:"getPopupPosition",value:function(t){var e=W6(this.settings.point_radius);switch(t){case"left":return[-e,0];case"right":return[+e,0];case"top":return[0,-e];case"bottom":return[0,+e];default:return[0,0]}}},{key:"destroy",value:function(){var t=this.element;Ma(va(s.prototype),"destroy",this).call(this,{stayInDOM:!0}),this.el_notch_origin.transition().attr("r",0),this.el_content.style("opacity",1).transition().style("opacity",0).remove(),this.group.style("opacity",1).transition().style("opacity",0).on("end",function(){return Ps(t).remove()})}}]),s}(),box:function(){ya(a,Q6);var i=wa(a);function a(t,e,n,r){pa(this,a);e=i.call(this,t,e,n,r),n=U6();return e.state.radius_x="radius_x"in e.state?e.state.radius_x:.05,e.state.radius_y="radius_y"in e.state?e.state.radius_y:.05,e.el_content.attr("data-annotation-type","box"),e.group=Ps(e.element).classed("fl-circle",!0),e.el_box=e.group.append("rect").classed("main-circle",!0).attr("fill","none").attr("stroke","#000").attr("stroke-opacity",e.settings.stroke_color_opacity).attr("stroke-width",e.settings.stroke_width).attr("x",-e.state.radius_x*n+10).attr("y",-e.state.radius_y*n+10).style("opacity",0).attr("width",2*(e.state.radius_x*n+10)).attr("height",2*(e.state.radius_y*n+10)),e.el_box.transition().style("opacity",1).attr("width",e.state.radius_x*n).attr("height",e.state.radius_y*n),e.el_notch_radius_x=e.group.append("circle").classed("fl-notch",!0).attr("r",8).attr("cx",e.state.radius_x*n),e.el_notch_radius_y=e.group.append("circle").classed("fl-notch",!0).attr("r",8).attr("cy",e.state.radius_y*n),e.el_notch_origin=e.group.append("circle").classed("fl-notch",!0).attr("r",8),e.el_content.attr("data-annotation-id",e.id),e.svg=r,e._is_drag_custom=!1,e._drag_mode_offset=!1,e._drag_mode_radius_x=!1,e._drag_mode_radius_y=!1,e._drag_start=[0,0],e._drag_base_position=[0,0],e._has_run=!1,e.updatePath(),e}return _a(a,[{key:"type",get:function(){return"rect"}},{key:"pathDependencies",value:function(){var t=this;return[function(){return t.state.radius_x},function(){return t.state.radius_y}]}},{key:"setActive",value:function(t){return!!Ma(va(a.prototype),"setActive",this).call(this,t)&&(this.updateNotchVisibility(),!0)}},{key:"onDragStart",value:function(t,e){var n=U6();return this._drag_mode_offset=!!bM(t.target,function(t){return t.hasAttribute&&t.hasAttribute("data-annotation-content")}),this._drag_mode_radius_x=t.target===this.el_notch_radius_x.node(),this._drag_mode_radius_y=t.target===this.el_notch_radius_y.node(),this._drag_start[0]=e[0],this._drag_start[1]=e[1],this._drag_base_position[0]=n*this.state.content_offset[0],this._drag_base_position[1]=n*this.state.content_offset[1],this._is_drag_custom=this._drag_mode_offset||this._drag_mode_radius_x||this._drag_mode_radius_y,!this._is_drag_custom}},{key:"onDragMove",value:function(t,e){if(!this._is_drag_custom)return!0;var n,r,i=U6();return this._drag_mode_radius_x?(n=e[0]-this.state.origin[0],this.state.radius_x=Math.abs(n/U6())):this._drag_mode_radius_y?(r=e[1]-this.state.origin[1],this.state.radius_y=Math.abs(r/U6())):(r=e[0]-this._drag_start[0],e=e[1]-this._drag_start[1],this.state.content_offset[0]=(r+this._drag_base_position[0])/i,this.state.content_offset[1]=(e+this._drag_base_position[1])/i),this.update(),!1}},{key:"onDragEnd",value:function(t,e){return this.onDragMove(t,e)}},{key:"updateNotchVisibility",value:function(){var t=this._displayEditorInterface()?"visible":"hidden";this.el_notch_origin.style("visibility",t),this.el_notch_radius_x.style("visibility",t),this.el_notch_radius_y.style("visibility",t)}},{key:"update",value:function(){Ma(va(a.prototype),"update",this).call(this);var t=U6(),e=t*this.state.radius_x,n=t*this.state.radius_y,t=this.settings.stroke_color;this.el_box.style("opacity",1).attr("stroke",t).attr("stroke-opacity",this.settings.stroke_opacity).attr("stroke-width",this.settings.stroke_width).attr("fill",this.settings.subject_fill).attr("fill-opacity",this.settings.subject_fill_opacity).attr("x",-e).attr("y",-n).attr("width",2*e).attr("height",2*n).interrupt(),this.el_notch_origin.attr("stroke",t),this.el_notch_radius_x.attr("stroke",t).attr("cx",e),this.el_notch_radius_y.attr("stroke",t).attr("cy",n),this.updateNotchVisibility(),this.updatePath()}},{key:"updatePath",value:function(){var t,e=U6(),n=e*this.state.radius_x,r=e*this.state.radius_y,i=this.state.content_offset[0]*e,o=this.state.content_offset[1]*e;this.shouldUpdatePath()&&(t=this.el_content_fg.node().getBoundingClientRect(),e=[-n-5,-r-5],t=[i,o,Math.max(t.width,1),Math.max(t.height,1)],Ma(va(a.prototype),"updatePath",this).call(this,e,t,{radius_x:n,radius_y:r,radius_pad:5}))}},{key:"getPopupPosition",value:function(t){var e=this.state.radius_x*U6(),n=this.state.radius_y*U6();switch(t){case"left":return[-e,0];case"right":return[+e,0];case"top":return[0,-n];case"bottom":return[0,+n];default:return[0,0]}}},{key:"destroy",value:function(){var t=this.element,e=this.state,n=e.radius_x,e=e.radius_y;Ma(va(a.prototype),"destroy",this).call(this,{stayInDOM:!0}),this.el_box.transition().attr("width",n*U6()+10).attr("height",e*U6()+10),this.el_content.remove(),this.group.transition().style("opacity",0).on("end",function(){return Ps(t).remove()})}}]),a}()},X6=document.createElement("img");X6.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";var $6={dropdown:function(t,e){for(var n=0;n<e.choices.length;n++){var r,i,o,a=e.choices[n][0],s=e.choices[n][1];"buttons"==e.style?(t.classed("buttons-container",!0),t.append("input").attr("type","radio").attr("name",e.property).attr("id","".concat(e.property,"-").concat(n)).attr("value",s).on("change",function(){t.node().value=zs.target.value}),r=t.append("label").attr("for","".concat(e.property,"-").concat(n)),i=a.match(/fa-(\S*)/g),o=a.match(/^data:image\/(svg|svg\+xml|png|jpg)(?:;base64)?,.+$/),i?r.append("i").attr("class","fa "+i[0]):o?r.append("img").attr("src",a):r.text(a)):t.append("option").attr("value",s).text(a)}},color:function(t,e,n){var r=Ps(t.node().parentNode).append("div").classed("color-picker",!0);null!=n&&r.append("button").classed("cancel-setting",!0).html('<svg><path stroke="#252525" stroke-width="2" fill="none" fill-rule="evenodd" stroke-linecap="square" d="M1.45012627,1.45012627 L6.39987373,6.39987373 M1.45012627,6.39987373 L6.39987373,1.44987373" transform="translate(3.925000, 3.924874) rotate(-270.000000) translate(-3.925000, -3.924874) "></path></svg>').on("click",function(){Ps(this.parentNode).classed("is-null",!0),n()}),r.append("div",function(){return t.node()}).classed("color-wrapper",!0).append(function(){return t.node()}).attr("type","color").on("change",function(){t.node().value=this.value,Ps(this.parentNode.parentNode).classed("is-null",!1)}).on("focus",function(){Ps(this.parentNode.parentNode).classed("active",!0)}).on("blur",function(){Ps(this.parentNode.parentNode).classed("active",!1)})},number:function(t,e){t.attr("type","number"),null!=e.min&&t.attr("min",e.min),null!=e.max&&t.attr("max",e.max),e.step&&t.attr("step",e.step)},boolean:function(t,e){t.attr("type","checkbox"),Ps(t.node().parentNode).append("label").classed("slide",!0).attr("for","setting-"+e.property)},code:function(t){t.attr("type","text"),t.attr("wrap","off"),t.on("keydown.tab",function(t){9===t.keyCode&&(t.altKey||t.metaKey||t.ctrlKey||t.shiftKey||(t.preventDefault(),t=this.selectionStart,this.value=this.value.substring(0,t)+"\t"+this.value.substring(this.selectionEnd),this.selectionEnd=t+1))})}};function J6(t,s,f){var e;(e=s).forEach(function(t){var n;t.show_if&&"function"!=typeof t.show_if&&(n=t.show_if,t.show_if=function(t){for(var e in n)if(Array.isArray(n[e])){if(-1===n[e].indexOf(t[e]))return!1}else if(n[e]!=t[e])return!1;return!0})});var d=null,h={},p={},n=null,r=null,g="{}",_=(s=e).reduce(function(t,e){return t[e.property]=e,t},{}),i=Ps(t).append("div").classed("fl-project-editor",!0),l=i.append("div").classed("side-panel",!0).append("div").classed("side-panel-inner",!0);function c(){if(d){for(var t in p)"color"===p[t].type&&Ps(p[t].parentNode.parentNode).classed("is-null")?d[t]=null:d[t]=p[t].value;a()}}return o(),l.node().addEventListener("change",c,!1),l.node().addEventListener("keyup",c,!1),l.node().addEventListener("paste",c,!1),{container:l.node(),root:i.node(),update:o,render:a,setActive:function(t){n!==(t=!!t)&&(n=t,i.classed("active-annotation",n))},setVisible:function(t){r!==(t=!!t)&&(r=t,i.style("display",r?"block":"none"),(t=window.document.createEvent("UIEvents")).initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t))}};function o(){p={},h={},l.html("");var t=l.append("div").attr("class","fl-annotation-settings");t.append("p").attr("class","empty-annotation-message").text("Select an annotation or create a new annotation by clicking anywhere in the visualisation");for(var e=null,n=null,r=0,i=0;i<s.length;i++){var o,a=s[i];"string"!=typeof a?("object"!==Zs(a)||e||n||(r++,n=t.append("div").classed("toplevel-settings-block",!0)),"hidden"!==a.type&&(o=e||n,a.new_section&&(o.append("div").classed("settings-divider",!0),"string"==typeof a.new_section&&o.append("h3").classed("settings-subhead",!0).text(a.new_section)),o=function(t,e){var n=e.choices&&("buttons"===e.style||"boolean"===e.type),r="color"===e.type&&!!e.optional;t.classed("settings-option",!0).classed("option-type-"+e.type,!0).classed("settings-buttons",n);var i=t.append("label").attr("for","setting-"+e.property).classed("hidden",null===e.name).append("h3").text(e.name).classed("no-select",!0);e.description&&i.append("i").attr("class","fl-annotations-desc help-tip").style("font-family","FontAwesome, 'Font Awesome 5 Free'").attr("data-popup-body",e.description.replace(/\[\[/g,"").replace(/\]\]/g,"")).attr("data-popup-position","top");e.width&&t.classed("width-"+e.width.replace(/ /g,"-"),!0);i="input";e.choices?i=n?"div":"select":"text"!==e.type&&"code"!==e.type||(i="textarea");{var o;"code"===e.type&&(o=!1,t.append("i").attr("class","popup fa fa-reply clickable wrap-control").attr("data-popup-body","Wrap/unwrap text").attr("data-popup-position","top").on("click",function(){o=!o,Ps(this.parentNode).select("textarea").attr("wrap",o?null:"off"),Ps(this).classed("selected",o)}))}t=t.append(i).attr("id","setting-"+e.property).attr("name",e.property),i=e.choices?$6.dropdown:$6[e.type];i?r?i(t,e,c):i(t,e):t.attr("type","text");e.placeholder&&t.attr("placeholder",e.placeholder);e.size&&t.classed("size-"+e.size);return t.node()}(o.append("div"),a),p[a.property]=o,h[a.property]=bM(o,function(t){return t.classList.contains("settings-option")}))):(n=null,(e=t.append("div").classed("settings-block",!0).classed("open",r<1)).append("h2").classed("no-select",!0).attr("tabindex","0").text(a).on("click",u).on("keyup",function(){13===zs.keyCode&&u.call(this)}),"State documentation"===a&&e.style("display","none"),r++)}}function u(){this.parentNode.classList.toggle("open")}function a(t){if(t!==d||JSON.stringify(d)!==g){for(var e in t&&(d=t),g=JSON.stringify(d),p){var n=p[e],r=_[e];if("buttons"==r.style&&d[e])for(var i=n.querySelectorAll("input[type=radio]"),o=n.querySelectorAll("label[for]"),a=r.choices,s=0;s<i.length;s++){var l=i[s],c=o[s],u=l.value==d[e];l.checked=u,a[s][2]&&(a[s][2](d)?c.style.display=null:c.style.display="none")}n.value=d[e],r.optional&&"color"===r.type&&(null===d[e]?n.parentNode.parentNode.classList.add("is-null"):n.parentNode.parentNode.classList.remove("is-null")),r.show_if&&(r.show_if(d)?h[e].classList.remove("hidden"):h[e].classList.add("hidden"))}f()}}}var K6={show_popups:!0,show_pointer:!0,show_shadow:!0,style_popups:!1,max_width:20,align:"left",fill_color:"#ffffff",opacity:1,padding:1,border_radius:3,text_color:"#333333",text_size:1,is_custom:!1};function t8(t){if("number"!=typeof t)return t;var e=Math.round(t*Math.pow(10,2))/100;return 4==Math.round(t).toString().length?e:Bf(",")(e)}function e8(t,e,n,r){for(var i in this._state=e,this._default_template=n,this._first_load=!0,this._title_binding=r||"id",K6)null==e[i]&&(e[i]=K6[i]);document.querySelector("#popup-styles")||((r=document.createElement("style")).id="popup-styles",r.type="text/css",r.innerHTML=".flourish-popup { pointer-events: none; }.flourish-popup .flourish-popup-content { pointer-events: auto; }.flourish-popup h1 { margin: 0; font-size: inherit; }.flourish-popup h2 { font-weight: normal; font-size: inherit; margin: 0; }.flourish-popup h2 .name { font-weight: bold; }.flourish-popup ul { padding: 0; margin: 0; }.flourish-popup li { font-size: inherit; list-style: none; }",document.head.appendChild(r)),this.popup=O4().container(t).point(0,0).draw().hide()}e8.prototype.addColumnNames=function(t){if(this._column_names=t,!this._state.custom_template&&this._first_load){for(var e in this._column_names)if(!Array.isArray(this._column_names[e])){e=this._column_names[e];this._state.custom_template=e+": {{"+e+"}}";break}this._first_load=!1}return this},e8.prototype.hide=function(){return this.popup.hide(),this},e8.prototype.point=function(t,e){var n;return 1==arguments.length&&(t=(n=t.getBoundingClientRect()).left+n.width/2,e=n.top),this.popup.point(t,e),this},e8.prototype.html=function(t){return void 0===t?this.html_content:(this.popup.html(t),this)},e8.prototype.updateStyle=function(){var t=this.popup._getElement(),e=t.querySelector(".flourish-popup-content");e.style.padding=this._state.padding+"rem",e.style.textAlign=this._state.align;t=t.querySelector(".flourish-popup-svg g");return t.style.fill=this._state.fill_color,t.style.opacity=this._state.opacity,0==this._state.show_shadow?t.removeAttribute("filter"):t.setAttribute("filter","url(#dropshadow-"+this.popup.unique_id+")"),t.querySelector("rect").setAttribute("rx",this._state.border_radius),t.querySelector("path").style.display=this._state.show_pointer?"block":"none",this},e8.prototype.draw=function(i,t){if(this._state.show_popups){var o=this;if(this.updateStyle(),!arguments.length)return this.popup.draw(),t&&t(this.popup._getElement()),this;if(this.html_content="<div style='color: "+this._state.text_color+"; font-size: "+this._state.text_size+"rem; text-align:"+this._state.align+"; max-width:"+this._state.max_width+"rem;'>",this._state.is_custom||this._default_template)!this._state.is_custom&&this._default_template?this.html_content+=this._default_template.replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,function(t,n){var r;if(Array.isArray(o._column_names[n])){var e=o._column_names[n];if(0==e.length)return"";r="<ul>",e.forEach(function(t,e){r+="<li>"+t+": "+i[n][e]+"</li>"}),r+="</ul>"}else r=i[n];return void 0!==r?t8(r):""}):this.html_content+=this._state.custom_template.replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,function(t,n){var r;return Object.keys(o._column_names).some(function(t){if(Array.isArray(o._column_names[t])){var e=o._column_names[t].indexOf(n);if(0<=e)return r=i[t][e],!0}else if(o._column_names[t]==n)return r=i[t],!0}),void 0!==r?t8(r):""});else{i[this._title_binding]&&(this.html_content+="<h1>"+i[this._title_binding]+"</h1>");var n,e,r={};for(n in this._column_names)if(n!=this._title_binding)if("metadata"==n){if(!Array.isArray(i.metadata))return;for(var a=0;a<i.metadata.length;a++)r[e=this._column_names.metadata[a]]||(r[e]=!0,this.html_content+="<h2><span class='name' data-binding='metadata'>"+e+"</span>: "+t8(i.metadata[a])+"</h2>")}else e=this._column_names[n],Array.isArray(e)?e.forEach(function(t,e){o.html_content+="<h2><span class='name' data-binding='"+n+"'>"+t+"</span>: "+t8(i[n][e])+"</h2>"}):r[e]||(r[e]=!0,this.html_content+="<h2><span class='name' data-binding='"+n+"'>"+e+"</span>: "+t8(i[n])+"</h2>");this.html_content+="</div>"}return this.popup.html(this.html_content).draw(),t&&t(this.popup._getElement()),this}},e8.prototype.directions=function(t){return this.popup.directions(t),this},e8.prototype.container=function(t){return this.popup.container(t),this};var n8,r8="{{html}}",i8={};function o8(){var t,e;t=document.body,(n8=new e8(t,i8,r8,e)).addColumnNames({html:""})}var a8=!window.Flourish||("sdk"===window.Flourish.environment||"story_editor"===window.Flourish.environment)&&!window.Flourish.is_read_only,s8=function(){function e(t){pa(this,e),this.mode="DEFAULT",this.pos=[0,0],this.flag_editing=!1,this.flag_inside_settings_panel=!1,this.flag_inside_add_button=!1,this.flag_over_annotation_node=!1,this.flag_can_place=!1,this.body=Ps(document.body),this.cursor_outline=l8(t).classed("inner-outline",!0),this.cursor_element=l8(t)}return _a(e,[{key:"update",value:function(){var t=this.getMode(),e=this.mode;this.mode=t;var n="CUSTOM_ADD"===this.mode,r="CUSTOM_DISABLED"===this.mode,r=n||r;r&&(this.cursor_outline.style("transform","translate(".concat(this.pos[0],"px, ").concat(this.pos[1],"px)")),this.cursor_element.style("transform","translate(".concat(this.pos[0],"px, ").concat(this.pos[1],"px)"))),t!==e&&(this.cursor_element.classed("is-valid",n),this.cursor_outline.classed("is-valid",n),this.body.classed("fl-cursor-custom",r),this.body.classed("fl-cursor-pointer","POINTER"===this.mode),this.body.classed("fl-cursor-default","DEFAULT"===this.mode))}},{key:"getMode",value:function(){return!this.flag_inside_settings_panel&&!this.flag_inside_add_button&&this.flag_editing?this.flag_over_annotation_node?"POINTER":this.flag_can_place?"CUSTOM_ADD":"CUSTOM_DISABLED":"DEFAULT"}}]),e}();function l8(t){t=Ps(t).append("g").classed("fl-annotations-cursor",!0);return t.append("circle").attr("r",16),t.append("line").attr("x1",-6).attr("x2",6),t.append("line").attr("y1",-6).attr("y2",6),t}var s=[{property:"text_weight",type:"string",name:"Weight",width:"quarter",style:"buttons",choices:[["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iN3B4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCA3IDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA2My4xICg5MjQ1MikgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+bm9ybWFsPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9Im5vcm1hbCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTEuMTA1OTQ3OTYsMTkgTDEuOTI1NjUwNTYsMTYuNTYwOTc1NiBMNS4wMzUzMTU5OSwxNi41NjA5NzU2IEw1Ljg0MjAwNzQzLDE5IEw3LDE5IEw0LjExMTUyNDE2LDExIEwyLjg4ODQ3NTg0LDExIEwwLDE5IEwxLjEwNTk0Nzk2LDE5IFogTTQuNzYyMDgxNzgsMTUuNzQzOTAyNCBMMi4xOTg4ODQ3NiwxNS43NDM5MDI0IEwyLjYwMjIzMDQ4LDE0LjUyNDM5MDIgQzIuNzU4MzY0MzEsMTQuMDc3MjM1OCAyLjkwNTgyNDA0LDEzLjYzMjExMzggMy4wNDQ2MDk2NywxMy4xODkwMjQ0IEMzLjE4MzM5NTI5LDEyLjc0NTkzNSAzLjMxNzg0Mzg3LDEyLjI5MjY4MjkgMy40NDc5NTUzOSwxMS44MjkyNjgzIEwzLjQ0Nzk1NTM5LDExLjgyOTI2ODMgTDMuNSwxMS44MjkyNjgzIEMzLjYzODc4NTYzLDEyLjI5MjY4MjkgMy43Nzc1NzEyNSwxMi43NDU5MzUgMy45MTYzNTY4OCwxMy4xODkwMjQ0IEM0LjA1NTE0MjUsMTMuNjMyMTEzOCA0LjIwMjYwMjIzLDE0LjA3NzIzNTggNC4zNTg3MzYwNiwxNC41MjQzOTAyIEw0LjM1ODczNjA2LDE0LjUyNDM5MDIgTDQuNzYyMDgxNzgsMTUuNzQzOTAyNCBaIiBpZD0iQSIgZmlsbD0iIzMzMzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==","normal"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iOHB4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCA4IDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA2My4xICg5MjQ1MikgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+Ym9sZDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJib2xkIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNMi4zMzExMjU4MywxOSBMMi43NTQ5NjY4OSwxNy4wODkyMzA4IEw1LjE2NTU2MjkxLDE3LjA4OTIzMDggTDUuNTg5NDAzOTcsMTkgTDgsMTkgTDUuMzc3NDgzNDQsMTAgTDIuNjIyNTE2NTYsMTAgTDAsMTkgTDIuMzMxMTI1ODMsMTkgWiBNNC43NTQ5NjY4OSwxNS4yNDc2OTIzIEwzLjE2NTU2MjkxLDE1LjI0NzY5MjMgTDMuMzExMjU4MjgsMTQuNjI0NjE1NCBDMy40MTcyMTg1NCwxNC4xOTA3NjkyIDMuNTIwOTcxMywxMy43MjIzMDc3IDMuNjIyNTE2NTYsMTMuMjE5MjMwOCBDMy43MjQwNjE4MSwxMi43MTYxNTM4IDMuODIzMzk5NTYsMTIuMjMzODQ2MiAzLjkyMDUyOTgsMTEuNzcyMzA3NyBMMy45MjA1Mjk4LDExLjc3MjMwNzcgTDMuOTczNTA5OTMsMTEuNzcyMzA3NyBDNC4wNzk0NzAyLDEyLjIyNDYxNTQgNC4xODU0MzA0NiwxMi43MDQ2MTU0IDQuMjkxMzkwNzMsMTMuMjEyMzA3NyBDNC4zOTczNTA5OSwxMy43MiA0LjUwMzMxMTI2LDE0LjE5MDc2OTIgNC42MDkyNzE1MiwxNC42MjQ2MTU0IEw0LjYwOTI3MTUyLDE0LjYyNDYxNTQgTDQuNzU0OTY2ODksMTUuMjQ3NjkyMyBaIiBpZD0iQSIgZmlsbD0iIzMzMzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==","bold"]]},{property:"text_size",type:"number",name:"Text size",width:"quarter",step:.1},{property:"label_width",step:1,min:2,max:20,type:"number",name:"Max text width",show_if:{connector_type:["none","polyline","step","direct"]}},{property:"line_marker",type:"string",width:"half",name:"Line marker",style:"buttons",show_if:{connector_type:["polyline","step","direct"]},choices:[["None","none"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTJweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTIgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5jaXJjbGUgY29weSAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9ImNpcmNsZS1jb3B5LTMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNS4wMDAwMDAsIDEzLjAwMDAwMCkgcm90YXRlKC00NS4wMDAwMDApIHRyYW5zbGF0ZSgtNS4wMDAwMDAsIC0xMy4wMDAwMDApIHRyYW5zbGF0ZSgxLjAwMDAwMCwgNi4wMDAwMDApIj4KICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlRyaWFuZ2xlIiBmaWxsPSIjMzMzMzMzIiBwb2ludHM9IjQgMCA4IDggMCA4Ij48L3BvbHlnb24+CiAgICAgICAgICAgIDxsaW5lIHgxPSI0IiB5MT0iOCIgeDI9IjQiIHkyPSIxNCIgaWQ9IlBhdGgtMiIgc3Ryb2tlPSIjMzMzMzMzIiBvcGFjaXR5PSIwLjIwMDAwMDAwMyIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSI+PC9saW5lPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+","arrowhead"]]},{property:"connector_extend_line",type:"string",width:"half",name:"Extend line",style:"buttons",show_if:{connector_type:["polyline","step"]},choices:[["Enable","enabled"],["Disable","disabled"]]},{property:"stroke_width",step:.25,min:0,max:4,type:"number",width:"half",name:"Stroke width",show_if:function(t){return u8(t)||"point"!==t.subject_type&&"none"!==t.subject_type}},{property:"text_line_height",name:"Line height",type:"number",width:"half",step:.05,min:.5,max:3},{property:"popup_position",type:"string",width:"three quarters",name:"Popup position",show_if:{connector_type:"popup"},choices:[["Center","center"],["Left","left"],["Right","right"],["Top","top"],["Bottom","bottom"]]},{new_section:"Colors",property:"text_color",type:"color",name:"Text",width:"quarter"},{property:"text_bg",type:"color",name:"Text Outline",width:"quarter",show_if:{connector_type:["none","polyline","step","direct"]},optional:!0},{property:"point_text_color",type:"color",name:"Label",width:"quarter",show_if:{subject_type:"point"}},{property:"popup_bg",type:"color",width:"quarter",name:"Popup",show_if:{connector_type:"popup"}},{property:"stroke_color",type:"color",name:"Stroke",width:"quarter",show_if:function(t){return u8(t)||"point"!==t.subject_type&&"none"!==t.subject_type}},{property:"subject_fill",type:"color",name:"Fill",width:"quarter",show_if:{subject_type:["point","circle","box"]}},{property:"subject_fill_opacity",step:.01,min:0,max:1,type:"number",width:"quarter",name:"Fill opacity",show_if:{subject_type:["circle","box"]}}],c8=[{property:"contents",type:"text",name:"Annotation text"},{property:"device_visibility",type:"text",name:"Show",description:"Choose between Always, Desktop, Mobile or Popup on mobile",style:"buttons",choices:[["Always","all"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTlweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTkgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5BcnRib2FyZDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJBcnRib2FyZCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTEyLjAzMzMzMzMsMjMgQzEyLjIwNDg2MTEsMjMgMTIuMzUzMjk4NiwyMi45MzUyOTY1IDEyLjQ3ODY0NTgsMjIuODA1ODg5NCBDMTIuNjAzOTkzMSwyMi42NzY0ODI0IDEyLjY2NjY2NjcsMjIuNTIzMjM3MiAxMi42NjY2NjY3LDIyLjM0NjE1MzggQzEyLjY2NjY2NjcsMjIuMjU3NjEyMiAxMi42MTM4ODg5LDIyLjEwOTQ3NTIgMTIuNTA4MzMzMywyMS45MDE3NDI4IEMxMi40MDI3Nzc4LDIxLjY5NDAxMDQgMTIuMjk3MjIyMiwyMS40NTIyMjM2IDEyLjE5MTY2NjcsMjEuMTc2MzgyMiBDMTIuMDg2MTExMSwyMC45MDA1NDA5IDEyLjAzMzMzMzMsMjAuNjM2NjE4NiAxMi4wMzMzMzMzLDIwLjM4NDYxNTQgTDEyLjAzMzMzMzMsMjAuMzg0NjE1NCBMMTcuNDE2NjY2NywyMC4zODQ2MTU0IEMxNy44NTIwODMzLDIwLjM4NDYxNTQgMTguMjI0ODI2NCwyMC4yMjQ1NTkzIDE4LjUzNDg5NTgsMTkuOTA0NDQ3MSBDMTguODQ0OTY1MywxOS41ODQzMzQ5IDE5LDE5LjE5OTUxOTIgMTksMTguNzUgTDE5LDE4Ljc1IEwxOSw3LjYzNDYxNTM4IEMxOSw3LjE4NTA5NjE1IDE4Ljg0NDk2NTMsNi44MDAyODA0NSAxOC41MzQ4OTU4LDYuNDgwMTY4MjcgQzE4LjIyNDgyNjQsNi4xNjAwNTYwOSAxNy44NTIwODMzLDYgMTcuNDE2NjY2Nyw2IEwxNy40MTY2NjY3LDYgTDEuNTgzMzMzMzMsNiBDMS4xNDc5MTY2Nyw2IDAuNzc1MTczNjExLDYuMTYwMDU2MDkgMC40NjUxMDQxNjcsNi40ODAxNjgyNyBDMC4xNTUwMzQ3MjIsNi44MDAyODA0NSAwLDcuMTg1MDk2MTUgMCw3LjYzNDYxNTM4IEwwLDcuNjM0NjE1MzggTDAsMTguNzUgQzAsMTkuMTk5NTE5MiAwLjE1NTAzNDcyMiwxOS41ODQzMzQ5IDAuNDY1MTA0MTY3LDE5LjkwNDQ0NzEgQzAuNzc1MTczNjExLDIwLjIyNDU1OTMgMS4xNDc5MTY2NywyMC4zODQ2MTU0IDEuNTgzMzMzMzMsMjAuMzg0NjE1NCBMMS41ODMzMzMzMywyMC4zODQ2MTU0IEw2Ljk2NjY2NjY3LDIwLjM4NDYxNTQgQzYuOTY2NjY2NjcsMjAuNjQzNDI5NSA2LjkxMzg4ODg5LDIwLjkwOTA1NDUgNi44MDgzMzMzMywyMS4xODE0OTA0IEM2LjcwMjc3Nzc4LDIxLjQ1MzkyNjMgNi41OTcyMjIyMiwyMS42OTIzMDc3IDYuNDkxNjY2NjcsMjEuODk2NjM0NiBDNi4zODYxMTExMSwyMi4xMDA5NjE1IDYuMzMzMzMzMzMsMjIuMjUwODAxMyA2LjMzMzMzMzMzLDIyLjM0NjE1MzggQzYuMzMzMzMzMzMsMjIuNTIzMjM3MiA2LjM5NjAwNjk0LDIyLjY3NjQ4MjQgNi41MjEzNTQxNywyMi44MDU4ODk0IEM2LjY0NjcwMTM5LDIyLjkzNTI5NjUgNi43OTUxMzg4OSwyMyA2Ljk2NjY2NjY3LDIzIEw2Ljk2NjY2NjY3LDIzIEwxMi4wMzMzMzMzLDIzIFogTTE3LjQxNjY2NjcsMTYuNDYxNTM4NSBMMS41ODMzMzMzMywxNi40NjE1Mzg1IEMxLjQ5NzU2OTQ0LDE2LjQ2MTUzODUgMS40MjMzNTA2OSwxNi40MjkxODY3IDEuMzYwNjc3MDgsMTYuMzY0NDgzMiBDMS4yOTgwMDM0NywxNi4yOTk3Nzk2IDEuMjY2NjY2NjcsMTYuMjIzMTU3MSAxLjI2NjY2NjY3LDE2LjEzNDYxNTQgTDEuMjY2NjY2NjcsMTYuMTM0NjE1NCBMMS4yNjY2NjY2Nyw3LjYzNDYxNTM4IEMxLjI2NjY2NjY3LDcuNTQ2MDczNzIgMS4yOTgwMDM0Nyw3LjQ2OTQ1MTEyIDEuMzYwNjc3MDgsNy40MDQ3NDc2IEMxLjQyMzM1MDY5LDcuMzQwMDQ0MDcgMS40OTc1Njk0NCw3LjMwNzY5MjMxIDEuNTgzMzMzMzMsNy4zMDc2OTIzMSBMMS41ODMzMzMzMyw3LjMwNzY5MjMxIEwxNy40MTY2NjY3LDcuMzA3NjkyMzEgQzE3LjUwMjQzMDYsNy4zMDc2OTIzMSAxNy41NzY2NDkzLDcuMzQwMDQ0MDcgMTcuNjM5MzIyOSw3LjQwNDc0NzYgQzE3LjcwMTk5NjUsNy40Njk0NTExMiAxNy43MzMzMzMzLDcuNTQ2MDczNzIgMTcuNzMzMzMzMyw3LjYzNDYxNTM4IEwxNy43MzMzMzMzLDcuNjM0NjE1MzggTDE3LjczMzMzMzMsMTYuMTM0NjE1NCBDMTcuNzMzMzMzMywxNi4yMjMxNTcxIDE3LjcwMTk5NjUsMTYuMjk5Nzc5NiAxNy42MzkzMjI5LDE2LjM2NDQ4MzIgQzE3LjU3NjY0OTMsMTYuNDI5MTg2NyAxNy41MDI0MzA2LDE2LjQ2MTUzODUgMTcuNDE2NjY2NywxNi40NjE1Mzg1IEwxNy40MTY2NjY3LDE2LjQ2MTUzODUgWiIgaWQ9Iu+EiCIgZmlsbD0iIzMzMzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==","desktop"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iOHB4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCA4IDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA2My4xICg5MjQ1MikgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+QXJ0Ym9hcmQgQ29weTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJBcnRib2FyZC1Db3B5IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNNi42NjY2NjY2NywyMSBDNy4wMjc3Nzc3OCwyMSA3LjM0MDI3Nzc4LDIwLjg3MTM1NDIgNy42MDQxNjY2NywyMC42MTQwNjI1IEM3Ljg2ODA1NTU2LDIwLjM1Njc3MDggOCwyMC4wNTIwODMzIDgsMTkuNyBMOCwxOS43IEw4LDkuMyBDOCw4Ljk0NzkxNjY3IDcuODY4MDU1NTYsOC42NDMyMjkxNyA3LjYwNDE2NjY3LDguMzg1OTM3NSBDNy4zNDAyNzc3OCw4LjEyODY0NTgzIDcuMDI3Nzc3NzgsOCA2LjY2NjY2NjY3LDggTDYuNjY2NjY2NjcsOCBMMS4zMzMzMzMzMyw4IEMwLjk3MjIyMjIyMiw4IDAuNjU5NzIyMjIyLDguMTI4NjQ1ODMgMC4zOTU4MzMzMzMsOC4zODU5Mzc1IEMwLjEzMTk0NDQ0NCw4LjY0MzIyOTE3IDAsOC45NDc5MTY2NyAwLDkuMyBMMCw5LjMgTDAsMTkuNyBDMCwyMC4wNTIwODMzIDAuMTMxOTQ0NDQ0LDIwLjM1Njc3MDggMC4zOTU4MzMzMzMsMjAuNjE0MDYyNSBDMC42NTk3MjIyMjIsMjAuODcxMzU0MiAwLjk3MjIyMjIyMiwyMSAxLjMzMzMzMzMzLDIxIEwxLjMzMzMzMzMzLDIxIEw2LjY2NjY2NjY3LDIxIFogTTQuODMzMzMzMzMsOS42MjUgTDMuMTY2NjY2NjcsOS42MjUgQzMuMDU1NTU1NTYsOS42MjUgMyw5LjU3MDgzMzMzIDMsOS40NjI1IEMzLDkuMzU0MTY2NjcgMy4wNTU1NTU1Niw5LjMgMy4xNjY2NjY2Nyw5LjMgTDMuMTY2NjY2NjcsOS4zIEw0LjgzMzMzMzMzLDkuMyBDNC45NDQ0NDQ0NCw5LjMgNSw5LjM1NDE2NjY3IDUsOS40NjI1IEM1LDkuNTcwODMzMzMgNC45NDQ0NDQ0NCw5LjYyNSA0LjgzMzMzMzMzLDkuNjI1IEw0LjgzMzMzMzMzLDkuNjI1IFogTTYuNjY2NjY2NjcsMTguNCBMMS4zMzMzMzMzMywxOC40IEMxLjI0MzA1NTU2LDE4LjQgMS4xNjQ5MzA1NiwxOC4zNjc4Mzg1IDEuMDk4OTU4MzMsMTguMzAzNTE1NiBDMS4wMzI5ODYxMSwxOC4yMzkxOTI3IDEsMTguMTYzMDIwOCAxLDE4LjA3NSBMMSwxOC4wNzUgTDEsMTAuOTI1IEMxLDEwLjgzNjk3OTIgMS4wMzI5ODYxMSwxMC43NjA4MDczIDEuMDk4OTU4MzMsMTAuNjk2NDg0NCBDMS4xNjQ5MzA1NiwxMC42MzIxNjE1IDEuMjQzMDU1NTYsMTAuNiAxLjMzMzMzMzMzLDEwLjYgTDEuMzMzMzMzMzMsMTAuNiBMNi42NjY2NjY2NywxMC42IEM2Ljc1Njk0NDQ0LDEwLjYgNi44MzUwNjk0NCwxMC42MzIxNjE1IDYuOTAxMDQxNjcsMTAuNjk2NDg0NCBDNi45NjcwMTM4OSwxMC43NjA4MDczIDcsMTAuODM2OTc5MiA3LDEwLjkyNSBMNywxMC45MjUgTDcsMTguMDc1IEM3LDE4LjE2MzAyMDggNi45NjcwMTM4OSwxOC4yMzkxOTI3IDYuOTAxMDQxNjcsMTguMzAzNTE1NiBDNi44MzUwNjk0NCwxOC4zNjc4Mzg1IDYuNzU2OTQ0NDQsMTguNCA2LjY2NjY2NjY3LDE4LjQgTDYuNjY2NjY2NjcsMTguNCBaIE00LDIwLjUxMjUgQzMuNzcwODMzMzMsMjAuNTEyNSAzLjU3NDY1Mjc4LDIwLjQzMjk0MjcgMy40MTE0NTgzMywyMC4yNzM4MjgxIEMzLjI0ODI2Mzg5LDIwLjExNDcxMzUgMy4xNjY2NjY2NywxOS45MjM0Mzc1IDMuMTY2NjY2NjcsMTkuNyBDMy4xNjY2NjY2NywxOS40NzY1NjI1IDMuMjQ4MjYzODksMTkuMjg1Mjg2NSAzLjQxMTQ1ODMzLDE5LjEyNjE3MTkgQzMuNTc0NjUyNzgsMTguOTY3MDU3MyAzLjc3MDgzMzMzLDE4Ljg4NzUgNCwxOC44ODc1IEM0LjIyOTE2NjY3LDE4Ljg4NzUgNC40MjUzNDcyMiwxOC45NjcwNTczIDQuNTg4NTQxNjcsMTkuMTI2MTcxOSBDNC43NTE3MzYxMSwxOS4yODUyODY1IDQuODMzMzMzMzMsMTkuNDc2NTYyNSA0LjgzMzMzMzMzLDE5LjcgQzQuODMzMzMzMzMsMTkuOTIzNDM3NSA0Ljc1LDIwLjExNjQwNjIgNC41ODMzMzMzMywyMC4yNzg5MDYyIEM0LjQyMzYxMTExLDIwLjQzNDYzNTQgNC4yMjkxNjY2NywyMC41MTI1IDQsMjAuNTEyNSBaIiBpZD0i74SLIiBmaWxsPSIjMzMzMzMzIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgIDwvZz4KPC9zdmc+","mobile"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTBweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTAgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5BcnRib2FyZCBDb3B5IDI8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iQXJ0Ym9hcmQtQ29weS0yIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNMS4wMDAxODYwMSw4IEwxLDEwLjg4NSBMMSwxMC44OTQwMDI5IEwxLDE4LjA2NjAwMDggTDEuMDA2MTg0OSwxOC4xMjk5OTEgQzEuMDE4NTU0NjksMTguMTkxNzUyNyAxLjA0OTQ3OTE3LDE4LjI0NjgyODkgMS4wOTg5NTgzMywxOC4yOTUyMTk1IEMxLjE2NDkzMDU2LDE4LjM1OTc0MDMgMS4yNDMwNTU1NiwxOC4zOTIwMDA3IDEuMzMzMzMzMzMsMTguMzkyMDAwNyBMMS4zMzMzMzMzMywxOC4zOTIwMDA3IEw2LjY2NjY2NjY3LDE4LjM5MjAwMDcgQzYuNzU2OTQ0NDQsMTguMzkyMDAwNyA2LjgzNTA2OTQ0LDE4LjM1OTc0MDMgNi45MDEwNDE2NywxOC4yOTUyMTk1IEM2Ljk2NzAxMzg5LDE4LjIzMDY5ODcgNywxOC4xNTQyOTI1IDcsMTguMDY2MDAwOCBMNywxOC4wNjYwMDA4IEw3LDEzLjY2OCBMNy41LDEzLjAxMjM3OTggTDgsMTMuMDEyIEw4LDE5LjY5NjAwMDQgTDcuOTkxOTIxNzcsMTkuODQ0NDQ2OCBDNy45NTk2MDg4NCwyMC4xMzU1MTgxIDcuODMwMzU3MTQsMjAuMzkxNjYwOSA3LjYwNDE2NjY3LDIwLjYxMjg3NTEgQzcuMzQwMjc3NzgsMjAuODcwOTU4NCA3LjAyNzc3Nzc4LDIxIDYuNjY2NjY2NjcsMjEgTDYuNjY2NjY2NjcsMjEgTDEuMzMzMzMzMzMsMjEgTDEuMTgxNTQ3NjIsMjAuOTkyMDk5NSBDMC44ODM5Mjg1NzEsMjAuOTYwNDk3NSAwLjYyMjAyMzgxLDIwLjgzNDA4OTMgMC4zOTU4MzMzMzMsMjAuNjEyODc1MSBDMC4xMzE5NDQ0NDQsMjAuMzU0NzkxOCAwLDIwLjA0OTE2NjkgMCwxOS42OTYwMDA0IEwwLDE5LjY5NjAwMDQgTDAsOS4yNjQwMDMzMSBMMC4wMDgwNzgyMzEyOSw5LjExNTU1NjkyIEMwLjA0MDM5MTE1NjUsOC44MjQ0ODU1OCAwLjE2OTY0Mjg1Nyw4LjU2ODM0Mjc5IDAuMzk1ODMzMzMzLDguMzQ3MTI4NTcgQzAuNTc0OTAwNzk0LDguMTcyMDAwNjQgMC43NzYzNTE2ODcsOC4wNTYyOTExMiAxLjAwMDE4NjAxLDggWiBNNCwxOC44ODEwMDA2IEMzLjc3MDgzMzMzLDE4Ljg4MTAwMDYgMy41NzQ2NTI3OCwxOC45NjA4MDI3IDMuNDExNDU4MzMsMTkuMTIwNDA2OCBDMy4yNDgyNjM4OSwxOS4yODAwMTA5IDMuMTY2NjY2NjcsMTkuNDcxODc1NCAzLjE2NjY2NjY3LDE5LjY5NjAwMDQgQzMuMTY2NjY2NjcsMTkuOTIwMTI1MyAzLjI0ODI2Mzg5LDIwLjExMTk4OTggMy40MTE0NTgzMywyMC4yNzE1OTQgQzMuNTc0NjUyNzgsMjAuNDMxMTk4MSAzLjc3MDgzMzMzLDIwLjUxMTAwMDEgNCwyMC41MTEwMDAxIEM0LjIyOTE2NjY3LDIwLjUxMTAwMDEgNC40MjM2MTExMSwyMC40MzI4OTYgNC41ODMzMzMzMywyMC4yNzY2ODc3IEM0Ljc1LDIwLjExMzY4NzggNC44MzMzMzMzMywxOS45MjAxMjUzIDQuODMzMzMzMzMsMTkuNjk2MDAwNCBDNC44MzMzMzMzMywxOS40NzE4NzU0IDQuNzUxNzM2MTEsMTkuMjgwMDEwOSA0LjU4ODU0MTY3LDE5LjEyMDQwNjggQzQuNDI1MzQ3MjIsMTguOTYwODAyNyA0LjIyOTE2NjY3LDE4Ljg4MTAwMDYgNCwxOC44ODEwMDA2IFoiIGlkPSJDb21iaW5lZC1TaGFwZSIgZmlsbD0iIzMzMzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPHBhdGggZD0iTTMsNiBMOSw2IEM5LjU1MjI4NDc1LDYgMTAsNi40NDc3MTUyNSAxMCw3IEwxMCwxMS4wMzY4Nzk0IEMxMCwxMS41ODkxNjQyIDkuNTUyMjg0NzUsMTIuMDM2ODc5NCA5LDEyLjAzNjg3OTQgTDcuNSwxMi4wMzY4Nzk0IEw3LjUsMTIuMDM2ODc5NCBMNiwxNCBMNC41LDEyLjAzNjg3OTQgTDMsMTIuMDM2ODc5NCBDMi40NDc3MTUyNSwxMi4wMzY4Nzk0IDIsMTEuNTg5MTY0MiAyLDExLjAzNjg3OTQgTDIsNyBDMiw2LjQ0NzcxNTI1IDIuNDQ3NzE1MjUsNiAzLDYgWiIgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iIzMzMzMzMyI+PC9wYXRoPgogICAgPC9nPgo8L3N2Zz4=","popup"]]},{property:"subject_type",type:"text",name:"Marker Type",style:"buttons",width:"full",choices:[["None","none"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNnB4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCA2IDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA2My4xICg5MjQ1MikgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+cG9pbnQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0icG9pbnQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMzMzMzMzMiIGN4PSIzIiBjeT0iMTUiIHI9IjMiPjwvY2lyY2xlPgogICAgPC9nPgo8L3N2Zz4=","point"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTYgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5jaXJjbGU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iY2lyY2xlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsLUNvcHkiIHN0cm9rZT0iIzMzMzMzMyIgY3g9IjgiIGN5PSIxNSIgcj0iNy41Ij48L2NpcmNsZT4KICAgIDwvZz4KPC9zdmc+","circle"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTYgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5zcXVhcmU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0ic3F1YXJlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBzdHJva2U9IiMzMzMzMzMiIHg9IjAuNSIgeT0iNy41IiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjwvcmVjdD4KICAgIDwvZz4KPC9zdmc+","box"]]},{property:"connector_type",type:"text",width:"full",name:"Connector Type",style:"buttons",choices:[["None","none"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzNweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMzMgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5jaXJjbGUgY29weTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJjaXJjbGUtY29weSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSI+CiAgICAgICAgPHBvbHlsaW5lIGlkPSJQYXRoLTIiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIiBwb2ludHM9IjUgOSAxMi4xNDIxODIxIDE2IDI4IDE2Ij48L3BvbHlsaW5lPgogICAgPC9nPgo8L3N2Zz4=","polyline"],['data:image/svg+xml,%3Csvg width="33px" height="30px" viewBox="0 0 33 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"%3E%3Cg id="circle-copy" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square"%3E%3Cpolyline id="Path-2" stroke="%23333333" stroke-width="2" points="5 9 15 9 15 16 28 16"/%3E%3C/g%3E%3C/svg%3E',"step"],['data:image/svg+xml,%3Csvg width="33px" height="30px" viewBox="0 0 33 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"%3E%3Cg id="circle-copy" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square"%3E%3Cpolyline id="Path-2" stroke="%23333333" stroke-width="2" points="5 9 28 16"/%3E%3C/g%3E%3C/svg%3E',"direct"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzNweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMzMgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5jaXJjbGUgY29weSAyPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9ImNpcmNsZS1jb3B5LTIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGQ9Ik03LDUgTDI2LDUgQzI2LjU1MjI4NDcsNSAyNyw1LjQ0NzcxNTI1IDI3LDYgTDI3LDE4LjAzNjg3OTQgQzI3LDE4LjU4OTE2NDIgMjYuNTUyMjg0NywxOS4wMzY4Nzk0IDI2LDE5LjAzNjg3OTQgTDE5LjE4NzUsMTkuMDM2ODc5NCBMMTkuMTg3NSwxOS4wMzY4Nzk0IEwxNi41LDIyIEwxMy44MTI1LDE5LjAzNjg3OTQgTDcsMTkuMDM2ODc5NCBDNi40NDc3MTUyNSwxOS4wMzY4Nzk0IDYsMTguNTg5MTY0MiA2LDE4LjAzNjg3OTQgTDYsNiBDNiw1LjQ0NzcxNTI1IDYuNDQ3NzE1MjUsNSA3LDUgWiIgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iIzMzMzMzMyI+PC9wYXRoPgogICAgPC9nPgo8L3N2Zz4=","popup",function(t){return"none"!==t.subject_type}]]},{property:"point_text",type:"quarter",width:"half",name:"Marker Label",show_if:{subject_type:"point"}},{property:"point_radius",type:"number",width:"half",name:"Marker Radius",step:.25,show_if:{subject_type:"point"}}].concat("Advanced").concat(s);function u8(t){return"polyline"===t.connector_type||"step"===t.connector_type||"direct"===t.connector_type}function f8(t){var n=this;pa(this,f8),this.tooltip=document.body.appendChild(document.createElement("div")),this.tooltip.classList.add("fl-annotations-tip"),this.tooltip.classList.add("hidden"),this.container=t,this.container.addEventListener("mouseover",function(t){var e;t.target.classList.contains("fl-annotations-desc")&&(n.tooltip.classList.remove("hidden"),n.tooltip.textContent=t.target.getAttribute("data-popup-body"),e=t.target.getBoundingClientRect(),t=n.tooltip.getBoundingClientRect(),n.tooltip.style.top=e.top-t.height-4+"px",n.tooltip.style.left=e.left+e.width/2-t.width/2+"px")},!1),this.container.addEventListener("mouseout",function(t){t.target.classList.contains("fl-annotations-desc")&&n.tooltip.classList.add("hidden")},!1)}var d8={annotations:{},annotation_order:[],popup:{},annotation_selected_id:"",defaults:FM.getDefaultSettings()},h8={left:_8("right"),right:_8("left"),top:_8("bottom"),bottom:_8("top"),center:_8("center")},p8=function(){ya(N,wM);var z=wa(N);function N(t,e,n,r){var i,o,a,s,l,c,u,f,d,h,p,g,_;function m(){l.length=0,_=s();for(var t=0;t<_.length;t++){var e=a[_[t]];e&&l.push(e)}var n=u.selectAll("li").data(l,w).join(k).classed("selected",j).on("click",A).on("dragstart",y).on("dragenter",v).on("dragleave",b).on("dragend",x).attr("draggable",!0).attr("data-index",function(t,e){return e}),r=[];n.each(function(t,e){return r.push(e)}),n.select(".text").text(M),T()}function y(){var t=bM(zs.target,function(t){return t.hasAttribute&&t.hasAttribute("data-index")});p=parseInt(t.getAttribute("data-index"),10),zs.dataTransfer&&zs.dataTransfer.setDragImage(X6,0,0),u.classed("dragging",!0),g=-1}function v(){zs.target.classList.add("dropping"),h=zs.target.hasAttribute("data-above");var t=bM(zs.target,function(t){return t.hasAttribute&&t.hasAttribute("data-index")});g=parseInt(t.getAttribute("data-index"),10)}function b(){zs.target.classList.remove("dropping")}function x(){u.classed("dragging",!1),u.select(".dropping").classed("dropping",!1),-1!==p&&-1!==g&&p!==g&&(g=h?(g-=+(p<g),Math.max(0,g)):(g-=+(p<g),Math.min(g+1,_.length-1)),_.splice(g,0,_.splice(p,1)[0]),o.update())}function w(t){return t.id}function M(t){return t.contents||"(empty annotation)"}function k(t){var e=t.append("li");e.append("span").classed("text",!0),e.append("span").attr("class","icon-pencil icon"),e.append("span").attr("class","icon-clone icon").attr("data-action","clone"),e.append("span").attr("class","icon-trash icon").attr("data-action","delete");t=e.append("div").classed("drop-overlay",!0).attr("draggable",!0);return t.append("div").classed("drop-above",!0).attr("data-above",!0),t.append("div").classed("drop-below",!0).attr("data-below",!0),e}function j(t){return Q6.getByID(t.id).selected}function A(t){var e,n,r,i=zs.target.getAttribute("data-action")||"edit";f!==this&&(d=0,f=this),"delete"===i?(Q6.getByID(t.id).destroy(),delete o.state.annotations[t.id],o.update(),o.emit("change",o.state.annotations)):"clone"===i?(e=JSON.parse(JSON.stringify(o.state.annotations[t.id])),n=BM(),r=16*++d,i=o.getPositionFromData(e.position),r=o.getDataFromCursor({target:null,offsetX:i[0]+r,offsetY:i[1]+r},[i[0]+r,i[1]+r]),e.id=n,r&&(e.position=r),o.state.annotations[n]=e,o.state.annotation_order.push(n),o.update(),o.emit("create",o.state.annotations[n]),o.emit("change",o.state.annotations),o.select(n)):o.select(t.id)}function T(){var t=u.node().getBoundingClientRect(),e=c.node().getBoundingClientRect(),t=c.node().scrollTop+e.height>=t.height;c.classed("scroll-end",t)}return pa(this,N),(i=z.call(this)).target=t,i.settings_container=e,i.rendering=!1,i.prev_annotation_ids=[],i.state=Object.assign(n,d8,Object.assign({},n)),i.state.defaults=Object.assign({},i.state.defaults),i.is_user_editable=!!a8,i.source_element=a8&&(r.source_element||function(t,e){t=t.appendChild(document.createElement("button"));t.classList.add("fl-annotations-source-element"),e&&(t.style.marginRight=e[0],t.style.marginTop=e[1]);return t}(e,r.source_offset)),i.add_element=a8&&(r.add_element||function(t,e){t=t.appendChild(document.createElement("a"));t.classList.add("fl-annotations-add-element"),t.textContent="Add/move annotations",e&&(t.style.marginRight=e[0],t.style.marginTop=e[1]);return t}(e,r.add_offset)),i.settings=a8&&J6(e,c8,function(){i.rendering||i.update()}),r.source_element&&!a8&&(r.source_element.style.display="none"),r.add_element&&!a8&&(r.add_element.style.display="none"),i.settings?(i.settings.container.insertBefore(i.add_element,i.settings.container.firstChild),i._updateAnnotationList=(o=xa(i),n=i.settings.container,a=i.state.annotations,s=function(){return i.state.annotation_order},l=[],c=Ps(n).insert("div",":first-child").classed("fl-annotation-list-wrap",!0),u=c.append("ul").classed("fl-annotation-list",!0),f=null,d=0,h=!1,g=p=-1,_=s(),c.node().addEventListener("scroll",T,{passive:!0}),u.on("mouseleave",function(){d=0}),o.on("change",m),m),i.settings_popup=new f8(i.settings.container)):i._updateAnnotationList=function(){},i.getDataFromCursor=r.getDataFromCursor,i.getPositionFromData=r.getPositionFromData,i.filterByData=r.filterByData||function(){return!0},i.filterByPosition=r.filterByPosition||function(){return!0},i.container_svg=t.appendChild(document.createElementNS("http://www.w3.org/2000/svg","svg")),i.container_svg.classList.add("fl-annotations","fl-ignore-svg-download"),i.container=t.appendChild(document.createElement("div")),i.container.classList.add("fl-annotations"),t=i.container_svg,F6=Ps(t).append("defs"),o8(),i.touches=AM(window,{preventSimulated:!1,filtered:!0,target:i.target}),i.touches.on("start",i._onCursorStart=i._onCursorStart.bind(xa(i))),i.touches.on("move",i._onCursorMove=i._onCursorMove.bind(xa(i))),i.touches.on("end",i._onCursorEnd=i._onCursorEnd.bind(xa(i))),i.cursor=new s8(i.container_svg),g8(xa(i),"_is_editing",[i.container_svg,i.container,e],"is-editing",!1),g8(xa(i),"_is_edit_settings",[i.container_svg,i.container,e],"is-edit-settings",!1),g8(xa(i),"_is_edit_add",[i.container_svg,i.container,e],"is-edit-add",!1),g8(xa(i),"_is_dragging",[i.container_svg,i.container,e],"is-dragging",!1),i._is_dragging_beneath=!1,i._drag_start_time=Date.now(),i._drag_start_position=[0,0],i._is_cursor_down=!1,i._dragging_id="",i._clicking_id="",i._prev_dragging_id="",i._prev_selected_id="",i._edit_mode="settings",i._ignore_next_mouseup=!1,i._getByID=Q6.getByID.bind(xa(i)),i.update(),i}return _a(N,[{key:"isEditing",value:function(){return this._is_editing}},{key:"isDragging",value:function(){return this._is_dragging}},{key:"_onCursorStart",value:function(t,e){var n,r,i,o=this._findupAnnotation(t.target),a=this._findupEditorButton(t.target);this._findupEditor(t.target)&&!a||this._findupLink(t.target)||(i=!!a,n=!!o,this._is_dragging=!1,this._is_dragging_beneath=!1,this._dragging_id="",this._drag_start_time=Date.now(),this._drag_start_position[0]=e[0],this._drag_start_position[1]=e[1],i?(r=a===this.source_element,i=a===this.add_element,a=!this._is_editing||r&&"add"===this._edit_mode||i&&"settings"===this._edit_mode,this._is_editing=a,this._is_editing?(this.target.classList.add("fl-disable-selection"),r?this.setEditMode("settings"):i&&this.setEditMode("add")):(this.target.classList.remove("fl-disable-selection"),this.select(null),this.setEditMode(null)),this._ignore_next_mouseup=!0,this.render(),t.preventDefault()):n&&(o=o.getAttribute("data-annotation-id"),this._dragging_id=o,document.body.classList.add("fl-disable-selection"),this._is_editing&&Q6.getByID(o).onDragStart(t,e),this.render(),this.emit("update",this.state.annotations[this._dragging_id]),this.emit("change",this.state.annotations)))}},{key:"_onCursorMove",value:function(t,e){var n,r,i=this._is_editing&&!this._dragging_id,o=this._is_editing&&!this._is_dragging_beneath,a=this._dragging_id&&this._is_dragging;i&&this._setCursorPosition(t,e),o?(n=e[0]-this._drag_start_position[0],o=e[1]-this._drag_start_position[1],n=Math.sqrt(n*n+o*o),o=Date.now()-this._drag_start_time,this._is_dragging_beneath=!a8||300<o||25<n,this._is_dragging=this._is_dragging_beneath&&!i):a&&(a=Q6.getByID(this._dragging_id),this._is_editing&&!1!==a.onDragMove(t,e)&&(r=this.getDataFromCursor(t,e)||null)&&this.getPositionFromData(r)&&(this.state.annotations[this._dragging_id].position=r),this.render(),this.emit("update",this.state.annotations[this._dragging_id]),this.emit("change",this.state.annotations))}},{key:"_onCursorEnd",value:function(t,e){if(!this._findupLink(t.target)){var n=this._findupEditor(t.target)||this._findupEditorButton(t.target)||this._ignore_next_mouseup;if(this.target!==document.body&&document.body.classList.remove("fl-disable-selection"),n)return this._ignore_next_mouseup=!1,this._dragging_id="",this._is_dragging=!1,this._is_dragging_beneath=!1,this.render(),void this._setCursorPosition(t,e);if(this._dragging_id)this._is_dragging&&this._is_editing?(n=Q6.getByID(this._dragging_id),this._is_editing&&!1!==n.onDragMove(t,e)&&((n=this.getDataFromCursor(t,e)||null)&&this.getPositionFromData(n)&&(this.state.annotations[this._dragging_id].position=n),this.emit("update",this.state.annotations[this._dragging_id]),this.emit("change",this.state.annotations))):this._is_dragging||this.select(this._dragging_id),this._dragging_id="",this._is_dragging=!1,this._is_dragging_beneath=!1,this.render(),this._setCursorPosition(t,e);else if(!this._is_dragging_beneath&&this._is_editing&&this.isEditMode("add")){e=this.getDataFromCursor(t,e);if(e){t=this._findupAnnotation(t.target);if(t)return this.select(t.getAttribute("data-annotation-id"));e=this._createAnnotation(e);this.setEditMode("settings"),this.select(e),this.update(),this.emit("create",this.state.annotations[e]),this.emit("change",this.state.annotations)}}else this._is_dragging_beneath||this.select(null)}}},{key:"select",value:function(t){this.state.annotation_selected_id=t,this._prev_selected_id!==t&&(this._prev_selected_id=t,this.state.annotations[t]&&(this.emit("select",this.state.annotations[t]),this.emit("change",this.state.annotations))),this.render()}},{key:"update",value:function(){this._clearRemovedAnnotations(),this.render(),this._updateAnnotationList(this.state.annotations)}},{key:"_clearRemovedAnnotations",value:function(){for(var e=this,t=0;t<this.prev_annotation_ids.length;t++){var n=this.prev_annotation_ids[t];n in this.state.annotations||(n=Q6.getByID(n))&&n.destroy()}this.prev_annotation_ids=Object.keys(this.state.annotations);for(var r,i=this.state.annotation_order.filter(function(t){return t in e.state.annotations}),t=0;t<i.length;t++)this.state.annotation_order[t]=i[t];for(r in this.state.annotation_order.length=i.length,this.state.annotations)Object.hasOwnProperty.call(this.state.annotations,r)&&-1===this.state.annotation_order.indexOf(r)&&this.state.annotation_order.push(r)}},{key:"render",value:function(){var t;this.rendering=!0,a8&&(t=this.isEditMode("settings"),this.settings.setVisible(t),this.settings.setActive(t&&this.state.annotation_selected_id&&this.prev_annotation_ids.length)),this._renderMarkers(),this.rendering=!1}},{key:"isEditMode",value:function(t){return this._is_editing&&(!ZM()||this._edit_mode===t)}},{key:"setEditMode",value:function(t){var e=!ZM();this._edit_mode=t,this._is_edit_settings=e||"settings"===t,this._is_edit_add=e||"add"===t}},{key:"_renderMarkers",value:function(){for(var t in this.state.annotations){var e=Q6.getByID(t),n=this.state.annotations[t].subject_type,e=e||new V6[n](t,this.state.annotations[t],this.container,this.container_svg),r=this.state.annotations[t].position;!!r&&this.filterByData(r)&&!!(r=this.getPositionFromData(r))&&this.filterByPosition(r)&&("all"==(n=(n=this.state.annotations[t]).device_visibility)||("mobile"==n?ZM():"desktop"!=n||!ZM()))?((e=e.ofType(V6[this.state.annotations[t].subject_type])).state.origin[0]=r[0],e.state.origin[1]=r[1],e.editable=this._is_editing,e.update(),e.setActive(!0)):e.setActive(!1),t!==this.state.annotation_selected_id&&e.setSelected(!1)}var i,o,a,s=Q6.getByID(this.state.annotation_selected_id);s?(n8.container(this.target),s.setSelected(!0),this.emit("update",this.state.annotations[this.state.annotation_selected_id]),this.emit("change",this.state.annotations),a8&&this.settings.render(this.state.annotations[this.state.annotation_selected_id]),i=s.settings,o=s.element,"popup"===s.getConnectorType()?(i8.font_size=W6(i.text_size),i8.text_color=i.text_color,i8.fill_color=i.popup_bg,a=$M(i.contents),"bold"==i.text_weight&&(a="<strong>"+a+"</strong>"),o=o.parentNode.getBoundingClientRect(),a={html:a},s=s.getPopupPosition(i.popup_position),n8.directions(h8[i.popup_position]),n8.point(i.view.origin[0]+s[0]+o.left,i.view.origin[1]+s[1]+o.top),n8.draw(a)):n8.hide()):n8.hide()}},{key:"_setCursorPosition",value:function(t,e){var n=this.getDataFromCursor(t,e)||null,r=n&&this.getPositionFromData(n),n=this._findupAnnotation(t.target);this.cursor.pos[0]=(r||e)[0],this.cursor.pos[1]=(r||e)[1],this.cursor.flag_editing=this.isEditMode("add"),this.cursor.flag_over_annotation_node=!!n,this.cursor.flag_inside_add_button=!!this._findupEditorButton(t.target),this.cursor.flag_inside_settings_panel=!!this._findupEditor(t.target),this.cursor.flag_can_place=!!r,this.cursor.update()}},{key:"_createAnnotation",value:function(t){var e=BM(),n=this.state.annotations[e]=new FM(t,this.state.defaults);this.state.annotation_order.push(e),n.id=e;t=n.subject_type;return new V6[t](e,n,this.container,this.container_svg),this.prev_annotation_ids.push(e),this.render(),e}},{key:"_findupAnnotation",value:function(t){return bM(t,function(t){return t.hasAttribute&&t.hasAttribute("data-annotation-id")})}},{key:"_findupEditor",value:function(t){return a8&&bM(t,this.settings.root)}},{key:"_findupEditorButton",value:function(t){var e=this;return a8&&bM(t,function(t){return t===e.source_element||t===e.add_element})}},{key:"_findupLink",value:function(t){return!this._is_editing&&bM(t,function(t){return t&&"A"===(t.nodeName||"").toUpperCase()})}}]),N}();function g8(t,e,n,r,i){function o(){if(i)for(var t=0;t<n.length;t++)n[t].classList.add(r);else for(t=0;t<n.length;t++)n[t].classList.remove(r)}n=Array.isArray(n)?n:[n],o(),Object.defineProperty(t,e,{get:function(){return i},set:function(t){i!==(t=!!t)&&(i=t,o())}})}function _8(t){var e=["bottom","top","left","right","topLeft","bottomLeft","topRight","bottomRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"];return"center"!==t&&(e.splice(e.indexOf(t),1),e.unshift(t)),e}function m8(t,e,n){var r=e[e.length-1]-e[0],t=(t-=e[0])/r,r=n.length;return{id:n[Math.floor(t*r)],offset:t*r%1-.5,ordinal:!0}}function y8(t,e){return t.invert?"number"!=typeof e[0]?"date":"number":"ordinal"}p8.chartLayout=function(t,e,n,r){var u;return r=Object.assign({},r||{},{getDataFromCursor:function(t,e){for(var n in u){var r=u[n];if(!(e[0]<r.x_range[0]+r.x)&&!(e[0]>r.x_range[1]+r.x||e[1]>r.y_range[0]+r.y||e[1]<r.y_range[1]+r.y)){var i=e[0]-r.x,o=e[1]-r.y,a=r.x_range[1]-r.x_range[0],s=r.y_range[0]-r.y_range[1],l=(i-r.x_range[0])/a,c=(o-r.y_range[1])/s,a=y8(r.x_scale,r.x_domain),s=y8(r.y_scale,r.y_domain),i="ordinal"!=a?r.x_scale.invert(i):m8(i,r.x_range,r.x_domain),r="ordinal"!=s?r.y_scale.invert(o):m8(o,r.y_range,r.y_domain);return{facet_id:n,x:i,y:r,x_fallback:l,y_fallback:c,x_type:a,y_type:s}}}},getPositionFromData:function(t){var e=u[t.facet_id];if(e){var n=y8(e.x_scale,e.x_domain),r=y8(e.y_scale,e.y_domain);return n=n==t.x_type?"ordinal"==t.x_type?e.x_scale(t.x.id)+e.x_scale.step()*t.x.offset:e.x_scale(t.x):t.x_fallback*(e.x_range[1]-e.x_range[0])+e.x_range[0],t=r==t.y_type?"ordinal"==t.y_type?e.y_scale(t.y.id)+e.y_scale.step()*-t.y.offset:e.y_scale(t.y):t.y_fallback*(e.y_range[0]-e.y_range[1])+e.y_range[1],[e.x+n,e.y+t]}}}),new(function(){ya(e,p8);var t=wa(e);function e(){return pa(this,e),t.apply(this,arguments)}return _a(e,[{key:"update",value:function(l){u=Object.keys(l||{}).reduce(function(t,e){var n,r,i,o,a,s;return t[e]=(n=l[e],r=n.xScale({global:!0}),i=n.yScale({global:!0}),o=r.range(),a=i.range(),s=r.domain(),e=i.domain(),{x:n.offsetLeft(),y:n.offsetTop(),x_scale:r,y_scale:i,x_range:o,y_range:a,x_domain:s,y_domain:e}),t},{}),Ma(va(e.prototype),"update",this).call(this)}}]),e}())(t,e,n,r)};var v8={curveNatural:f3,curveLinear:Ww};function b8(e,n){function t(t){return e*t+n}return t.m=e,t.c=n,t}function x8(t){return"translate("+t.layout.x+","+t.layout.y+")"}function w8(a,s,n){var t=a.facets.length&&"number"===a.facets[0].x_type&&"number"===a.facets[0].y_type,t="none"!=fb.fit_type&&t,t=Ps(".fits").selectAll(".fit").data(t?a.facets:[],function(t){return t.key});t.enter().append("g").attr("class","fit").attr("transform",x8).merge(t).each(function(t){var e,M=t.scales.x,k=t.scales.y,j=nl(M.range()),A=el(M.range()),T=nl(k.range()),z=el(k.range()),N=$w().x(function(t){return M(t.x)}).y(function(t){return k(t.y)}),n=fb.fit_type,r="all"===n||"color"===n?a.data_points:t.values;{var i;"all"!==n&&"chart"!==n&&t.color_domain.length&&"discrete"===a.data_points.color_type?(e=a.data_points.color_domain.map(function(){return[]}),i=a.data_points.color_domain.reduce(function(t,e,n){return t[e]=n,t},{}),r.forEach(function(t){e[i[t.color]].push(t)})):e=[r]}t=Ps(this).selectAll("path").data(e),r=t.enter().append("path").style("fill","none").attr("d",function(t){return o(t,!0)});function o(t,e){var n,r,i,o,a,s,l,c,u,f,d,h,p=(n=t,r=fb.fit_force_origin,(n=(h=n.filter(function(t){return!isNaN(t.x)&&!isNaN(t.y)})).length)<(r?1:2)?null:(h=r?(a=o=0,h.forEach(function(t){o+=t.x*t.x,a+=t.x*t.y}),i=a/o,0):(d=f=u=c=0,h.forEach(function(t){c+=t.x,u+=t.y}),s=c/n,l=u/n,h.forEach(function(t){var e=t.x-s,t=t.y-l;f+=e*t,d+=e*e}),l-(i=f/d)*s),b8(i,h)));if(p&&Math.abs(p.c)!==1/0){var g=[];if("log"!=fb.x.numeric_scale_type&&"log"!=fb.y.numeric_scale_type){var _,m,y,t=isFinite(p.m)?(_=j,m=k(p(M.domain()[0])),y=A,k(p(M.domain()[1]))):(_=y=M(t[0].x),m=T,z);return e?"M "+_+","+m+" L "+_+","+m:"M "+_+","+m+" L "+y+","+t}for(var v=M.domain(),b=(v[1]-v[0])/1e3,x=v[0];x<=v[1];){var w=p(x);(0<w||"log"!=fb.y.numeric_scale_type)&&g.push({x:x,y:w}),x+=b}return N(e?g.slice(0,1):g)}}t.merge(r).transition().duration(s?0:1e3*fb.animation_duration).style("stroke-width",fb.fit_line_width+"px").attr("stroke-dasharray",0<fb.fit_line_dash?fb.fit_line_dash+" "+fb.fit_line_dash:null).attr("stroke",function(t){return!("all"===n||"chart"===n||"discrete"!==a.data_points.color_type)&&t[0]?Pw(t[0].color):fb.fit_line_color}).attr("d",function(t){return o(t)}),t.exit().remove()}).attr("clip-path",function(t,e){return"url(#facet-clip-"+e+"-plot-"+n+")"}).transition().duration(s?0:fb.animation_duration).attr("transform",x8),t.exit().transition().duration(s?0:1e3*fb.animation_duration/2).attr("opacity",0).remove()}function M8(t){var e=[],n=[];return t.forEach(function(t){n[t]||(e.push(t),n[t]=!0)}),e}var k8=Array.isArray;function j8(t){return t}function A8(n){return{prop:function(t,e){Object.defineProperty(n,t,{value:e,enumerable:!0})},getter:function(t,e){Object.defineProperty(n,t,{get:e,enumerable:!0})},method:function(t,e){Object.defineProperty(n,t,{value:e})}}}function T8(t,e){var n=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]||(t[e]=n),n+=1,t},{})}function z8(t,e){var n=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]=n++,t},{})}function N8(t,e,n,r){var i,o,a,s,l,c="dense"===r?(l=1,e[n?"reduce":"reduceRight"](function(t,e){return t[e]||(t[e]=l++),t},{})):"fractional"===r?(a=T8(i=e,o=n),s=z8(i,o),Object.keys(a).reduce(function(t,e){return t[e]=(a[e]+s[e])/2,t},{})):("worst"===r?z8:T8)(e,n),r="ordinal"===r?function(t){return c[t]++}:function(t){return c[t]};return t.map(r)}function D8(n){return n=n||Math.random,function(t,e){e=e-t+1;return Math.floor(n()*e)+t}}function S8(t,e){return t[D8(e)(0,t.length-1)]}function I8(t,e,n,r){var i=t.length;if(n=void 0!==e&&n,e=void 0!==e?Math.floor(e):i,!i||e<1)return[];var o=D8(r);if(n||1===e){for(var a=[],s=0;s<e;s++)a.push(t[o(0,i-1)]);return a}a=t.slice();for(var l=Math.min(i,e),s=0;s<l;s++){var c,u,f=o(s,i-1);f!==s&&(c=a[f],u=a[s],a[s]=c,a[f]=u)}return a.length=l,a}function E8(t,n,r){if(!n.length)return t.slice();for(var i=0,e=t.reduce(function(t,e){for(;t.length===n[i];)t.push(r),i++;return t.push(e),t},[]);n[i++];)e.push(r);return e}function L8(e,t){return k8(t)?t.map(function(t){return tl(e,t)}):tl(e,t)}function C8(t,e,r){r=r||j8;var i=1/0,o=-1/0,a=null,s=0,l=[],c=Object.freeze(e.reduce(function(t,e,n){e=r(e);return"number"!=typeof e||isNaN(e)?l.push(n):(t.push(e),i=Math.min(i,e),o=Math.max(o,e),s+=e),t},[])),e=A8(t);return e.prop("enhanced_array",!0),e.prop("numeric_array",!0),e.prop("values",c),e.prop("min",c.length?i:null),e.prop("max",c.length?o:null),e.prop("sum",s),e.prop("mean",c.length?s/c.length:null),e.prop("range",c.length?o-i:null),e.prop("length",c.length),e.prop("dropped_indexes",Object.freeze(l)),e.method("extent",function(){return[this.min,this.max]}),e.getter("sorted_values",function(){var e,n;return a||(n=-1/0,c.every(function(t){if(n<=t)return n=t,!0})&&(a=c),e=1/0,a=c.every(function(t){if(t<=e)return e=t,!0})?Object.freeze(c.slice().reverse()):Object.freeze(c.slice().sort(Fs))),a}),t}var O8,P8,R8,F8,Y8,U8=(R8=A8(P8={}),(O8=R8).method("unsorted",function(){return this.values.slice()}),O8.method("ascending",function(){return this.sorted_values.slice()}),O8.method("descending",function(){return this.sorted_values.slice().reverse()}),O8.method("unique",function(){return M8(this.values)}),O8.method("uniqueAscending",B8),O8.method("uniqueDescending",function(){return B8().reverse()}),(O8=R8).getter("variance",function(){return qs(this.values)}),O8.getter("sd",function(){return Math.sqrt(this.variance)}),O8.getter("median",function(){return L8(this.sorted_values,.5)}),O8.getter("iqr",function(){var t=L8(this.sorted_values,[.25,.75]);return t[1]-t[0]}),O8.method("quantiles",function(t){return L8(this.sorted_values,t)}),O8.method("quartiles",function(){return L8(this.sorted_values,[.25,.5,.75])}),(O8=R8).method("random",function(t){return S8(this.values,t)}),O8.method("sample",function(t,e,n){return I8(this.values,t,e,n)}),R8.method("rank",function(t,e){return N8(this.values,this.sorted_values,t,e)}),R8.method("unclean",function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return E8(t=t||this.values,this.dropped_indexes,NaN)}),P8);function B8(){return M8(this.sorted_values)}function H8(){return M8(this.sorted_values)}function Z8(t){return t}function G8(t,e){return Array.isArray(t)?(n=t,r=e=e||Z8,C8(e=Object.create(U8),n,r),e):t;var n,r}(F8=Y8=A8(F8={})).method("unsorted",function(){return this.values.slice()}),F8.method("ascending",function(){return this.sorted_values.slice()}),F8.method("descending",function(){return this.sorted_values.slice().reverse()}),F8.method("unique",function(){return M8(this.values)}),F8.method("uniqueAscending",H8),F8.method("uniqueDescending",function(){return H8().reverse()}),(F8=Y8).method("random",function(t){return S8(this.values,t)}),F8.method("sample",function(t,e,n){return I8(this.values,t,e,n)}),Y8.method("rank",function(t,e){return N8(this.values,this.sorted_values,t,e)}),Y8.method("unclean",function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return E8(t=t||this.values,this.dropped_indexes)});KM={name:"biweight",kernel:function(t){return Math.abs(t)<1?.9375*Math.pow(1-t*t,2):0},delta:Math.pow(35,.2)},e=Math.pow(Math.PI,2),tn=Math.pow(1/6-1/e,2);i={name:"cosine",kernel:function(t){return Math.abs(t)<.5?1+Math.cos(2*Math.PI*t):0},delta:Math.pow(6/tn,.2)};var Mh={name:"epanechnikov",kernel:function(t){return Math.abs(t)<1?.75*(1-t*t):0},delta:Math.pow(15,.2)},q8=1/Math.sqrt(2*Math.PI);s={name:"gaussian",kernel:function(t){return q8*Math.exp(-.5*t*t)},delta:Math.pow(1/(4*Math.PI),.1)};e={name:"parzen",kernel:function(t){return 1<=(t=Math.abs(t))?0:.5<t?8/3*Math.pow(1-t,3):8*(1/6-Math.pow(t,2)+Math.pow(t,3))},delta:2*Math.pow(151/35,.2)};tn={name:"triangular",kernel:function(t){return(t=Math.abs(t))<1?1-t:0},delta:Math.pow(24,.2)};var Q8={biweight:KM,cosine:i,epanechnikov:Mh,gaussian:s,parzen:e,triangular:tn,triweight:{name:"triweight",kernel:function(t){return Math.abs(t)<1?35/32*Math.pow(1-t*t,3):0},delta:Math.pow(9450/143,.2)},uniform:{name:"uniform",kernel:function(t){return Math.abs(t)<1?.5:0},delta:Math.pow(4.5,.2)}},W8=Math.pow(8*Math.sqrt(Math.PI)/3,.2);function V8(t,e){return e.delta*W8*Math.min(t.sd,t.iqr/1.34)*Math.pow(t.length,-.2)}function X8(t){return t.facet_index+"-"+t.category}function $8(t){var e=Math.pow(10,3);return Math.round(t*e)/e}var J8;function K8(t,e){t=e.facets[t.facet_index];return"translate("+t.layout.x+","+t.layout.y+")"}function t9(e,t,n,r,i){var o,a=e.facets[r.facet_index],s="vertical"==t?a.scales[r.category_col]:a.scales[r.value_col],l="vertical"==t?a.scales[r.value_col]:a.scales[r.category_col],n=Ps(n),c=void 0===i;(s||l)&&(n.transition("style").duration(i||0).style("opacity",1).attr("fill",fb.box_color).attr("fill-opacity",fb.box_opacity).attr("stroke",fb.box_line_color).attr("stroke-width",fb.box_line_width).attr("transform",function(t){return K8(t,e)}),o=("vertical"==t?s:l).step()*(fb.violin_plot?.1:.5),fb.violin_plot||(o=Math.min(o,30)),"vertical"==t?n.transition().duration(i||0).attr("x",function(t){return s(t.category)-(c?0:o/2)}).attr("y",function(t){return l(t.top)}).attr("height",function(t){return l(t.bottom)-l(t.top)}).attr("width",c?0:o):n.transition().duration(i||0).attr("x",function(t){return s(t.bottom)}).attr("y",function(t){return l(t.category)-(c?0:o/2)}).attr("height",c?0:o).attr("width",function(t){return s(t.top)-s(t.bottom)}))}function e9(e,a,t,n,r){var i=e.facets[n.facet_index],s="vertical"==a?i.scales[n.category_col]:i.scales[n.value_col],l="vertical"==a?i.scales[n.value_col]:i.scales[n.category_col],t=Ps(t),c=void 0===r;t.transition("style").duration(r||0).style("opacity",1).attr("stroke",fb.box_line_color).attr("stroke-width",fb.box_line_width).attr("transform",function(t){return K8(t,e)}),t.transition().duration(r||0).attr("d",function(t){if(s||l){var e="",n=c?0:("vertical"==a?s:l).step()*(fb.violin_plot?.05:.25);fb.violin_plot||(n=Math.min(n,15));var r=fb.violin_plot?0:n,i="tukey"==fb.box_whisker_type?t.whisker_tukey_bottom:t.whisker_bottom,o="tukey"==fb.box_whisker_type?t.whisker_tukey_top:t.whisker_top;return"vertical"==a?(e+="M "+(s(t.category)-r)+","+l(o),e+=" L "+(s(t.category)+r)+","+l(o),e+=" M "+s(t.category)+","+l(o),e+=" L "+s(t.category)+","+l(t.top),e+=" M "+(s(t.category)-r)+","+l(i),e+=" L "+(s(t.category)+r)+","+l(i),e+=" M "+s(t.category)+","+l(i),e+=" L "+s(t.category)+","+l(t.bottom),e+=" M "+(s(t.category)-n)+","+l(t.mid),e+=" L "+(s(t.category)+n)+","+l(t.mid)):(e+="M "+s(o)+","+(l(t.category)-r),e+=" L "+s(o)+","+(l(t.category)+r),e+=" M "+s(o)+","+l(t.category),e+=" L "+s(t.top)+","+l(t.category),e+=" M "+s(i)+","+(l(t.category)-r),e+=" L "+s(i)+","+(l(t.category)+r),e+=" M "+s(i)+","+l(t.category),e+=" L "+s(t.bottom)+","+l(t.category),e+=" M "+s(t.mid)+","+(l(t.category)-n),e+=" L "+s(t.mid)+","+(l(t.category)+n)),e}})}function n9(e,i,t,n,o,r){var a,s,l=e.facets[n.facet_index],c="vertical"==i?l.scales[n.category_col]:l.scales[n.value_col],u="vertical"==i?l.scales[n.value_col]:l.scales[n.category_col],f=void 0===r;(c||u)&&(a=o.max_density||1,s=("vertical"==i?Jw().x0(function(t){var e=f?0:l.scales.w/l.scales.x.domain().length;return $8(t.density*e*.25/a+t.x_offset)}).x1(function(t){var e=f?0:l.scales.w/l.scales.x.domain().length;return $8(-t.density*e*.25/a+t.x_offset)}).y(function(t){return $8(l.scales.y(t.input))}):Jw().y0(function(t){var e=f?0:l.scales.h/l.scales.y.domain().length;return $8(t.density*e*.25/a+t.y_offset)}).y1(function(t){var e=f?0:l.scales.h/l.scales.y.domain().length;return $8(-t.density*e*.25/a+t.y_offset)}).x(function(t){return $8(l.scales.x(t.input))})).curve(f3),Ps(t).transition().duration(r||0).attr("transform",function(t){return K8(t,e)}).attr("opacity",fb.violin_opacity).attr("fill",fb.violin_color).attr("d",function(t){for(var e="vertical"==i?"x_offset":"y_offset",n="vertical"==i?c:u,r=0;r<o.length;r++)o[r][e]=n(t.category);return s(o)}))}function r9(i,n,t){var e=fb.violin_plot?i.boxes:[],r=Ps("#graphic .violins").selectAll(".violin").data(e,X8),o=e.map(function(t){return n=t.values,p=G8(n,r),g=Q8.gaussian,y=_=null,v=!(m=2500),e.bandwidth=function(t){return void 0===t?_:(_=t,e)},e.domain=function(t){return void 0===t?y&&y.slice():(y=t,e)},e.filter=function(t){return void 0===t?v:(v=!0===t?0:t,e)},e.kernel=function(t){return void 0===t?g.name:(g=Q8[t],e)},e.steps=function(t){return void 0===t?m:(m=t,e)},e.defaultBandwidth=function(){return V8(p,g)},e.steps(fb.violin_samples-1).domain(i.facets[t.facet_index].scales[t.value_col].domain());function e(){for(var e,n,t=_||V8(p,g),r=y?y[0]:p.min,i=y?y[1]:p.max,o=(i-r)/m,a=p.length,s=[],l=0,c=r;c<=i;c+=o){for(var u=p.values,f=-1,d=0;++f<a;)d+=g.kernel((c-u[f])/t);var h=d/t/a,l=Math.max(l,h);s.push({input:c,density:h})}return!v&&0!==v||(e=p.min,n=p.max,s=s.filter(function(t){return t.input>=e&&t.input<=n||t.density>v})),s.max_density=l,s}var n,r,p,g,_,m,y,v}),a=1;e.length&&(a=fb.violin_bandwidth||function(t,e){var n,r=t.length,i=-1,o=[];if(null==e)for(;++i<r;)isNaN(n=Gs(t[i]))||o.push(n);else for(;++i<r;)isNaN(n=Gs(e(t[i],i,t)))||o.push(n);return tl(o.sort(Fs),.5)}(o.map(function(t){return t.defaultBandwidth()})));var s,l=o.map(function(t){return t.bandwidth(a)()}),c=l.map(function(t){return t.reduce(function(t,e){return Math.max(t,e.density)},0)});"area"===fb.violin_sizing?(s=Math.max.apply(null,c),l.forEach(function(t){t.max_density=s})):l.forEach(function(t,e){t.max_density=c[e]});var o=r.enter().append("path").attr("class","violin").attr("pointer-events","none").each(function(t,e){n9(i,n,this,t,l[e])}),o=r.merge(o),u=t?0:1e3*fb.animation_duration;o.each(function(t,e){n9(i,n,this,t,l[e],u)}),r.exit().transition().duration(u).style("opacity",0).remove()}function i9(t,e){var n,r,i,o,a,s,l,c,u,f="x"==t.boxes.category_col?"vertical":"horizontal";n=t,r=f,s=e,l=fb.box_plot?n.boxes:[],c=Ps("#overlay .boxes").selectAll(".box").data(l,X8),l=c.enter().append("rect").attr("class","box").each(function(t){t9(n,r,this,t)}).on("mouseover",function(){f5.mouseover(this,M5(this.__data__))}).on("mouseout",function(){f5.mouseout()}),l=c.merge(l),i=s?0:1e3*fb.animation_duration,l.attr("id",function(t,e){return"box-"+e}).on("click",function(t,e){e="box-"+e;f5.click(this,M5(this.__data__),e)}).each(function(t){t9(n,r,this,t,i)}),c.exit().transition().duration(i).style("opacity",0).remove(),o=t,a=f,s=e,l=fb.box_plot?o.boxes:[],c=Ps("#overlay .boxes").selectAll(".whisker").data(l,X8),l=c.enter().append("path").attr("class","whisker").attr("pointer-events","none").each(function(t){e9(o,a,this,t)}),l=c.merge(l),u=s?0:1e3*fb.animation_duration,l.each(function(t){e9(o,a,this,t,u)}),c.exit().transition().duration(u).style("opacity",0).remove(),r9(t,f,e)}function o9(){this._valueAccessor=function(t){return t.value},this._idAccessor=function(t){return t.id},this._min=null,this._max=null,this._closestTo0=null,this.size=0,this._idToNode={}}function a9(){var o,a,i,s,l,t,c,u,f,d,h,p,e=[],n=4,g="horizontal",r="symetric",_=function(t){return t.x};function m(){}function y(t,e,n){return null===e||("prev"===n?t.value-e.value>o:e.value-t.value>o)?null:isFinite(e.datum.free)?e.datum:y(t,e[n],n)}function v(t,e,n,r){null===e||("prev"===n?t.value-e.value>o:e.value-t.value>o)||(r.push(e.datum),v(t,e[n],n,r))}function b(t){return"symetric"===r||("positive"===r?0<=t.free:t.free<=0)}function x(t,e){return Math.abs(t.free)<Math.abs(e)}function w(t,e,n){return null!==e&&(!("prev"===n?t.free-e.datum.free>o:e.datum.free-t.free>o)&&(r=t,i=e.datum,d++,Math.pow(i.free-r.free,2)+Math.pow(i.fixed-r.fixed,2)<a||w(t,e[n],n)));var r,i}function M(t,e){return w(t,e,"prev")||w(t,e,"next")}return m.data=function(t){return arguments.length?(e=t,m):e},m.radius=function(t){return arguments.length?(n=t,m):n},m.orientation=function(t){return arguments.length?("horizontal"!==t&&"vertical"!==t||(g=t),m):g},m.side=function(t){return arguments.length?("symetric"!==t&&"positive"!==t&&"negative"!==t||(r=t),m):r},m.distributeOn=function(t){return arguments.length?(_=t,m):_},m.arrange=function(){return t=e.map(function(t,e){return{datum:t,id:e,fixed:_(t),free:-1/0}}),o=2*n,a=Math.pow(o,2),i=(new o9).valueAccessor(function(t){return t.fixed}).addMany(t),s=(new o9).valueAccessor(function(t){return t.fixed}),l=(new o9).valueAccessor(function(t){return t.free}),c=u=0,d=h=p=f=0,t.forEach(function(e){var n,r=-1/0,t=function(t){var e=[],n=i.dln(t),r=y(n,n.prev,"prev"),t=y(n,n.next,"next");null!=r&&v(n=s.dln(r),n,"prev",e);null!=t&&v(n=s.dln(t),n,"next",e);c+=e.length,u<e.length&&(u=e.length);return e}(e);0===t.length?r=0:(l.empty(),l.addMany(t),e.free=0,M(e,l.closestTo0())?t.forEach(function(t){n=Math.sqrt(a-Math.pow(e.fixed-t.fixed,2))+1e-6,e.free=t.free-n,b(e)&&x(e,r)&&!M(e,l.dln(t))&&(r=e.free),h+=d,p<d&&(p=d),d=0,f+=1,e.free=t.free+n,b(e)&&x(e,r)&&!M(e,l.dln(t))&&(r=e.free),h+=d,p<d&&(p=d),d=0,f+=1}):(h+=d,p<d&&(p=d),d=r=0,f+=1)),e.free=r,"horizontal"===g?(e.x=e.fixed,e.y=r):(e.x=r,e.y=e.fixed),s.add(e)}),t},m.metrics=function(){return{totalPossibleColliders:c,maxPossibleColliders:u,totalTestedPlacements:f,visitedColliderCount:d,totalVisitedColliders:h,maxVisitedColliders:p}},m}$t({target:"String",proto:!0,forced:r_("fixed")},{fixed:function(){return f2(this,"tt","","")}}),o9.prototype.valueAccessor=function(t){return arguments.length?(this._valueAccessor=t,this):this._valueAccessor},o9.prototype.idAccessor=function(t){return arguments.length?(this._idAccessor=t,this):this._idAccessor},o9.prototype.min=function(){return this._min},o9.prototype.max=function(){return this._max},o9.prototype.closestTo0=function(){return this._closestTo0},o9.prototype.dln=function(t){return this._idToNode[this._idAccessor(t)]},o9.prototype.empty=function(){return this._min=null,this._max=null,this._closestTo0=null,this.size=0,this._idToNode={},this},o9.prototype.add=function(t){var e={datum:t,value:this._valueAccessor(t),prev:null,next:null};if(0===this.size)this._min=this._max=this._closestTo0=e;else{if(e.value<=this._min.value)e.next=this._min,e.next.prev=e,this._min=e;else if(e.value>=this._max.value)e.prev=this._max,e.prev.next=e,this._max=e;else{for(var n=this._max;n.value>e.value;)n=n.prev;e.prev=n,e.next=n.next,(e.next.prev=e).prev.next=e}Math.abs(e.value)<Math.abs(this._closestTo0.value)&&(this._closestTo0=e)}return this._idToNode[this._idAccessor(t)]=e,this.size++,this},o9.prototype.addMany=function(t){return t.forEach(function(t,e){this.add(t)},this),this},o9.prototype.remove=function(t){var e,n,r=this.dln(t);return 1===this.size?this._min=this._max=this._closestTo0=null:(r===this._closestTo0&&(null===this._closestTo0.next||null===this._closestTo0.prev?this._closestTo0=r.prev:(e=Math.abs(this._closestTo0.prev.value),n=Math.abs(this._closestTo0.next.value),this._closestTo0=e<n?this._closestTo0.prev:this._closestTo0.next)),r===this._min?(this._min=this._min.next,this._min.prev=null):r===this._max?(this._max=this._max.prev,this._max.next=null):(r.next.prev=r.prev,r.prev.next=r.next)),delete this._idToNode[this._idAccessor(t)],r=null,this.size--,this};var s9={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},l9=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function c9(t){return 48<=t&&t<=57}function u9(t){this.index=0,this.path=t,this.max=t.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function f9(t){for(;t.index<t.max&&(10===(e=t.path.charCodeAt(t.index))||13===e||8232===e||8233===e||32===e||9===e||11===e||12===e||160===e||5760<=e&&0<=l9.indexOf(e));)t.index++;var e}function d9(t){var e=t.path[t.segmentStart],n=e.toLowerCase(),r=t.data;if("m"===n&&2<r.length&&(t.result.push([e,r[0],r[1]]),r=r.slice(2),n="l",e="m"===e?"l":"L"),"r"===n)t.result.push([e].concat(r));else for(;r.length>=s9[n]&&(t.result.push([e].concat(r.splice(0,s9[n]))),s9[n]););}function h9(t){var e,n,r,i,o,a,s,l,c=t.max;if(t.segmentStart=t.index,n=97==(32|(e=t.path.charCodeAt(t.index))),function(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return 1}}(e))if(i=s9[t.path[t.index].toLowerCase()],t.index++,f9(t),t.data=[],i){for(r=!1;;){for(o=i;0<o;o--){if(!n||3!==o&&4!==o?function(t){var e,n,r=t.index,i=r,o=t.max,a=!1,s=!1,l=!1;if(o<=i)t.err="SvgPath: missed param (at pos "+i+")";else if(c9(n=43===(n=t.path.charCodeAt(i))||45===n?++i<o?t.path.charCodeAt(i):0:n)||46===n){if(46!==n){if(e=48===n,n=++i<o?t.path.charCodeAt(i):0,e&&i<o&&n&&c9(n))return t.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+r+")";for(;i<o&&c9(t.path.charCodeAt(i));)i++,a=!0;n=i<o?t.path.charCodeAt(i):0}if(46===n){for(l=!0,i++;c9(t.path.charCodeAt(i));)i++,s=!0;n=i<o?t.path.charCodeAt(i):0}if(101===n||69===n){if(l&&!a&&!s)return t.err="SvgPath: invalid float exponent (at pos "+i+")";if(43!==(n=++i<o?t.path.charCodeAt(i):0)&&45!==n||i++,!(i<o&&c9(t.path.charCodeAt(i))))return t.err="SvgPath: invalid float exponent (at pos "+i+")";for(;i<o&&c9(t.path.charCodeAt(i));)i++}t.index=i,t.param=parseFloat(t.path.slice(r,i))+0}else t.err="SvgPath: param should start with 0..9 or `.` (at pos "+i+")"}(t):(l=void 0,48===(l=(s=t).path.charCodeAt(s.index))?(s.param=0,s.index++):49===l?(s.param=1,s.index++):s.err="SvgPath: arc flag can be 0 or 1 only (at pos "+s.index+")"),t.err.length)return;t.data.push(t.param),f9(t),r=!1,t.index<c&&44===t.path.charCodeAt(t.index)&&(t.index++,f9(t),r=!0)}if(!r){if(t.index>=t.max)break;if(!(48<=(a=t.path.charCodeAt(t.index))&&a<=57||43===a||45===a||46===a))break}}d9(t)}else d9(t);else t.err="SvgPath: bad command "+t.path[t.index]+" (at pos "+t.index+")"}function p9(){if(!(this instanceof p9))return new p9;this.queue=[],this.cache=null}p9.prototype.matrix=function(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]||(this.cache=null,this.queue.push(t)),this},p9.prototype.translate=function(t,e){return 0===t&&0===e||(this.cache=null,this.queue.push([1,0,0,1,t,e])),this},p9.prototype.scale=function(t,e){return 1===t&&1===e||(this.cache=null,this.queue.push([t,0,0,e,0,0])),this},p9.prototype.rotate=function(t,e,n){var r;return 0!==t&&(this.translate(e,n),r=t*Math.PI/180,t=Math.cos(r),r=Math.sin(r),this.queue.push([t,r,-r,t,0,0]),this.cache=null,this.translate(-e,-n)),this},p9.prototype.skewX=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,0,Math.tan(t*Math.PI/180),1,0,0])),this},p9.prototype.skewY=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,Math.tan(t*Math.PI/180),0,1,0,0])),this},p9.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],1===this.queue.length)return this.cache;for(var t,e,n=1;n<this.queue.length;n++)this.cache=(t=this.cache,e=this.queue[n],[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]);return this.cache},p9.prototype.calc=function(t,e,n){var r;return this.queue.length?(this.cache||(this.cache=this.toArray()),[t*(r=this.cache)[0]+e*r[2]+(n?0:r[4]),t*r[1]+e*r[3]+(n?0:r[5])]):[t,e]};var g9=p9,_9={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},m9=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,y9=/[\s,]+/,v9=2*Math.PI;function b9(t,e,n,r){var i=t*n+e*r;return(i=1<i?1:i)<-1&&(i=-1),(t*r-e*n<0?-1:1)*Math.acos(i)}function x9(t,e,n,r,i,o,a,s,l){var c,u,f=Math.sin(l*v9/360),d=Math.cos(l*v9/360),h=-f*(t-n)/2+d*(e-r)/2;if(0==(c=d*(t-n)/2+f*(e-r)/2)&&0==h)return[];if(0===a||0===s)return[];a=Math.abs(a),s=Math.abs(s),1<(u=c*c/(a*a)+h*h/(s*s))&&(a*=Math.sqrt(u),s*=Math.sqrt(u));var p,g,_,m,y,v,b,x=(p=i,g=o,(r=(v=(_=a)*_)*(b=(m=s)*m)-v*(t=(o=-(y=f)*((l=t)-(c=n))/2+(h=d)*((u=e)-(i=r))/2)*o)-b*(e=(n=h*(l-c)/2+y*(u-i)/2)*n))<0&&(r=0),r/=v*t+b*e,p=(r=Math.sqrt(r)*(p===g?-1:1))*_/m*o,c=h*p-y*(r=r*-m/_*n)+(l+c)/2,h=y*p+h*r+(u+i)/2,u=(n-p)/_,i=(o-r)/m,_=(-n-p)/_,r=(-o-r)/m,m=b9(1,0,u,i),r=b9(u,i,_,r),0===g&&0<r&&(r-=v9),1===g&&r<0&&(r+=v9),[c,h,m,r]),w=[],M=x[2],k=x[3],j=Math.max(Math.ceil(Math.abs(k)/(v9/4)),1);k/=j;for(var A,T,z,N,D,S,I=0;I<j;I++)w.push((A=M,T=k,S=D=N=z=void 0,z=4/3*Math.tan(T/4),N=Math.cos(A),D=Math.sin(A),S=Math.cos(A+T),T=Math.sin(A+T),[N,D,N-D*z,D+N*z,S+T*z,T-S*z,S,T])),M+=k;return w.map(function(t){for(var e=0;e<t.length;e+=2){var n=t[e+0],r=t[e+1],i=f*(n*=a)+d*(r*=s);t[e+0]=d*n-f*r+x[0],t[e+1]=i+x[1]}return t})}var w9=1e-10,M9=Math.PI/180;function k9(t,e,n){if(!(this instanceof k9))return new k9(t,e,n);this.rx=t,this.ry=e,this.ax=n}k9.prototype.transform=function(t){var e=Math.cos(this.ax*M9),n=Math.sin(this.ax*M9),r=[this.rx*(t[0]*e+t[2]*n),this.rx*(t[1]*e+t[3]*n),this.ry*(-t[0]*n+t[2]*e),this.ry*(-t[1]*n+t[3]*e)],i=r[0]*r[0]+r[2]*r[2],o=r[1]*r[1]+r[3]*r[3],n=((r[0]-r[3])*(r[0]-r[3])+(r[2]+r[1])*(r[2]+r[1]))*((r[0]+r[3])*(r[0]+r[3])+(r[2]-r[1])*(r[2]-r[1])),t=(i+o)/2;if(n<w9*t)return this.rx=this.ry=Math.sqrt(t),this.ax=0,this;e=r[0]*r[1]+r[2]*r[3],r=t+(n=Math.sqrt(n))/2,n=t-n/2;return this.ax=Math.abs(e)<w9&&Math.abs(r-o)<w9?90:180*Math.atan(Math.abs(e)>Math.abs(r-o)?(r-i)/e:e/(r-o))/Math.PI,0<=this.ax?(this.rx=Math.sqrt(r),this.ry=Math.sqrt(n)):(this.ax+=90,this.rx=Math.sqrt(n),this.ry=Math.sqrt(r)),this},k9.prototype.isDegenerate=function(){return this.rx<w9*this.ry||this.ry<w9*this.rx};var j9=k9;function A9(t){if(!(this instanceof A9))return new A9(t);t=function(t){var e=new u9(t),n=e.max;for(f9(e);e.index<n&&!e.err.length;)h9(e);return e.err.length?e.result=[]:e.result.length&&("mM".indexOf(e.result[0][0])<0?(e.err="SvgPath: string should start with `M` or `m`",e.result=[]):e.result[0][0]="M"),{err:e.err,segments:e.result}}(t);this.segments=t.segments,this.err=t.err,this.__stack=[]}A9.from=function(t){if("string"==typeof t)return new A9(t);if(t instanceof A9){var e=new A9("");return e.err=t.err,e.segments=t.segments.map(function(t){return t.slice()}),e.__stack=t.__stack.map(function(t){return g9().matrix(t.toArray())}),e}throw new Error("SvgPath.from: invalid param type "+t)},A9.prototype.__matrix=function(c){var u,f=this;c.queue.length&&this.iterate(function(t,e,n,r){var i,o,a;switch(t[0]){case"v":o=0===(i=c.calc(0,t[1],!0))[0]?["v",i[1]]:["l",i[0],i[1]];break;case"V":o=(i=c.calc(n,t[1],!1))[0]===c.calc(n,r,!1)[0]?["V",i[1]]:["L",i[0],i[1]];break;case"h":o=0===(i=c.calc(t[1],0,!0))[1]?["h",i[0]]:["l",i[0],i[1]];break;case"H":o=(i=c.calc(t[1],r,!1))[1]===c.calc(n,r,!1)[1]?["H",i[0]]:["L",i[0],i[1]];break;case"a":case"A":var s=c.toArray(),l=j9(t[1],t[2],t[3]).transform(s);if(s[0]*s[3]-s[1]*s[2]<0&&(t[5]=t[5]?"0":"1"),i=c.calc(t[6],t[7],"a"===t[0]),"A"===t[0]&&t[6]===n&&t[7]===r||"a"===t[0]&&0===t[6]&&0===t[7]){o=["a"===t[0]?"l":"L",i[0],i[1]];break}o=l.isDegenerate()?["a"===t[0]?"l":"L",i[0],i[1]]:[t[0],l.rx,l.ry,l.ax,t[4],t[5],i[0],i[1]];break;case"m":o=["m",(i=c.calc(t[1],t[2],a=0<e))[0],i[1]];break;default:for(o=[l=t[0]],a=l.toLowerCase()===l,u=1;u<t.length;u+=2)i=c.calc(t[u],t[u+1],a),o.push(i[0],i[1])}f.segments[e]=o},!0)},A9.prototype.__evaluateStack=function(){var t,e;if(this.__stack.length){if(1===this.__stack.length)return this.__matrix(this.__stack[0]),void(this.__stack=[]);for(t=g9(),e=this.__stack.length;0<=--e;)t.matrix(this.__stack[e].toArray());this.__matrix(t),this.__stack=[]}},A9.prototype.toString=function(){var t,e=[];this.__evaluateStack();for(var n=0;n<this.segments.length;n++)t=this.segments[n][0],t=0<n&&"m"!==t&&"M"!==t&&t===this.segments[n-1][0],e=e.concat(t?this.segments[n].slice(1):this.segments[n]);return e.join(" ").replace(/ ?([achlmqrstvz]) ?/gi,"$1").replace(/ \-/g,"-").replace(/zm/g,"z m")},A9.prototype.translate=function(t,e){return this.__stack.push(g9().translate(t,e||0)),this},A9.prototype.scale=function(t,e){return this.__stack.push(g9().scale(t,e||0===e?e:t)),this},A9.prototype.rotate=function(t,e,n){return this.__stack.push(g9().rotate(t,e||0,n||0)),this},A9.prototype.skewX=function(t){return this.__stack.push(g9().skewX(t)),this},A9.prototype.skewY=function(t){return this.__stack.push(g9().skewY(t)),this},A9.prototype.matrix=function(t){return this.__stack.push(g9().matrix(t)),this},A9.prototype.transform=function(t){return t.trim()&&this.__stack.push((t=t,r=new g9,t.split(m9).forEach(function(t){if(t.length)if(void 0===_9[t])switch(n=t.split(y9).map(function(t){return+t||0}),e){case"matrix":return void(6===n.length&&r.matrix(n));case"scale":return void(1===n.length?r.scale(n[0],n[0]):2===n.length&&r.scale(n[0],n[1]));case"rotate":return void(1===n.length?r.rotate(n[0],0,0):3===n.length&&r.rotate(n[0],n[1],n[2]));case"translate":return void(1===n.length?r.translate(n[0],0):2===n.length&&r.translate(n[0],n[1]));case"skewX":return void(1===n.length&&r.skewX(n[0]));case"skewY":return void(1===n.length&&r.skewY(n[0]))}else e=t}),r)),this;var e,n,r},A9.prototype.round=function(r){var e,i=0,o=0,a=0,s=0;return r=r||0,this.__evaluateStack(),this.segments.forEach(function(n){var t=n[0].toLowerCase()===n[0];switch(n[0]){case"H":case"h":return t&&(n[1]+=a),a=n[1]-n[1].toFixed(r),void(n[1]=+n[1].toFixed(r));case"V":case"v":return t&&(n[1]+=s),s=n[1]-n[1].toFixed(r),void(n[1]=+n[1].toFixed(r));case"Z":case"z":return a=i,void(s=o);case"M":case"m":return t&&(n[1]+=a,n[2]+=s),a=n[1]-n[1].toFixed(r),s=n[2]-n[2].toFixed(r),i=a,o=s,n[1]=+n[1].toFixed(r),void(n[2]=+n[2].toFixed(r));case"A":case"a":return t&&(n[6]+=a,n[7]+=s),a=n[6]-n[6].toFixed(r),s=n[7]-n[7].toFixed(r),n[1]=+n[1].toFixed(r),n[2]=+n[2].toFixed(r),n[3]=+n[3].toFixed(r+2),n[6]=+n[6].toFixed(r),void(n[7]=+n[7].toFixed(r));default:return e=n.length,t&&(n[e-2]+=a,n[e-1]+=s),a=n[e-2]-n[e-2].toFixed(r),s=n[e-1]-n[e-1].toFixed(r),void n.forEach(function(t,e){e&&(n[e]=+n[e].toFixed(r))})}}),this},A9.prototype.iterate=function(i,t){var e,n,r,o=this.segments,a={},s=!1,l=0,c=0,u=0,f=0;if(t||this.__evaluateStack(),o.forEach(function(t,e){var n=i(t,e,l,c);Array.isArray(n)&&(a[e]=n,s=!0);var r=t[0]===t[0].toLowerCase();switch(t[0]){case"m":case"M":return l=t[1]+(r?l:0),c=t[2]+(r?c:0),u=l,void(f=c);case"h":case"H":return void(l=t[1]+(r?l:0));case"v":case"V":return void(c=t[1]+(r?c:0));case"z":case"Z":return l=u,void(c=f);default:l=t[t.length-2]+(r?l:0),c=t[t.length-1]+(r?c:0)}}),!s)return this;for(r=[],e=0;e<o.length;e++)if(void 0!==a[e])for(n=0;n<a[e].length;n++)r.push(a[e][n]);else r.push(o[e]);return this.segments=r,this},A9.prototype.abs=function(){return this.iterate(function(t,e,n,r){var i,o=t[0],a=o.toUpperCase();if(o!==a)switch(t[0]=a,o){case"v":return void(t[1]+=r);case"a":return t[6]+=n,void(t[7]+=r);default:for(i=1;i<t.length;i++)t[i]+=i%2?n:r}},!0),this},A9.prototype.rel=function(){return this.iterate(function(t,e,n,r){var i,o=t[0],a=o.toLowerCase();if(o!==a&&(0!==e||"M"!==o))switch(t[0]=a,o){case"V":return void(t[1]-=r);case"A":return t[6]-=n,void(t[7]-=r);default:for(i=1;i<t.length;i++)t[i]-=i%2?n:r}},!0),this},A9.prototype.unarc=function(){return this.iterate(function(t,e,n,r){var i,o=[],a=t[0];return"A"!==a&&"a"!==a?null:(a="a"===a?(i=n+t[6],r+t[7]):(i=t[6],t[7]),0===(a=x9(n,r,i,a,t[4],t[5],t[1],t[2],t[3])).length?[["a"===t[0]?"l":"L",t[6],t[7]]]:(a.forEach(function(t){o.push(["C",t[2],t[3],t[4],t[5],t[6],t[7]])}),o))}),this},A9.prototype.unshort=function(){var s,l,c,u,f,d=this.segments;return this.iterate(function(t,e,n,r){var i,o=t[0],a=o.toUpperCase();e&&("T"===a?(c=d[e-1],l="Q"===c[0]?(s=c[1]-n,c[2]-r):"q"===c[0]?(s=c[1]-c[3],c[2]-c[4]):s=0,u=-s,f=-l,(i="t"===o)||(u+=n,f+=r),d[e]=[i?"q":"Q",u,f,t[1],t[2]]):"S"===a&&(c=d[e-1],l="C"===c[0]?(s=c[3]-n,c[4]-r):"c"===c[0]?(s=c[3]-c[5],c[4]-c[6]):s=0,u=-s,f=-l,(i="s"===o)||(u+=n,f+=r),d[e]=[i?"c":"C",u,f,t[1],t[2],t[3],t[4]]))}),this};var T9=A9,z9={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},N9=/([astvzqmhlc])([^astvzqmhlc]*)/gi;function D9(t){var i=[];return t.replace(N9,function(t,e,n){var r=e.toLowerCase();for(n=function(t){t=t.match(S9);return t?t.map(Number):[]}(n),"m"===r&&2<n.length&&(i.push([e].concat(n.splice(0,2))),r="l",e="m"===e?"l":"L");0<=n.length;){if(n.length===z9[r])return n.unshift(e),i.push(n);if(n.length<z9[r])throw new Error("malformed path data");i.push([e].concat(n.splice(0,z9[r])))}}),i}var S9=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function I9(t,e,n,r,i,o,a,s){return new E9(t,e,n,r,i,o,a,s)}function E9(t,e,n,r,i,o,a,s){this.a={x:t,y:e},this.b={x:n,y:r},this.c={x:i,y:o},this.d={x:a,y:s},null!=a&&null!=s?(this.getArcLength=Z9,this.getPoint=R9,this.getDerivative=C9):(this.getArcLength=F9,this.getPoint=P9,this.getDerivative=L9),this.init()}function L9(t,e,n){return{x:2*(1-n)*(t[1]-t[0])+2*n*(t[2]-t[1]),y:2*(1-n)*(e[1]-e[0])+2*n*(e[2]-e[1])}}function C9(t,e,n){return P9([3*(t[1]-t[0]),3*(t[2]-t[1]),3*(t[3]-t[2])],[3*(e[1]-e[0]),3*(e[2]-e[1]),3*(e[3]-e[2])],n)}function O9(t,e,n,r,i){for(var o=1,a=t/e,s=(t-n(r,i,a))/e;.001<o;){var l=n(r,i,a+s),c=n(r,i,a-s),l=Math.abs(t-l)/e,c=Math.abs(t-c)/e;l<o?(o=l,a+=s):c<o?(o=c,a-=s):s/=2}return a}function P9(t,e,n){return{x:(1-n)*(1-n)*t[0]+2*(1-n)*n*t[1]+n*n*t[2],y:(1-n)*(1-n)*e[0]+2*(1-n)*n*e[1]+n*n*e[2]}}function R9(t,e,n){return{x:(1-n)*(1-n)*(1-n)*t[0]+3*(1-n)*(1-n)*n*t[1]+3*(1-n)*n*n*t[2]+n*n*n*t[3],y:(1-n)*(1-n)*(1-n)*e[0]+3*(1-n)*(1-n)*n*e[1]+3*(1-n)*n*n*e[2]+n*n*n*e[3]}}function F9(t,e,n){void 0===n&&(n=1);var r=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],o=2*t[1]-2*t[0],a=2*e[1]-2*e[0],s=4*(r*r+i*i),i=4*(r*o+i*a),a=o*o+a*a;if(0==s)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));i/=2*s,n+=i,a=a/s-i*i;return Math.sqrt(s)/2*(n*Math.sqrt(n*n+a)-i*Math.sqrt(i*i+a)+a*Math.log(Math.abs((n+Math.sqrt(n*n+a))/(i+Math.sqrt(i*i+a)))))}E9.prototype={constructor:E9,init:function(){this.length=this.getArcLength([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y])},getTotalLength:function(){return this.length},getPointAtLength:function(t){t=O9(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]);return this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t)},getTangentAtLength:function(t){var e=O9(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),t=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e),e=Math.sqrt(t.x*t.x+t.y*t.y),e=0<e?{x:t.x/e,y:t.y/e}:{x:0,y:0};return e},getPropertiesAtLength:function(t){var e=O9(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e),t=Math.sqrt(n.x*n.x+n.y*n.y),t=0<t?{x:n.x/t,y:n.y/t}:{x:0,y:0},e=this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e);return{x:e.x,y:e.y,tangentX:t.x,tangentY:t.y}}};var Y9=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],U9=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],B9=[[1],[1,1],[1,2,1],[1,3,3,1]];function H9(t,e,n){var r,i,o,a,s=n.length-1;if(0==s)return 0;if(0===t){for(o=i=0;o<=s;o++)i+=(a=o,B9[s][a]*Math.pow(1-e,s-o)*Math.pow(e,o)*n[o]);return i}for(r=new Array(s),o=0;o<s;o++)r[o]=s*(n[o+1]-n[o]);return H9(t-1,e,r)}function Z9(t,e,n){for(var r,i,o,a=(n=void 0===n?1:n)/2,s=0,l=0;l<20;l++)r=a*Y9[20][l]+a,s+=U9[20][l]*(i=e,r=H9(1,o=r,r=t),i=H9(1,o,i),Math.sqrt(r*r+i*i));return a*s}var G9=2*Math.PI;function q9(t,e,n,r){var i=t*n+e*r;return(i=1<i?1:i)<-1&&(i=-1),(t*r-e*n<0?-1:1)*Math.acos(i)}function Q9(t,e,o,a,n,r,i,s,l){var c=Math.sin(n*G9/360),u=Math.cos(n*G9/360),f=u*(t-s)/2+c*(e-l)/2,d=-c*(t-s)/2+u*(e-l)/2;if(0==f&&0==d)return[];if(0===o||0===a)return[];o=Math.abs(o),a=Math.abs(a);var h=f*f/(o*o)+d*d/(a*a);1<h&&(o*=Math.sqrt(h),a*=Math.sqrt(h));var p,g,_,m,y,v,b,x=(p=r,g=i,(l=(v=(_=o)*_)*(b=(m=a)*m)-v*(t=(i=-(y=c)*((n=t)-(f=s))/2+(d=u)*((h=e)-(r=l))/2)*i)-b*(e=(s=d*(n-f)/2+y*(h-r)/2)*s))<0&&(l=0),l/=v*t+b*e,p=(l=Math.sqrt(l)*(p===g?-1:1))*_/m*i,f=d*p-y*(l=l*-m/_*s)+(n+f)/2,d=y*p+d*l+(h+r)/2,h=(s-p)/_,r=(i-l)/m,_=(-s-p)/_,l=(-i-l)/m,m=q9(1,0,h,r),l=q9(h,r,_,l),0===g&&0<l&&(l-=G9),1===g&&l<0&&(l+=G9),[f,d,m,l]),w=[],M=x[2],k=x[3],j=Math.max(Math.ceil(Math.abs(k)/(G9/4)),1);k/=j;for(var A,T,z,N,D,S,I=0;I<j;I++)w.push((A=M,T=k,S=D=N=z=void 0,z=4/3*Math.tan(T/4),N=Math.cos(A),D=Math.sin(A),S=Math.cos(A+T),T=Math.sin(A+T),[N,D,N-D*z,D+N*z,S+T*z,T-S*z,S,T])),M+=k;return w.map(function(t){for(var e=0;e<t.length;e+=2){var n=t[e+0],r=t[e+1],i=c*(n*=o)+u*(r*=a);t[e+0]=u*n-c*r+x[0],t[e+1]=i+x[1]}return t})}function W9(t,e,n,r,i,o,a,s,l){return new V9(t,e,n,r,i,o,a,s,l)}function V9(t,e,n,r,i,o,a,s,l){var c=0,u=[],f=[];Q9(t,e,n,r,i,o,a,s,l).forEach(function(t){var e=new I9(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),t=e.getTotalLength();c+=t,u.push(t),f.push(e)}),this.length=c,this.partialLengths=u,this.curves=f}function X9(t,e,n,r){return new $9(t,e,n,r)}function $9(t,e,n,r){this.x0=t,this.x1=e,this.y0=n,this.y1=r}function J9(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function K9(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function tk(t,n,r){var i=t.map(function(t,e){return r=t,i=n[e],function(n){return r.map(function(t,e){return t+n*(i[e]-t)})};var r,i});return function(e){var t=i.map(function(t){return t(e)});return r?"M"+t.join("L")+"Z":t}}function ek(t){return"number"==typeof t&&isFinite(t)}V9.prototype={constructor:V9,init:function(){},getTotalLength:function(){return this.length},getPointAtLength:function(t){t<0?t=0:t>this.length&&(t=this.length);for(var e=this.partialLengths.length-1;this.partialLengths[e]>=t&&0<this.partialLengths[e];)e--;e<this.partialLengths.length-1&&e++;for(var n=0,r=0;r<e;r++)n+=this.partialLengths[r];return this.curves[e].getPointAtLength(t-n)},getTangentAtLength:function(t){t<0?t=0:t>this.length&&(t=this.length);for(var e=this.partialLengths.length-1;this.partialLengths[e]>=t&&0<this.partialLengths[e];)e--;e<this.partialLengths.length-1&&e++;for(var n=0,r=0;r<e;r++)n+=this.partialLengths[r];return this.curves[e].getTangentAtLength(t-n)},getPropertiesAtLength:function(t){var e=this.getTangentAtLength(t),t=this.getPointAtLength(t);return{x:t.x,y:t.y,tangentX:e.x,tangentY:e.y}}},$9.prototype.getTotalLength=function(){return Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2))},$9.prototype.getPointAtLength=function(t){var e=t/Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2)),t=(this.x1-this.x0)*e,e=(this.y1-this.y0)*e;return{x:this.x0+t,y:this.y0+e}},$9.prototype.getTangentAtLength=function(){var t=Math.sqrt((this.x1-this.x0)*(this.x1-this.x0)+(this.y1-this.y0)*(this.y1-this.y0));return{x:(this.x1-this.x0)/t,y:(this.y1-this.y0)/t}},$9.prototype.getPropertiesAtLength=function(t){var e=this.getPointAtLength(t),t=this.getTangentAtLength();return{x:e.x,y:e.y,tangentX:t.x,tangentY:t.y}};var nk,rk='All shapes must be supplied as arrays of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).\nExample valid ways of supplying a shape would be:\n[[0, 0], [10, 0], [10, 10]]\n"M0,0 L10,0 L10,10Z"\n';function ik(t,e){t=new T9(t).abs();return function(t){var e=t.segments||[],n=[];if(!e.length||"M"!==e[0][0])return!1;for(var r=0;r<e.length;r++){var i=ka(e[r],3),o=i[0],a=i[1],i=i[2];if("M"===o&&r||"Z"===o)break;if("M"===o||"L"===o)n.push([a,i]);else if("H"===o)n.push([a,n[n.length-1][1]]);else{if("V"!==o)return!1;n.push([n[n.length-1][0],a])}}return!!n.length&&{ring:n}}(t)||function(t,e){var n,r,t=function(t){return t.toString().split("M").map(function(t,e){return t=t.trim(),e&&t?"M"+t:t}).filter(function(t){return t})}(t)[0],i=[],o=3;if(!t)throw new TypeError(rk);r=function(t){if("undefined"!=typeof window&&window&&window.document)try{var e=window.document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttributeNS(null,"d",t),e}catch(t){}return function(t){var s=0,l=[],c=[];function u(t){if(!t)return null;for(var e,n,r=D9(t),i=[0,0],o=[0,0],a=0;a<r.length;a++)"M"===r[a][0]?(n=[(i=[r[a][1],r[a][2]])[0],i[1]],c.push(null)):"m"===r[a][0]?(n=[(i=[r[a][1]+i[0],r[a][2]+i[1]])[0],i[1]],c.push(null)):"L"===r[a][0]?(s+=Math.sqrt(Math.pow(i[0]-r[a][1],2)+Math.pow(i[1]-r[a][2],2)),c.push(new X9(i[0],r[a][1],i[1],r[a][2])),i=[r[a][1],r[a][2]]):"l"===r[a][0]?(s+=Math.sqrt(Math.pow(r[a][1],2)+Math.pow(r[a][2],2)),c.push(new X9(i[0],r[a][1]+i[0],i[1],r[a][2]+i[1])),i=[r[a][1]+i[0],r[a][2]+i[1]]):"H"===r[a][0]?(s+=Math.abs(i[0]-r[a][1]),c.push(new X9(i[0],r[a][1],i[1],i[1])),i[0]=r[a][1]):"h"===r[a][0]?(s+=Math.abs(r[a][1]),c.push(new X9(i[0],i[0]+r[a][1],i[1],i[1])),i[0]=r[a][1]+i[0]):"V"===r[a][0]?(s+=Math.abs(i[1]-r[a][1]),c.push(new X9(i[0],i[0],i[1],r[a][1])),i[1]=r[a][1]):"v"===r[a][0]?(s+=Math.abs(r[a][1]),c.push(new X9(i[0],i[0],i[1],i[1]+r[a][1])),i[1]=r[a][1]+i[1]):"z"===r[a][0]||"Z"===r[a][0]?(s+=Math.sqrt(Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2)),c.push(new X9(i[0],n[0],i[1],n[1])),i=[n[0],n[1]]):"C"===r[a][0]?(e=new I9(i[0],i[1],r[a][1],r[a][2],r[a][3],r[a][4],r[a][5],r[a][6]),s+=e.getTotalLength(),i=[r[a][5],r[a][6]],c.push(e)):"c"===r[a][0]?(e=new I9(i[0],i[1],i[0]+r[a][1],i[1]+r[a][2],i[0]+r[a][3],i[1]+r[a][4],i[0]+r[a][5],i[1]+r[a][6]),s+=e.getTotalLength(),i=[r[a][5]+i[0],r[a][6]+i[1]],c.push(e)):"S"===r[a][0]?(e=0<a&&-1<["C","c","S","s"].indexOf(r[a-1][0])?new I9(i[0],i[1],2*i[0]-r[a-1][r[a-1].length-4],2*i[1]-r[a-1][r[a-1].length-3],r[a][1],r[a][2],r[a][3],r[a][4]):new I9(i[0],i[1],i[0],i[1],r[a][1],r[a][2],r[a][3],r[a][4]),s+=e.getTotalLength(),i=[r[a][3],r[a][4]],c.push(e)):"s"===r[a][0]?(e=0<a&&-1<["C","c","S","s"].indexOf(r[a-1][0])?new I9(i[0],i[1],i[0]+e.d.x-e.c.x,i[1]+e.d.y-e.c.y,i[0]+r[a][1],i[1]+r[a][2],i[0]+r[a][3],i[1]+r[a][4]):new I9(i[0],i[1],i[0],i[1],i[0]+r[a][1],i[1]+r[a][2],i[0]+r[a][3],i[1]+r[a][4]),s+=e.getTotalLength(),i=[r[a][3]+i[0],r[a][4]+i[1]],c.push(e)):"Q"===r[a][0]?(e=i[0]!=r[a][1]&&i[1]!=r[a][2]?new I9(i[0],i[1],r[a][1],r[a][2],r[a][3],r[a][4]):new X9(r[a][1],r[a][3],r[a][2],r[a][4]),s+=e.getTotalLength(),c.push(e),i=[r[a][3],r[a][4]],o=[r[a][1],r[a][2]]):"q"===r[a][0]?(e=0!=r[a][1]||0!=r[a][2]?new I9(i[0],i[1],i[0]+r[a][1],i[1]+r[a][2],i[0]+r[a][3],i[1]+r[a][4]):new X9(i[0]+r[a][1],i[0]+r[a][3],i[1]+r[a][2],i[1]+r[a][4]),s+=e.getTotalLength(),o=[i[0]+r[a][1],i[1]+r[a][2]],i=[r[a][3]+i[0],r[a][4]+i[1]],c.push(e)):"T"===r[a][0]?(e=0<a&&-1<["Q","q","T","t"].indexOf(r[a-1][0])?new I9(i[0],i[1],2*i[0]-o[0],2*i[1]-o[1],r[a][1],r[a][2]):new X9(i[0],r[a][1],i[1],r[a][2]),c.push(e),s+=e.getTotalLength(),o=[2*i[0]-o[0],2*i[1]-o[1]],i=[r[a][1],r[a][2]]):"t"===r[a][0]?(e=0<a&&-1<["Q","q","T","t"].indexOf(r[a-1][0])?new I9(i[0],i[1],2*i[0]-o[0],2*i[1]-o[1],i[0]+r[a][1],i[1]+r[a][2]):new X9(i[0],i[0]+r[a][1],i[1],i[1]+r[a][2]),s+=e.getTotalLength(),o=[2*i[0]-o[0],2*i[1]-o[1]],i=[r[a][1]+i[0],r[a][2]+i[0]],c.push(e)):"A"===r[a][0]?(e=new W9(i[0],i[1],r[a][1],r[a][2],r[a][3],r[a][4],r[a][5],r[a][6],r[a][7]),s+=e.getTotalLength(),i=[r[a][6],r[a][7]],c.push(e)):"a"===r[a][0]&&(e=new W9(i[0],i[1],r[a][1],r[a][2],r[a][3],r[a][4],r[a][5],i[0]+r[a][6],i[1]+r[a][7]),s+=e.getTotalLength(),i=[i[0]+r[a][6],i[1]+r[a][7]],c.push(e)),l.push(s);return u}u.getTotalLength=function(){return s},u.getPointAtLength=function(t){t=e(t);return c[t.i].getPointAtLength(t.fraction)},u.getTangentAtLength=function(t){t=e(t);return c[t.i].getTangentAtLength(t.fraction)},u.getPropertiesAtLength=function(t){t=e(t);return c[t.i].getPropertiesAtLength(t.fraction)};var e=function(t){t<0?t=0:s<t&&(t=s);for(var e=l.length-1;l[e]>=t&&0<l[e];)e--;return{fraction:t-l[++e-1],i:e}};return u(t)}(t)}(t),n=r.getTotalLength(),e&&ek(e)&&0<e&&(o=Math.max(o,Math.ceil(n/e)));for(var a=0;a<o;a++){var s=r.getPointAtLength(n*a/o);i.push([s.x,s.y])}return{ring:i,skipBisect:!0}}(t,e)}function ok(t,e){for(var n=t.length+e,r=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],l=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],l+=Math.sqrt(e*e+n*n);return l}(t)/e,i=0,o=0,a=r/2;t.length<n;){var s=t[i],l=t[(i+1)%t.length],c=J9(s,l);a<=o+c?(t.splice(i+1,0,c?K9(s,l,(a-o)/c):s.slice(0)),a+=r):(o+=c,i++)}}function ak(t,e){var n,r;if("string"==typeof t){var i=ik(t,e);t=i.ring,r=i.skipBisect}else if(!Array.isArray(t))throw new TypeError(rk);if(!(n=t.slice(0)).every(function(t){return Array.isArray(t)&&2<=t.length&&ek(t[0])&&ek(t[1])}))throw new TypeError(rk);return 1<n.length&&(i=n[0],t=n[n.length-1],J9(i,t)<1e-9)&&n.pop(),0<function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2}(n)&&n.reverse(),!r&&e&&ek(e)&&0<e&&function(t,e){for(var n=1<arguments.length&&void 0!==e?e:1/0,r=0;r<t.length;r++)for(var i=t[r],o=r===t.length-1?t[0]:t[r+1];J9(i,o)>n;)o=K9(i,o,.5),t.splice(r+1,0,o)}(n,e),n}function sk(r,t){for(var e,i,n,o=r.length,a=1/0,s=0;s<o;s++)!function(n){i=0,t.forEach(function(t,e){t=J9(r[(n+e)%o],t);i+=t*t}),i<a&&(a=i,e=n)}(s);e&&(n=r.splice(0,e),r.splice.apply(r,[r.length,0].concat(ja(n))))}function lk(e,n,t){var r=2<arguments.length&&void 0!==t?t:{},i=r.maxSegmentLength,o=void 0===i?10:i,a=r.string,t=void 0===a||a,i=ak(e,o),r=ak(n,o),s=(a=r,o=t,i=(r=i).length-a.length,ok(r,i<0?-1*i:0),ok(a,0<i?i:0),sk(r,a),tk(r,a,o));return!t||"string"!=typeof e&&"string"!=typeof n?s:function(t){return t<1e-4&&"string"==typeof e?e:1-t<1e-4&&"string"==typeof n?n:s(t)}}function ck(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}var uk={};function fk(t){return t?"translate("+t.layout.x+","+t.layout.y+")":null}var dk,hk,pk,gk,_k,mk=0;function yk(r,t,e){mk++;var a=e?0:1e3*fb.animation_duration,n=r.facets,s=r.data_points,i=Ps(".facets").selectAll(".facet").data(n,function(t){return t.key}),o=i.enter().append("g").attr("class","facet").each(function(){this._chart_layout=db(this)}),l=i.merge(o),c=0,u=0;l.each(function(t){var e=(fb.x_matching?s:t).x_domain,n=(fb.y_matching?s:t).y_domain;t.chart_layout=this._chart_layout,t.chart_layout._has_previous_scales&&(t.chart_layout._prevXScale=t.chart_layout.xScale().copy(),t.chart_layout._prevYScale=t.chart_layout.yScale().copy()),t.chart_layout.xData(e).yData(n).xAutoTitle(r.data_points.column_names.x||"").yAutoTitle(r.data_points.column_names.y||"").y2Hide(!0).xFormat(hk).yFormat(pk).animationDuration(0).width(Rj.getPrimaryWidth()).height(Rj.getPrimaryHeight()).update({skip_rendering:!0}),t.chart_layout.margins.left>c&&(c=t.chart_layout.margins.left);t="bottom"==fb.x.axis_position?t.chart_layout.margins.bottom:t.chart_layout.margins.top;u<t&&(u=t)});var f=4096/e4(),d=Rj.getPrimaryWidth(),h=n.length,p=c,g=u,_=ck(fb.facet_gutter_w),m=fb.y_single_col&&fb.y_matching;m||(_+=p);d=d-p-ck(fb.margin_right)-ck(fb.margin_left);if(fb.facet_fixed_cols&&r.has_facet_binding)v=Math.floor(fb.facet_cols),b=Math.ceil(h/v);else for(var y=Math.floor((d+_)/(fb.facet_min_w+_)),v=Math.max(1,Math.min(y,h)),b=Math.ceil(h/v),x=v;0<x&&Math.ceil(h/(v-1))==b;x--)v--;var y=h%v!=0&&v<h,w=(d-_*(v-1))/v,M=ck(fb.facet_gutter_h),k=fb.x_single_row&&fb.x_matching&&!y&&("bottom"==fb.x.axis_position||"top"==fb.x.axis_position),j=k&&"top"==fb.x.axis_position,d=j?ck(.5):0;k||(M+=g);var A,T,y="facet"in q2.data.column_names,z=y?1.5*ck(fb.facet_header_font_size):0,N=w*fb.facet_aspect/100,D=b*(N+z+M)+g+d-M+ck(fb.margin_top)+ck(fb.margin_bottom),S=Math.max(Rj.getDefaultPrimaryHeight(),1),I=(Math.max(S-ck(fb.margin_top)-ck(fb.margin_bottom),1)-g-d-b*z-(b-1)*M)/b,E=f,L=(Math.max(E-ck(fb.margin_top)-ck(fb.margin_bottom),1)-g-b*z-(b-1)*M)/b;function C(){_M()&&f<S?O():(Rj.setHeight(null),T=S,A=I)}function O(){T=E,A=L,Rj.setHeight(f)}function P(){_M()&&f<D?O():(T=D,A=N,Rj.setHeight(T))}(!Flourish.fixed_height&&"fill_space"!=fb.height_mode&&("aspect"==fb.height_mode||(w<fb.facet_min_w||I<100)&&S<D)?P:C)(),w=Math.max(w,0),A=Math.max(A,0),("string"==typeof(d="#graphic, #overlay")?new Cs([document.querySelectorAll(d)],[document.documentElement]):new Cs([null==d?[]:d],Ls)).attr("width",t).attr("height",T);for(var R,F,Y,U,B,x=0;x<h;x++){var H=Math.ceil(x%v),Z=Math.floor(x/v),G=n[x].layout={};G.has_y_axis=0==H||!m,G.has_x_axis=j&&0==Z||!j&&Z==b-1||!k,G.x=ck(fb.margin_left)+(G.has_y_axis?0:p)+H*(w+_),G.y=ck(fb.margin_top)+(!G.has_x_axis&&j?g:0)+z+Z*(A+z+M),G.w=w+(G.has_y_axis?p:0),G.h=z+A+(G.has_x_axis?g:0),G.plot_h=A,G.plot_w=w}function q(t,e){return F?0:e*fb.animation_stagger*1e3}function Q(t,e){return"translate("+(y4(t,!0===e)+t.beeswarm_offset_x)+","+(v4(t,!0===e)+t.beeswarm_offset_y)+") scale("+b4(t)+")"}function W(t){var e=t.chart_layout.margins.left,t=!1;return e=(t="center"==fb.facet_title_align||"auto"==fb.facet_title_align&&"donut"==fb.chart_type?!0:t)?w/2-this.getBoundingClientRect().width/2:e}o.attr("transform",fk).attr("opacity",0),o.append("text").attr("class","facet-title").attr("y",-z/2).attr("font-size",fb.facet_header_font_size+"rem").attr("font-weight","bold").attr("dominant-baseline","middle").attr("x",W),l.each(function(t){var e=t.layout.has_y_axis,n=t.layout.has_x_axis,r=e?p:0,i=n&&!j?g:0,o=n&&j?g:0;t.chart_layout.width(t.layout.plot_w+r).height(t.layout.plot_h+i+o).animationDuration(a).update({margins:{left:r,bottom:i,top:o}}),t.chart_layout._has_previous_scales||(t.chart_layout._prevXScale=t.chart_layout.xScale(),t.chart_layout._prevYScale=t.chart_layout.yScale(),t.chart_layout._has_previous_scales=!0),Ps(this).selectAll(".fl-y-axis .fl-axis-ticks, .fl-y-axis .fl-axis-line, .fl-y-axis .fl-axis-title ").style("visibility",e?null:"hidden"),Ps(this).selectAll(".fl-x-axis .fl-axis-ticks, .fl-x-axis .fl-axis-line, .fl-x-axis .fl-axis-title ").style("visibility",n?null:"hidden")}).transition().duration(a).attr("transform",fk).attr("opacity",1).on("end",k5),l.select(".facet-title").text(function(t){return t.name}).transition().duration(a).attr("font-size",fb.facet_header_font_size+"rem").attr("clip-path",function(t,e){return"url(#facet-clip-"+e+"-"+mk+")"}).attr("fill",fb.facet_header_color).attr("opacity",y?1:0).attr("y",-z/2).attr("x",W),l.select(".fl-chart").each(function(t){var e,n,r,i,o;t.scales={},t.scales.prevXScale=t.chart_layout._prevXScale,t.scales.prevYScale=t.chart_layout._prevYScale,t.scales.x=t.chart_layout.xScale({global:!0}),t.scales.y=t.chart_layout.yScale({global:!0}),t.scales.w=Math.max(0,t.chart_layout.plot_width),t.scales.h=Math.max(0,t.chart_layout.plot_height),t.x_type=s.x_type,t.y_type=s.y_type,n=a,r=(e=t).chart_layout.chart.select(".fl-data-foreground").selectAll(".time-label").data(null!=Ok.value()&&fb.time_label_show?[Ok.value()]:[]),t=r.enter().append("text").attr("class","time-label").attr("text-anchor","middle").attr("alignment-baseline","middle").style("pointer-events","none"),i=e.chart_layout.margins().left+e.scales.w/2,o=e.chart_layout.margins().top+e.scales.h/2,r.merge(t).text(function(t){return t}).attr("font-weight","bold").attr("font-size",fb.time_label_font_size).transition().duration(n).attr("transform",function(){return"translate("+i+","+o+") scale("+e.scales.w/400+")"}).attr("fill",fb.time_label_color).attr("opacity",fb.time_label_opacity),r.exit().remove()}),i.exit().transition().duration(a).attr("opacity",0).remove(),function(t){J8=t;var e=fb.beeswarm_plot&&J8.boxes.category_col,t=5e3<J8.data_points.length;e&&!t?J8.boxes.forEach(function(t){var r="x"==t.category_col,e=t.data_points[0],n=e.facet.scales,e=Math.sqrt(fb.data_point_default_size/Math.PI)*b4(e),i=a9().data(t.data_points).distributeOn(function(t){return(r?v4:y4)(t)}).radius(e).orientation(r?"vertical":"horizontal").arrange(),o=r?n.x.step()/2-e:n.y.step()/2-e;t.data_points.forEach(function(t,e){var n=i[e].x%o||0,e=i[e].y%o||0;t.beeswarm_offset_x=r?n:0,t.beeswarm_offset_y=r?0:e})}):(e&&Flourish.warn("Beeswarm mode only works with fewer than 5000 points! Try using a violin plot to see the distributions."),J8.data_points.forEach(function(t){t.beeswarm_offset_x=0,t.beeswarm_offset_y=0}))}(r),l.select(".fl-chart-background").on("click",function(){f5.clickout()}),_M()?Ps("#graphic .data-points").style("display","none"):(Ps("#graphic .data-points").style("display",null),F=e,o=(R=r).data_points.filter(function(t){return!("slider"in R.data_points.column_names)||(null==Ok.value()||t.slider==Ok.value())}),Y=o[0]&&o[0].id,y=(nk=nk||Ps("#graphic .data-points")).selectAll(".data-point").data(o,function(t){return Y?t.id:t.row}),i=y.enter().append("path").attr("class","data-point").attr("d",x3).attr("vector-effect","non-scaling-stroke").attr("stroke",function(t){return Pw(t.color)}).attr("fill",function(t){return Pw(t.color)}).attr("fill-opacity",0).attr("stroke-opacity",0).attr("stroke-width",fb.stroke_width).attr("transform",function(t){return Q(t,!0)}),(i=y.merge(i)).on("mouseover",function(){f5.mouseover(this,M5(this.__data__))}).on("mouseout",function(){f5.mouseout()}).on("click",function(t,e){var n;"story_editor"==Flourish.environment&&(-1==(n=fb.labels_selected.indexOf(t.row))?fb.labels_selected.push(t.row):fb.labels_selected.splice(n,1)),M4(R);e="dot-"+e;f5.click(this,M5(this.__data__),e),zs.stopPropagation()}).attr("id",function(t){return"dot-"+t.row}),(o.length<50?i.transition().duration(F?0:1e3*fb.animation_duration).delay(q).attrTween("d",function(t){var e=this.getAttribute("d"),t=x3(t);return e==t?null:lk(e,t,{maxSegmentLength:.5})}).attr("fill",function(t){return Pw(t.color)}).attr("fill-opacity",fb.fill_opacity).attr("stroke-opacity",fb.stroke_opacity).attr("stroke-width",fb.stroke_width).attr("stroke",function(t){return"auto"==fb.stroke_mode?Pw(t.color):fb.stroke_color}):i.attr("d",x3).transition().duration(F||2500<o.length?0:1e3*fb.animation_duration).delay(q).attr("fill",function(t){return Pw(t.color)}).attr("fill-opacity",fb.fill_opacity).attr("stroke-opacity",fb.stroke_opacity).attr("stroke-width",fb.stroke_width).attr("stroke",function(t){return"auto"==fb.stroke_mode?Pw(t.color):fb.stroke_color})).attr("transform",Q),y.exit().attr("class",null).transition().duration(F||2500<o.length?0:1e3*fb.animation_duration).delay(q).attr("fill-opacity",0).attr("stroke-opacity",0).remove()),M4(r,e),function(t,e,n){var r=Ps("svg .lines").node(),i=Ps(fb.line_arrows?"#overlay":"#graphic").node(),o=Ps(fb.line_arrows?".data-labels":".data-points").node();i.insertBefore(r,o);var a=!e||"except_lines"==e?1e3*fb.animation_duration:0,s=t.facets.length?t.facets[0].layout.w:0,r=t.facets.length?t.facets[0].layout.h:0,e=(o=fb.line_width_responsive?Math.max(fb.line_width_min,Math.min(fb.line_width_max,Math.min(s,r)/100)):fb.line_width)/(o*fb.line_arrow_size/10),s=fb.lines_show?t.lines:[],t=(r=Ps(i).select(".lines").selectAll(".line").data(s,function(t){return t.id})).enter().append("path").attr("class","line").attr("d",function(t){return c(t,!0)}).attr("fill","none").attr("stroke",l).attr("stroke-width",o).each(function(){fb.line_animate_in||Ps(this).attr("opacity",0);var t=this.getTotalLength();Ps(this).attr("opacity",fb.line_opacity).attr("stroke-dasharray",t+","+t).attr("stroke-dashoffset",t).transition("dash").duration(a).attr("stroke-dashoffset",0).transition("dash").duration(0).attr("stroke-dasharray",null)});function l(t){return"fixed"==fb.line_color_mode?fb.line_color:Pw(t[0].color)||"black"}function c(t,e){return $w().x(function(t){return y4(t,!0===e)+t.beeswarm_offset_x}).y(function(t){return v4(t,!0===e)+t.beeswarm_offset_y}).curve(v8[fb.line_curve]||v8.curveLinear)(t)}r.merge(t).attr("clip-path",function(t){return"url(#facet-clip-"+t.facet_index+"-"+n+")"}).attr("marker-end",function(t){var e=t[t.length-2],n=t[t.length-1];return e.x==n.x&&e.y==n.y?null:"url(#arrowhead-"+t.id+")"}).transition("update").duration(a).attr("d",c).attr("stroke",l).attr("opacity",fb.line_opacity).attr("stroke-width",o),r.exit().each(function(){var t;fb.line_animate_out?(t=this.getTotalLength(),Ps(this).classed("line",!1).attr("stroke-dasharray",t+","+t).attr("stroke-dashoffset",0).transition("dash").duration(a).attr("stroke-dashoffset",t).remove()):Ps(this).classed("line",!1).transition().duration(a).attr("opacity",0).remove()}),i=Ps(i).select(".lines").selectAll(".arrowhead").data(fb.lines_show&&fb.line_arrows?s:[],function(t){return t.id}),(s=i.enter().append("marker").attr("class","arrowhead").attr("refX",10).attr("refY",0).attr("orient","auto").attr("viewBox","0 -5 10 10")).append("path").attr("d","M 10,0 L 10,0 L 10,0").attr("opacity",0).attr("fill","none").attr("stroke-width",e).attr("stroke","auto"==fb.line_arrow_color_mode?l:fb.line_arrow_color),i.exit().attr("class","exiting-arrowhead").transition().delay(a/10).on("interrupt",function(){Ps(this).remove()}).remove(),i.exit().select("path").transition().duration(a/10).attr("d","M 10,0 L 10,0 L 10,0"),(s=i.merge(s)).attr("id",function(t){return"arrowhead-"+t.id}).transition().duration(a).delay(.5*a).attr("markerWidth",fb.line_arrow_size).attr("markerHeight",fb.line_arrow_size),s.select("path").transition().duration(.66*a).delay(.5*a).attr("d","M 0,-5 L 10,0 L 0,5").attr("opacity",1).attr("stroke-width",e).attr("stroke","auto"==fb.line_arrow_color_mode?l:fb.line_arrow_color)}(r,e,mk),w8(r,e,mk),i9(r,e),uk={},l.each(function(t){var e=this._chart_layout.xScale({global:!0}),n=this._chart_layout.yScale({global:!0});uk[t.key]={id:t.key,x:t.layout.x,y:t.layout.y,chart_layout:this._chart_layout,x_scale:e,y_scale:n,x_domain:e.domain(),y_domain:n.domain(),x_range:e.range(),y_range:n.range()}}),U=uk,B=a,e=Ps("#axes-highlights").selectAll(".axis-highlights-facet").data(Object.keys(uk)),l=e.enter().append("g").classed("axis-highlights-facet",!0).attr("opacity",0).transition().duration(B).attr("opacity",1),e.merge(l).each(function(t){var e=U[t],n=e.chart_layout,r="string"==typeof n.xData().values[0],n="string"==typeof n.yData().values[0];Uj.animationDuration(B).appendTo(Ps(this)).numberParser(Ej.getParser()).chartLayout(e.chart_layout).facetName(t).offset({x:e.x,y:e.y}).xExtendByStep(r).yExtendByStep(n).update()}),e.exit().transition().duration(B).attr("opacity",0).remove()}function vk(){dk.update()}function bk(t,e){for(var n in uk){var r=uk[n];if(!(e[0]<r.x_range[0]+r.x)&&!(e[0]>r.x_range[1]+r.x||e[1]>r.y_range[0]+r.y||e[1]<r.y_range[1]+r.y)){var i=e[0]-r.x,o=e[1]-r.y;return{facet_id:n,x:r.x_scale.invert?r.x_scale.invert(i):wk(i,r.x_range,r.x_domain),y:r.y_scale.invert?r.y_scale.invert(o):wk(o,r.y_range,r.y_domain)}}}}function xk(t){var e=uk[t.facet_id];if(e){var n=t.x.ordinal?e.x_scale(t.x.id)+e.x_scale.step()*t.x.offset:e.x_scale(t.x),t=t.y.ordinal?e.y_scale(t.y.id)+e.y_scale.step()*-t.y.offset:e.y_scale(t.y);return[e.x+n,e.y+t]}}function wk(t,e,n){var r=e[e.length-1]-e[0],t=(t-=e[0])/r,r=n.length;return{id:n[Math.floor(t*r)],offset:t*r%1-.5,ordinal:!0}}function Mk(){Ow(),Tk(),gM(),vk()}function kk(t,e){var n;n=(n="number"==t&&e?[e]:[]).length?n[0]:[],Yj.data(n,Pw).autoTitle(q2.data.column_names.color||"").format(_k).visible(n.length).update(),e=Ak(t="discrete"==t&&e?e:[]),Fj.data(t,Pw).autoTitle(q2.data.column_names.color||"").filtered("off"==fb.legend_filtering_mode?[]:fb.legend_filter).on("click","off"==fb.legend_filtering_mode?null:e).update(),Ps("#legend").style("display","off"!==fb.legend_position?"block":"none"),Rj.setLegendPosition(fb.legend_position)}function jk(t,e){var n;n="discrete"==t&&e?e:[],t=Pw,"off"!=fb.text_legend&&(e=fb.text_legend_bold?"bold":null,"auto"!=fb.text_legend&&!fb.text_legend_title||A3(Ps("#fl-layout-header h1"),n,t,e),"auto"!=fb.text_legend&&!fb.text_legend_subtitle||A3(Ps("#fl-layout-header h2"),n,t,e))}function Ak(i){return function(t){var n,e=t.label||t,r=fb.legend_filter.indexOf(e),t=-1!=r;"filter_out"==fb.legend_filtering_mode?t?fb.legend_filter.splice(r,1):fb.legend_filter.push(e):"filter_in"==fb.legend_filtering_mode&&(n=i.indexOf(e),t||!fb.legend_filter.length?fb.legend_filter=i.filter(function(t,e){return e!=n}):fb.legend_filter=[]),Mk()}}function Tk(t){Ps("#graphic").attr("font-family",fb.layout.body_font.name),function(t){var e=[];"filter"in t.column_names&&(t=t.map(function(t){return t.filter}),e=Bk(t),fb.filter_show_all&&(e=[fb.filter_show_all_text].concat(e)));Ck.options(e).update()}(e=q2.data),function(t){var e=[];"slider"in t.column_names&&(t=t.map(function(t){return t.slider}),e=Bk(t));Ok.options(e).update()}(e),Pk.update(),Rk.update(),Fk.update(),pw(["x","y","size","color","shape","facet"]),e=Ej.getFormatterFunction(),hk="discrete"===Z2.data_points.x_type?function(t){return t}:Lj(e),pk="discrete"===Z2.data_points.y_type?function(t){return t}:Cj(e),gk=Oj(e),_k="discrete"===Z2.data_points.color_type?function(t){return t}:Pj(e);var e=Z2.data_points;Ow(e.color_type,e.color_domain),m3(e.shape_type,e.shape_domain),y3(e.size_type,e.size_domain),kk(e.color_type,e.color_domain),Rj.update(),jk(e.color_type,e.color_domain);e=Rj.getPrimaryWidth();yk(Z2,e,t),k5()}function zk(){return this.declarations=[],this}function Nk(t){return this.selector=t,this.styles=[],this}zk.prototype.select=function(t){if(!t)return this;t=new Nk(t);return(t.parent=this).addDeclaration(t),t},zk.prototype.addDeclaration=function(t){return this.declarations.push(t),this},zk.prototype.print=function(){var e="";return this.declarations.forEach(function(t){e+=t.selector+" {\n",t.styles.forEach(function(t){e+="\t"+t[0]+": "+t[1]+";\n"}),e+="}\n\n"}),e},zk.prototype.clear=function(){return this.declarations=[],this},Nk.prototype.style=function(t,e){e="function"==typeof value_?e():e;return""!==e&&null!=e&&this.styles.push([t,e]),this},Nk.prototype.select=function(t){return this.parent.select(this.selector+" "+t)};var Dk=Object.freeze({font_size:1,font_weight:"bold",padding:.4});function Sk(t,e,n){for(var r in this._state=t,Dk)void 0===this._state[r]&&(this._state[r]=Dk[r]);return this._layout=n||{},this._styles=new zk,this._selector=e,this._createStylesheet(),this}function Ik(t,e){e=e,t="string"==typeof(t=t)&&((t=Ei(t)).opacity=void 0!==e?e:1,t);return!!t&&t.toString()}Sk.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-controls",document.head.appendChild(this._stylesheet)},Sk.prototype.update=function(){this._styles.clear(),this._styles.select(this._selector+".hidden").style("display","none"),this._styles.select(this._selector).style("vertical-align","middle").style("position","relative").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(".fl-controls-title").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight).style("vertical-align","middle"),this._styles.select(this._selector+".fl-control .button").style("padding",this._state.padding+"rem "+2*this._state.padding+"rem"),this._styles.select(this._selector+" .list-item").style("padding",Math.max(this._state.padding,.5)+"rem"),this._styles.select(this._selector+"-dropdown .main").style("padding",this._state.padding+"rem "+1.5*this._state.padding+"rem"),this._styles.select(this._selector+"-slider .slider-end-labels").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(this._selector+"-slider").style("padding",this._state.padding+"rem 0"),this._stylesheet.innerHTML=this._styles.print()},document.createElement("canvas").getContext("2d");var Ek=Object.freeze({background:null,font_color:null,background_selected:"#2886b2",font_color_selected:"#ffffff",background_hover:null,font_color_hover:null,border_width:1,border_transparency:.25,border_color:null,border_radius:3});function Lk(t,e,n){for(var r in this._state=t,Ek)void 0===this._state[r]&&(this._state[r]=Ek[r]);return this._layout=n||{},this._styles=new zk,this._selector=e,this._createStylesheet(),this}Lk.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-button",document.head.appendChild(this._stylesheet)},Lk.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=Ik(this._state.border_color||e,this._state.border_transparency);this._styles.select(this._selector+".fl-control.hidden").style("display","none"),this._styles.select(this._selector+".fl-control .button").style("overflow","hidden").style("white-space","nowrap").style("box-sizing","content-box").style("margin","0 2px 0 0 !important").style("background-color",t).style("color",e).style("border",this._state.border_width+"px solid "+n).style("border-radius",this._state.border_radius+"px"),this._styles.select(this._selector+".fl-control .button:hover").style("background-color",this._state.background_hover||t).style("color",this._state.font_color_hover||e),this._styles.select(this._selector+".fl-control .button.selected").style("background-color",this._state.background_selected).style("color",this._state.font_color_selected),this._styles.select(this._selector+".grouped.fl-control .button").style("border-right","none").style("border-radius","0").style("margin","0"),this._styles.select(this._selector+".grouped.fl-control .button:first-child").style("border-radius",this._state.border_radius+"px 0 0 "+this._state.border_radius+"px"),this._styles.select(this._selector+".grouped.fl-control .button:last-child").style("border-radius","0 "+this._state.border_radius+"px "+this._state.border_radius+"px 0").style("border-right",this._state.border_width+"px solid "+n),this._styles.select(this._selector+".grouped.fl-control.fixed-width:not(.hidden)").style("width",this._state.grouped_width+"%"),this._stylesheet.innerHTML=this._styles.print()};var Ck,Ok,Pk,Rk,Fk,Yk=Object.freeze({background:null,font_color:null,border_style:"bottom",border_width:1,border_color:null,border_transparency:.25,border_radius:3});function Uk(t,e,n){for(var r in this._state=t,Yk)void 0===this._state[r]&&(this._state[r]=Yk[r]);return this._layout=n||{},this._styles=new zk,this._selector=e,this._createStylesheet(),this}function Bk(t){for(var e=[],n={},r=0;r<t.length;r++)t[r]in n||(n[t[r]]=!0,e.push(t[r]));return e}function Hk(){Tk(),gM()}Uk.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-dropdown",document.head.appendChild(this._stylesheet)};var Zk={x_enabled:!(Uk.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=Ik(this._state.border_color||e,this._state.border_transparency);this._styles.select(this._selector+" .heading").style("margin-bottom","0.4em"),this._styles.select(this._selector).style("pointer-events","all"),this._styles.select(this._selector+" .main").style("display","inline-block").style("cursor","pointer").style("overflow","hidden").style("white-space","nowrap").style("position","relative").style("background-color",t).style("color",e).style("border","bottom"==this._state.border_style?this._state.border_width+"px solid transparent":this._state.border_width+"px solid "+n).style("border-bottom","bottom"==this._state.border_style?this._state.border_width+"px solid "+n:null).style("border-radius","bottom"==this._state.border_style?null:this._state.border_radius+"px"),this._styles.select(this._selector+" .main .symbol").style("float","right").select("div").style("border-top-color",e+" !important"),this._styles.select(this._selector+" .main .current").style("line-height","1em").style("height","100%").style("max-width","88%").style("display","inline-block").style("overflow","hidden").style("vertical-align","top"),this._styles.select(this._selector+" .list").style("top","2px").style("min-width","100%").style("padding","2px").style("display","none").style("max-height","200px").style("overflow-y","auto").style("box-shadow","0 1px 4px rgba(0, 0, 0, .1)").style("margin-top","2px").select(".list-item").style("line-height","1em").style("cursor","pointer").style("font-weight","normal").style("color",e),this._styles.select(this._selector+".open .list").style("display","block").style("border",this._state.border_width+"px solid "+n).style("background-color",t).style("z-index","1").style("animation","dropdown-out 200ms"),this._styles.select(this._selector+" .list-item:hover").style("opacity","0.6"),this._styles.select(this._selector+" .list-item.selected, "+this._selector+" .list-item.selected:hover").style("opacity","1").style("cursor","default"),"bottom"==this._state.border_style&&this._styles.select(this._selector+" .main").style("padding-left",0).style("padding-right","0.1rem"),this._stylesheet.innerHTML=this._styles.print()}),x_lines:"",x_line_color:"#333333",x_line_width:2,x_line_dash:"2",x_areas:"",x_area_color:"#555555",x_area_opacity:.1,x_area_texture:"none",x_font_size:.9,x_font_weight:"regular",x_label_vertical:!0,x_label_color:"#888888",x_label_max_width:3,x_label_y_position:"top",x_label_x_position:"left",x_shadow_enabled:!0,x_shadow_color:"#FFFFFF",y_enabled:!1,y_lines:"",y_line_color:"#333333",y_line_width:2,y_line_dash:"2",y_areas:"",y_area_color:"#555555",y_area_opacity:.1,y_area_texture:"none",y_font_size:.9,y_font_weight:"regular",y_label_x_position:"right",y_label_y_position:"above",y_label_color:"#888888",y_label_max_width:3,y_shadow_enabled:!0,y_shadow_color:"#FFFFFF"};var Gk="http://www.w3.org/1999/xhtml",qk={svg:"http://www.w3.org/2000/svg",xhtml:Gk,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qk(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),qk.hasOwnProperty(e)?{space:qk[e],local:t}:t}function Wk(t){t=Qk(t);return(t.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Gk&&t.documentElement.namespaceURI===Gk?t.createElement(n):t.createElementNS(e,n)}})(t)}function Vk(){}function Xk(t){return null==t?Vk:function(){return this.querySelector(t)}}function $k(t){return"object"===Zs(t)&&"length"in t?t:Array.from(t)}function Jk(){return[]}function Kk(t){return null==t?Jk:function(){return this.querySelectorAll(t)}}function t7(t){return function(){return this.matches(t)}}function e7(e){return function(t){return t.matches(e)}}var n7=Array.prototype.find;function r7(){return this.firstElementChild}var i7=Array.prototype.filter;function o7(){return this.children}function a7(t){return new Array(t.length)}function s7(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function l7(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new s7(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function c7(t,e,n,r,i,o,a){for(var s,l,c=new Map,u=e.length,f=o.length,d=new Array(u),h=0;h<u;++h)(s=e[h])&&(d[h]=l=a.call(s,s.__data__,h,e)+"",c.has(l)?i[h]=s:c.set(l,s));for(h=0;h<f;++h)l=a.call(t,o[h],h,o)+"",(s=c.get(l))?((r[h]=s).__data__=o[h],c.delete(l)):n[h]=new s7(t,o[h]);for(h=0;h<u;++h)(s=e[h])&&c.get(d[h])===s&&(i[h]=s)}function u7(t){return t.__data__}function f7(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function d7(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function h7(t,e){return t.style.getPropertyValue(e)||d7(t).getComputedStyle(t,null).getPropertyValue(e)}function p7(t){return t.trim().split(/^|\s+/)}function g7(t){return t.classList||new _7(t)}function _7(t){this._node=t,this._names=p7(t.getAttribute("class")||"")}function m7(t,e){for(var n=g7(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function y7(t,e){for(var n=g7(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function v7(){this.textContent=""}function b7(){this.innerHTML=""}function x7(){this.nextSibling&&this.parentNode.appendChild(this)}function w7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function M7(){return null}function k7(){var t=this.parentNode;t&&t.removeChild(this)}function j7(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function A7(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function T7(o){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.options);++r?t.length=r:delete this.__on}}}function z7(a,s,l){return function(){var t,e,n=this.__on,r=(e=s,function(t){e.call(this,t,this.__data__)});if(n)for(var i=0,o=n.length;i<o;++i)if((t=n[i]).type===a.type&&t.name===a.name)return this.removeEventListener(t.type,t.listener,t.options),this.addEventListener(t.type,t.listener=r,t.options=l),void(t.value=s);this.addEventListener(a.type,r,l),t={type:a.type,name:a.name,value:s,listener:r,options:l},n?n.push(t):this.__on=[t]}}function N7(t,e,n){var r=d7(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}s7.prototype={constructor:s7,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},_7.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){t=this._names.indexOf(t);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var D7=regeneratorRuntime.mark(S7);function S7(){var e,n,r,i,o,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this._groups,n=0,r=e.length;case 1:if(!(n<r)){t.next=13;break}i=e[n],o=0,a=i.length;case 3:if(!(o<a)){t.next=10;break}if(s=i[o])return t.next=7,s;t.next=7;break;case 7:++o,t.next=3;break;case 10:++n,t.next=1;break;case 13:case"end":return t.stop()}},D7,this)}var I7=[null];function E7(t,e){this._groups=t,this._parents=e}function L7(){return new E7([[document.documentElement]],I7)}function C7(t){return"string"==typeof t?new E7([[document.querySelector(t)]],[document.documentElement]):new E7([[t]],I7)}function O7(t){return C7(Wk(t).call(document.documentElement))}E7.prototype=L7.prototype=ma({constructor:E7,select:function(t){"function"!=typeof t&&(t=Xk(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new E7(r,this._parents)},selectAll:function(t){var e;t="function"==typeof t?(e=t,function(){var t=e.apply(this,arguments);return null==t?[]:$k(t)}):Kk(t);for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var s,l=n[a],c=l.length,u=0;u<c;++u)(s=l[u])&&(i.push(t.call(s,s.__data__,u,l)),o.push(s));return new E7(i,o)},selectChild:function(t){return this.select(null==t?r7:(e="function"==typeof t?t:e7(t),function(){return n7.call(this.children,e)}));var e},selectChildren:function(t){return this.selectAll(null==t?o7:(e="function"==typeof t?t:e7(t),function(){return i7.call(this.children,e)}));var e},filter:function(t){"function"!=typeof t&&(t=t7(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new E7(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,u7);var n,r=e?c7:l7,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var f=i[u],d=o[u],h=d.length,p=$k(t.call(f,f&&f.__data__,u,i)),g=p.length,_=l[u]=new Array(g),m=s[u]=new Array(g);r(f,d,_,m,c[u]=new Array(h),p,e);for(var y,v,b=0,x=0;b<g;++b)if(y=_[b]){for(x<=b&&(x=b+1);!(v=m[x])&&++x<g;);y._next=v||null}}return(s=new E7(s,i))._enter=l,s._exit=c,s},enter:function(){return new E7(this._enter||this._groups.map(a7),this._parents)},exit:function(){return new E7(this._exit||this._groups.map(a7),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit(),r="function"==typeof t?t(r):r.append(t+"");return null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof E7))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,t=n.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var s,l=e[a],c=n[a],u=l.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=l[d]||c[d])&&(f[d]=s);for(;a<r;++a)o[a]=e[a];return new E7(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||f7;for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,s=e[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new E7(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t,e=0,n=za(this);try{for(n.s();!(t=n.n()).done;){t.value;++e}}catch(t){n.e(t)}finally{n.f()}return e},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Qk(t);if(arguments.length<2){t=this.node();return n.local?t.getAttributeNS(n.space,n.local):t.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):h7(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=p7(t+"");if(arguments.length<2){for(var r=g7(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?m7:y7)(this,t)}}:e?function(t){return function(){m7(this,t)}}:function(t){return function(){y7(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?v7:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?b7:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(x7)},lower:function(){return this.each(w7)},append:function(t){var e="function"==typeof t?t:Wk(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:Wk(t),r=null==e?M7:"function"==typeof e?e:Xk(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(k7)},clone:function(t){return this.select(t?A7:j7)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=o.length;if(!(arguments.length<2)){for(s=e?z7:T7,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return N7(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return N7(this,t,e)}})(t,e))}},Symbol.iterator,S7);var P7=O0("start","end","cancel","interrupt"),R7=[],F7=0,Y7=1,U7=2,B7=3,H7=4,Z7=5,G7=6;function q7(t,e,n,r,i,o){var a,s,l,c,u,f=t.__transition;if(f){if(n in f)return}else t.__transition={};function d(t){var e,n,r,i;if(l.state!==Y7)return p();for(e in u)if((i=u[e]).name===l.name){if(i.state===B7)return rg(d);i.state===H7?(i.state=G7,i.timer.stop(),i.on.call("interrupt",a,a.__data__,i.index,i.group),delete u[e]):+e<s&&(i.state=G7,i.timer.stop(),i.on.call("cancel",a,a.__data__,i.index,i.group),delete u[e])}if(rg(function(){l.state===B7&&(l.state=H7,l.timer.restart(h,l.delay,l.time),h(t))}),l.state=U7,l.on.call("start",a,a.__data__,l.index,l.group),l.state===U7){for(l.state=B7,c=new Array(r=l.tween.length),e=0,n=-1;e<r;++e)(i=l.tween[e].value.call(a,a.__data__,l.index,l.group))&&(c[++n]=i);c.length=n+1}}function h(t){for(var e=t<l.duration?l.ease.call(null,t/l.duration):(l.timer.restart(p),l.state=Z7,1),n=-1,r=c.length;++n<r;)c[n].call(a,e);l.state===Z7&&(l.on.call("end",a,a.__data__,l.index,l.group),p())}function p(){for(var t in l.state=G7,l.timer.stop(),delete u[s],u)return;delete a.__transition}a=t,s=n,l={name:e,index:r,group:i,on:P7,tween:R7,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:F7},((u=a.__transition)[s]=l).timer=K0(function(t){l.state=Y7,l.timer.restart(d,l.delay,l.time),l.delay<=t&&d(t-l.delay)},0,l.time)}function Q7(t,e){e=V7(t,e);if(e.state>F7)throw new Error("too late; already scheduled");return e}function W7(t,e){e=V7(t,e);if(e.state>B7)throw new Error("too late; already running");return e}function V7(t,e){t=t.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function X7(t,e,n){var r=t._id;return t.each(function(){var t=W7(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return V7(t,r).value[e]}}function $7(t,e){var n;return("number"==typeof e?vu:e instanceof Ei?kc:(n=Ei(e))?(e=n,kc):Mu)(t,e)}function J7(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return o=t!==a?(a=t)&&(e=r,n=t,function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}):o}return t._value=i,t}function K7(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return o=t!==a?(a=t)&&(e=r,n=t,function(t){this.setAttribute(e,n.call(this,t))}):o}return t._value=i,t}var tj=L7.prototype.constructor;function ej(t){return function(){this.style.removeProperty(t)}}function nj(i,o,a){var s,l;function t(){var e,n,r,t=o.apply(this,arguments);return s=t!==l?(l=t)&&(e=i,n=t,r=a,function(t){this.style.setProperty(e,n.call(this,t),r)}):s}return t._value=o,t}function rj(n){var r,i;function t(){var e,t=n.apply(this,arguments);return r=t!==i?(i=t)&&(e=t,function(t){this.textContent=e.call(this,t)}):r}return t._value=n,t}var ij=0;function oj(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}r_=L7.prototype;oj.prototype=ma({constructor:oj,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Xk(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),f[d]=l,q7(f[d],e,n,d,f,V7(s,n)));return new oj(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Kk(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,f=0;f<u;++f)if(l=c[f]){for(var d,h=t.call(l,l.__data__,f,c),p=V7(l,n),g=0,_=h.length;g<_;++g)(d=h[g])&&q7(d,e,n,g,h,p);o.push(h),a.push(l)}return new oj(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=t7(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new oj(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,t=n.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var s,l=e[a],c=n[a],u=l.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=l[d]||c[d])&&(f[d]=s);for(;a<r;++a)o[a]=e[a];return new oj(o,this._parents,this._name,this._id)},selection:function(){return new tj(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=++ij,r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&q7(a,t,n,c,s,{time:(a=V7(a,e)).time+a.delay+a.duration,delay:0,duration:a.duration,ease:a.ease});return new oj(r,this._parents,t,n)},call:r_.call,nodes:r_.nodes,node:r_.node,size:r_.size,empty:r_.empty,each:r_.each,on:function(t,e){var n,r,i,o,a,s,l=this._id;return arguments.length<2?V7(this.node(),l).on.on(t):this.each((n=l,i=e,s=((r=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return!(t=0<=e?t.slice(0,e):t)||"start"===t})?Q7:W7,function(){var t=s(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}))},attr:function(t,e){var n=Qk(t),r="transform"===n?Cu:$7;return this.attrTween(t,"function"==typeof e?(n.local?function(r,i,o){var a,s,l;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttributeNS(r.space,r.local))===(e=n+"")?null:t===a&&e===s?l:(s=e,l=i(a=t,n));this.removeAttributeNS(r.space,r.local)}}:function(r,i,o){var a,s,l;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttribute(r))===(e=n+"")?null:t===a&&e===s?l:(s=e,l=i(a=t,n));this.removeAttribute(r)}})(n,r,X7(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===i?o:o=n(i=t,r)}}:function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttribute(e);return t===a?null:t===i?o:o=n(i=t,r)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return t=Qk(t),this.tween(n,(t.local?J7:K7)(t,e))},style:function(t,e,n){var r,i,o,a,s,l,c,u,f,d,h,p,g,_,m,y,v,b,x,w,M,k,j,A,T,z="transform"==(t+="")?Lu:$7;return null==e?this.styleTween(t,(M=t,k=z,function(){var t=h7(this,M),e=(this.style.removeProperty(M),h7(this,M));return t===e?null:t===j&&e===A?T:T=k(j=t,A=e)})).on("end.style."+t,ej(t)):"function"==typeof e?this.styleTween(t,(y=z,v=X7(this,"style."+(m=t),e),function(){var t=h7(this,m),e=v(this),n=e+"";return null==e&&(this.style.removeProperty(m),n=e=h7(this,m)),t===n?null:t===b&&n===x?w:(x=n,w=y(b=t,e))})).each((c=this._id,_="end."+(g="style."+(u=t)),function(){var t=W7(this,c),e=t.on,n=null==t.value[g]?p=p||ej(u):void 0;e===f&&h===n||(d=(f=e).copy()).on(_,h=n),t.on=d})):this.styleTween(t,(r=t,i=z,l=(o=e)+"",function(){var t=h7(this,r);return t===l?null:t===a?s:s=i(a=t,o)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,nj(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=X7(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,rj(t))},remove:function(){return this.on("end.remove",(n=this._id,function(){var t,e=this.parentNode;for(t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=V7(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(i,o){var a,s;return function(){var t=W7(this,i),e=t.tween;if(e!==a)for(var n=0,r=(s=a=e).length;n<r;++n)if(s[n].name===o){(s=s.slice()).splice(n,1);break}t.tween=s}}:function(o,a,s){var l,c;if("function"!=typeof s)throw new Error;return function(){var t=W7(this,o),e=t.tween;if(e!==l){c=(l=e).slice();for(var n={name:a,value:s},r=0,i=c.length;r<i;++r)if(c[r].name===a){c[r]=n;break}r===i&&c.push(n)}t.tween=c}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Q7(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Q7(this,t).delay=e}})(e,t)):V7(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){W7(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){W7(this,t).duration=e}})(e,t)):V7(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){W7(this,t).ease=e}}(e,t)):V7(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each((e=this._id,n=t,function(){var t=n.apply(this,arguments);if("function"!=typeof t)throw new Error;W7(this,e).ease=t}));var e,n},end:function(){var i,o,a=this,s=a._id,l=a.size();return new Promise(function(t,e){var n={value:e},r={value:function(){0==--l&&t()}};a.each(function(){var t=W7(this,s),e=t.on;e!==i&&((o=(i=e).copy())._.cancel.push(n),o._.interrupt.push(n),o._.end.push(r)),t.on=o}),0===l&&t()})}},Symbol.iterator,r_[Symbol.iterator]);var aj,sj,lj,cj,uj,fj,dj,hj,pj,gj={time:null,delay:0,duration:250,ease:Tg};function _j(t){switch(!0){case t.string_array:return"string";case t.numeric_array:return"number";case t.datetime_array:return"datetime";default:return"no type found"}}function mj(t){return window.innerWidth!==aj&&(aj=window.innerWidth,sj=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*sj}function yj(t,e,n){return"none"===e?t.color:"url(#".concat(e,"-").concat(n,")")}function vj(t,e){var n;if(void 0===e){var r,i=za(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n<o||void 0===n&&o<=o)&&(n=o)}}catch(t){i.e(t)}finally{i.f()}}else{var a,s,l=-1,c=za(t);try{for(c.s();!(a=c.n()).done;)null!=(s=e(s=a.value,++l,t))&&(n<s||void 0===n&&s<=s)&&(n=s)}catch(t){c.e(t)}finally{c.f()}}return n}function bj(t,e){var n;if(void 0===e){var r,i=za(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(o<n||void 0===n&&o<=o)&&(n=o)}}catch(t){i.e(t)}finally{i.f()}}else{var a,s,l=-1,c=za(t);try{for(c.s();!(a=c.n()).done;)null!=(s=e(s=a.value,++l,t))&&(s<n||void 0===n&&s<=s)&&(n=s)}catch(t){c.e(t)}finally{c.f()}}return n}function xj(t,e,n,r){var i=[],o=0,a=document.createElement("canvas").getContext("2d");a.font=e;e=a.measureText(t).width;if(e<=r)i.push(t),o=e;else{for(var s=t.trim().split(/\s+/g),l="",c=0;c<s.length;c++){var u=s[c],f=l+(l?" ":"")+u,d=a.measureText(f).width;if(!(d<=r)){var h=i.length+1==n;if(!h&&l)if(i.push(l),a.measureText(u).width<=r){l=u;continue}for(var p=1,g=f;g=f.substring(0,f.length-p)+"…",r<(d=a.measureText(g).width)&&++p<f.length;);o=Math.max(o,d),l=g;break}l=f,o=Math.max(o,d)}i.push(l)}return i.widest_line=o,i}function wj(e){var n=e.appendTo();!function(){(cj=O7("svg:pattern").attr("id","fl-pattern-diagonal-x").attr("width",4).attr("height",4).attr("patternUnits","userSpaceOnUse")).append("path").attr("d","M 0,4 l 4,-4 M -1,1 l 2,-2 M 3,5 l 2,-2").attr("stroke-width",1).attr("shape-rendering","auto").attr("stroke-linecap","square"),(fj=O7("svg:pattern").attr("id","fl-pattern-grid-x").attr("width",4).attr("height",4).attr("patternUnits","userSpaceOnUse")).append("path").attr("d","M 2, 0 l 0, 4").attr("stroke-width",1).attr("shape-rendering","auto").attr("stroke-linecap","square"),fj.append("path").attr("d","M 0,2 l 4,0").attr("stroke-width",1).attr("shape-rendering","auto").attr("stroke-linecap","square"),(hj=O7("svg:pattern").attr("id","fl-pattern-dots-x").attr("width",5).attr("height",5).attr("patternUnits","userSpaceOnUse")).append("circle").attr("cx",2.5).attr("cy",2.5).attr("r",1).attr("stroke-width",1).attr("shape-rendering","auto"),uj=C7(cj.node().cloneNode(!0)).attr("id","fl-pattern-diagonal-y"),dj=C7(fj.node().cloneNode(!0)).attr("id","fl-pattern-grid-y"),pj=C7(hj.node().cloneNode(!0)).attr("id","fl-pattern-dots-y");var t=[cj,hj,fj,uj,dj,pj];lj=O7("svg:defs").node(),t.forEach(function(t){lj.appendChild(t.node())})}(),e.appendPatternsTo=function(t){return void 0===t?n:(t.node().appendChild(lj),n=t,e)}}function Mj(W,V){W.update=function(){r=V,hj.select("circle").style("fill",r.x_area_color),cj.select("path").style("stroke",r.x_area_color),fj.selectAll("path").style("stroke",r.x_area_color),pj.select("circle").style("fill",r.y_area_color),uj.select("path").style("stroke",r.y_area_color),dj.selectAll("path").style("stroke",r.y_area_color);var t,e,n=W.chartLayout(),r=W.facetName(),i=W.offset(),g=1.2,o=[{chart_layout:n,facet_name:r}],_="rtl"===document.body.getAttribute("dir"),P="fg-label",R="bg-label",a=W.numberParser(),F=W.animationDuration();function Y(){return mj(V.x_font_size)}function U(){return mj(V.y_font_size)}function B(t){return t.replace(/\s*::\s*/g,"::").split("::").map(function(t){return t.trim()})}function H(t){return t.replace(/\s*>>\s*/,">>").split(">>").map(function(t){return t.trim()})}function Z(t,e,n,r){return"number"===e?isNaN(a(t))?a(t):t:"datetime"===e?("x"===r?n.xDatetimeParse():n.yDatetimeParse())(t):t}function G(t,e,n,r,i){var o=mj(n),t=C7(e).selectAll(".".concat(i)).data(t);t.join("tspan").text(function(t){return t}).attr("class",i).attr("y",function(t,e){return e*(o*g)+"px"}).attr("x",0).attr("font-weight",r),t.exit().remove()}function q(t,e,n,r,i){var o,a,s,l=0,c="middle"==V.x_label_x_position,u="bottom"==V.x_label_y_position,f=V.x_label_vertical,d=Y()*g,h=d*(r-1),p=Y()/2,r=f?p:u?h+p:d,u=f?n/2:n/2-h/2,d=e.range()[1],e=e.range()[0],t=t.getBoundingClientRect().width,r={top:r,middle:u,bottom:n-r}[V.x_label_y_position],r=f?(l=(a={right:Y(),middle:-(h-p)/2,left:-h-p})[V.x_label_x_position],o={top:_?"start":"end",middle:"middle",bottom:_?"end":"start"}[V.x_label_y_position],d<i+t+p&&(l=a.left),i-t-p<e&&(l=a.right),c&&(d<i+t/2&&(l=a.left),i-t/2<e&&(l=a.right)),"translate("+l+", "+r+") rotate(-90)"):(l=(h={right:p,middle:0,left:-p})[V.x_label_x_position],o=(a={right:_?"end":"start",middle:"middle",left:_?"start":"end"})[V.x_label_x_position],e=c?(s=d<i+t/2,i-t/2<e):(s=d<i+t+p,i-t-p<e),s&&(l=h.left,o=a.left),e&&(l=h.right,o=a.right),"translate("+l+", "+r+")");return{transform_str:r,text_anchor:o}}function Q(t,e,n,r,i){var o,a={left:_?"end":"start",middle:"middle",right:_?"start":"end"}[V.y_label_x_position],s=U()*g,l=s*(r-1),c=U()/2,u=l+c,r=e.range()[0],l=e.range()[1],e=t.getBoundingClientRect().height,t="middle"==V.y_label_y_position,u={above:-u,middle:-u/2+c,below:s},s=u[V.y_label_y_position],c={right:n-c,middle:n/2,left:c}[V.y_label_x_position],e=t?(o=i-e/2<l,r<i+e/2):(o=i-e<l,r<i+e);return o&&(s=u.below),{transform_str:"translate("+c+", "+(s=e?u.above:s)+")",text_anchor:a}}t=W.appendTo().selectAll("g.axis-highlights").data(o),e=t.enter().append("g").attr("class","axis-highlights").style("opacity",0),t.merge(e).transition().duration(F).style("opacity",1).attr("transform",function(){return!i||isNaN(i.x)||isNaN(i.y)?null:"translate("+i.x+", "+i.y+")"}).each(function(t){var i,o,a,e,s,n,l,c,u,f,d,h,p,r,g,_,m,y,v,b,x,w,M,k,j,A,T,z,N,D,S,I,E,L,C,O;v=this,o=(i=t).chart_layout,a=o.margins.left,e=o.margins.top,s=Math.max(0,o.plot_height),n=Math.max(0,o.plot_width),l=o.xScale(),c=_j(i.chart_layout.xData()),z=W.xDisabled(),u=[],!z&&V.x_enabled&&V.x_areas&&V.x_areas.split("\n").map(function(t){var e,n,r=B(t);r.length<2||(e=r[0],n=H(r[1]).map(function(t,e){t=Z(t,c,o,"x"),t=t?l(t):null;return W.xExtendByStep()&&(t+=o.xMinStep()/2*(0==e?-1:1)),t}),t=r[2]||V.x_area_color,(r=r[3]||null)&&i.facet_name!==r||1<n.length&&u.push({label:e,range:n,color:t}))}),z=C7(v).selectAll("g.area.x").data(u),(v=z.enter().append("g").attr("class","area x").attr("pointer-events","none").attr("transform",function(t){return"translate("+(bj(t.range)||a)+", "+e+")"})).append("rect").attr("height",s).attr("width",function(t){return Math.abs(t.range[1]-t.range[0])||0}),v.append("text"),(v=z.merge(v)).transition().duration(F).attr("transform",function(t){t=bj(t.range);return"translate("+(Math.max(t,a)||0)+", "+e+")"}),v.select("rect").attr("width",function(t){var e=bj(t.range),t=vj(t.range),e=Math.max(e,a),t=Math.min(t,n+a);return Math.abs(t-e)||4}).style("fill",function(t){return yj(t,V.x_area_texture,"x")}).attr("opacity",V.x_area_opacity).attr("height",s),v.select("text").each(function(t){var e=W.fontFamily(),n=bj(t.range)||a,r=mj(V.x_label_max_width),e="".concat(V.x_font_weight," ").concat(V.x_font_size," ").concat(e),r=xj(t.label,e,null,r);G(r,this,V.x_font_size,V.x_font_weight,R),G(r,this,V.x_font_size,V.x_font_weight,P);r=r.length,r=q(this,l,s,r,n),n=r.transform_str,r=r.text_anchor;C7(this).attr("transform",n).attr("text-anchor",r)}).attr("font-size",Y()),v.selectAll(".".concat(P)).attr("fill",V.x_label_color),v.selectAll(".".concat(R)).attr("display",V.x_shadow_enabled?"block":"none").attr("fill","none").attr("stroke",V.x_shadow_color).attr("stroke-width",2),z.exit().remove(),v=this,d=(f=t).chart_layout,h=d.margins.top,p=Math.max(0,d.plot_width),r=Math.max(0,d.plot_height),g=d.margins.left,_=d.yScale(),m=_j(d.yData()),z=W.yDisabled(),y=[],!z&&V.y_enabled&&V.y_areas&&V.y_areas.split("\n").map(function(t){var e,n,r=B(t);r.length<2||(e=r[0],n=H(r[1]).map(function(t,e){t=Z(t,m,d,"y"),t=t&&_(t);return W.yExtendByStep()&&(t+=d.yMinStep()/2*(0==e?1:-1)),t}),t=r[2]||V.y_area_color,(r=r[3]||null)&&f.facet_name!==r||1<n.length&&y.push({label:e,range:n,color:t}))}),z=C7(v).selectAll("g.area.y").data(y),(v=z.enter().append("g").attr("class","area y").attr("pointer-events","none").attr("transform",function(t){return"translate("+g+", "+bj(t.range)+")"})).append("rect").attr("width",p).attr("height",function(t){return bj(t.range)}),v.append("text"),(v=z.merge(v)).transition().duration(F).attr("transform",function(t){t=bj(t.range),t=Math.max(t,h);return"translate("+g+", "+t+")"}),v.select("rect").attr("height",function(t){var e=bj(t.range),t=vj(t.range),t=Math.min(t,r+h),e=Math.max(e,h);return Math.abs(t-e)||4}).attr("fill",function(t){return yj(t,V.y_area_texture,"y")}).attr("opacity",V.y_area_opacity).attr("width",p),v.select("text").each(function(t){var e=W.fontFamily(),n=mj(V.y_label_max_width),r=bj(t.range)||h,e="".concat(V.y_font_weight," ").concat(V.y_font_size," ").concat(e),n=xj(t.label,e,null,n);G(n,this,V.y_font_size,V.y_font_weight,R),G(n,this,V.y_font_size,V.y_font_weight,P);n=n.length,n=Q(this,_,p,n,r),r=n.transform_str,n=n.text_anchor;C7(this).attr("transform",r).attr("text-anchor",n)}).attr("font-size",U()),v.selectAll(".".concat(P)).attr("fill",V.y_label_color),v.selectAll(".".concat(R)).attr("display",V.y_shadow_enabled?"block":"none").attr("fill","none").attr("stroke",V.y_shadow_color).attr("stroke-width",2),z.exit().remove(),v=this,x=(b=t).chart_layout,w=x.margins.left,M=x.margins.top,k=Math.max(0,x.plot_height),z=W.xDisabled(),j=x.xScale(),A=_j(x.xData()),T=[],!z&&V.x_enabled&&V.x_lines&&V.x_lines.split("\n").forEach(function(t){var e=B(t),n=e[0],r=e[1];void 0!==r&&(t=e[2]||V.x_line_color,(e=e[3]||null)&&b.facet_name!==e||T.push({label:n,x:Z(r,A,x,"x"),color:t}))}),z=C7(v).selectAll("g.line.x").data(T),(v=z.enter().append("g").attr("class","line x").attr("pointer-events","none").attr("transform",function(t){return"translate("+(j(t.x)||w)+", "+M+")"})).append("line"),v.append("text"),(v=z.merge(v)).transition().duration(F).attr("transform",function(t){return"translate("+(j(t.x)||w)+", "+M+")"}),v.select("line").attr("stroke-dasharray",V.x_line_dash+" "+V.x_line_dash).attr("stroke",function(t){return t.color}).attr("stroke-width",V.x_line_width).attr("y2",k),v.select("text").each(function(t){var e=j(t.x)||w,n=W.fontFamily(),r=mj(V.x_label_max_width),n="".concat(V.x_font_weight,"  ").concat(V.x_font_size," ").concat(n),r=xj(t.label,n,null,r);G(r,this,V.x_font_size,V.x_font_weight,R),G(r,this,V.x_font_size,V.x_font_weight,P);r=r.length,r=q(this,j,k,r,e),e=r.transform_str,r=r.text_anchor;C7(this).attr("transform",e).attr("text-anchor",r)}).attr("font-size",Y()),v.selectAll(".".concat(P)).attr("fill",V.x_label_color),v.selectAll(".".concat(R)).attr("display",V.x_shadow_enabled?"block":"none").attr("fill","none").attr("stroke",V.x_shadow_color).attr("stroke-width",2),z.exit().remove(),z=this,D=(N=t).chart_layout,S=Math.max(0,D.plot_width),I=D.margins.left,E=D.yScale(),L=_j(D.yData()),t=W.yDisabled(),C=D.margins.top,O=[],!t&&V.y_enabled&&V.y_lines&&V.y_lines.split("\n").forEach(function(t){var e=B(t),n=e[0],r=e[1];void 0!==r&&(t=e[2]||V.y_line_color,(e=e[3]||null)&&N.facet_name!==e||O.push({label:n,y:Z(r,L,D,"y"),color:t}))}),t=C7(z).selectAll("g.line.y").data(O),(z=t.enter().append("g").attr("class","line y").attr("pointer-events","none").attr("transform",function(t){return"translate("+I+", "+(E(t.y)||0)+")"})).append("line").attr("width",0),z.append("text"),(z=t.merge(z)).transition().duration(F).attr("transform",function(t){return"translate("+I+", "+(E(t.y)||0)+")"}),z.select("line").attr("stroke-dasharray",V.y_line_dash+" "+V.y_line_dash).attr("stroke",function(t){return t.color}).attr("stroke-width",V.y_line_width).attr("x2",S),z.select("text").each(function(t){var e=W.fontFamily(),n=E(t.y)||C,r=mj(V.y_label_max_width),e="".concat(V.y_font_weight," ").concat(V.y_font_size," ").concat(e),r=xj(t.label,e,null,r);G(r,this,V.y_font_size,V.y_font_weight,R),G(r,this,V.y_font_size,V.y_font_weight,P);r=r.length,r=Q(this,E,S,r,n),n=r.transform_str,r=r.text_anchor;C7(this).attr("transform",n).attr("text-anchor",r)}).attr("font-size",U()),z.selectAll(".".concat(P)).attr("fill",V.y_label_color),z.selectAll(".".concat(R)).attr("display",V.y_shadow_enabled?"block":"none").attr("fill","none").attr("stroke",V.y_shadow_color).attr("stroke-width",2),t.exit().remove()}),t.exit().remove()}}L7.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>U7&&n.state<Z7,n.state=G7,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)})},L7.prototype.transition=function(t){var e,n;t=t instanceof oj?(e=t._id,t._name):(e=++ij,(n=gj).time=X0(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&q7(a,t,e,c,s,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return n}(a,e));return new oj(r,this._parents,t,e)},document.createElement("canvas").getContext("2d");var kj,jj,Aj,Tj,zj,Nj,Dj,Sj,Ij,Ej=function(r){for(var t in od)void 0===r[t]&&(r[t]=od[t]);return{getParser:function(){return e=r.input_decimal_separator,n=new RegExp("[^-0-9eE"+e+"]","g"),function(t){return"number"==typeof t?t:""===t||void 0===t?NaN:parseFloat(t.replace(n,"").replace(e,"."))};var e,n},getFormatterFunction:function(){return t=r.output_separators,e=(n=1<t.length)?t.charAt(1):t.charAt(0),n=n?t.charAt(0):"",(t=Cf({decimal:e,thousands:n,grouping:[3],currency:["",""]}).format).decimal=e,t.thousands=n,t;var t,e,n}}}(fb.localization),Lj=ld(fb.x_formatting),Cj=ld(fb.y_formatting),Oj=ld({}),Pj=ld(fb.color_formatting),Rj=function(t){for(var e in Bo=t,Fo)void 0===Bo[e]&&(Bo[e]=Fo[e]);return(Bn=document.createElement("style")).id="flourish-page-styles",Bn.type="text/css",document.head.appendChild(Bn),Qo.wrapper=function(){var t=document.createElement("div");t.id="fl-layout-wrapper-outer",t.style.display="flex";var e=document.createElement("main");e.id="fl-layout-wrapper",e.style.display="flex",e.style.flexGrow="1",e.style.flexDirection="column",e.style.boxSizing="border-box",e.style.overflow="hidden";var n=document.createElement("aside");return n.id="fl-layout-sidebar",n.style.position="relative",Qo.sidebar=n,t.appendChild(e),t.appendChild(n),document.body.appendChild(t),e}(),qo.forEach(function(t,e){Qo[t]=Xo(t,e)}),Ko("header").appendChild(function(){(ho=document.createElement("header")).className="flourish-header";var t=document.createElement("hgroup");return po=document.createElement("h1"),go=document.createElement("h2"),_o=document.createElement("p"),mo=document.createElement("img"),ho.appendChild(mo),ho.appendChild(t),t.appendChild(po),t.appendChild(go),ho.appendChild(_o),ho}()),Ko("footer").appendChild(Lo()),Qo.primary.outer.style.overflow="hidden",function(){var t=Qo.primary.outer;t.style.position="relative",(Go=document.createElement("div")).id="fl-layout-overlay";var e=Go.style;e.position="absolute",e.display="none",e.width="100%",e.height="100%",e.top=0,e.left=0,e.backgroundColor="rgb(200,200,200)",e.zIndex=999999,e.pointerEvents="none";var n=document.createElement("p");n.className="fl-layout-overlay-message",(e=n.style).color="#333333",e.fontSize="1.5rem",e.paddingLeft="15%",e.paddingRight="15%",e.width="100%",e.boxSizing="border-box",e.position="absolute",e.top="50%",e.transform="translate(0, -50%)",e.margin="0",e.textAlign="center",Go.appendChild(n),t.appendChild(Go)}(),Ro(!0),{update:Ro,getWrapper:$o,getSidebar:Jo,getSection:Ko,getOuterWidth:ta,getInnerWidth:ea,getOuterHeight:na,getInnerHeight:ra,getPrimaryHeight:ia,getPrimaryWidth:oa,getDefaultPrimaryHeight:sa,setHeight:ua,setLegendPosition:fa,showOverlay:da,remToPx:Zo,getOverlay:ha}}(fb.layout),Fj=new kl(fb.categorical_legend),Yj=new rd(fb.continuous_legend),Uj=function(t){for(var e in Zk)void 0===t[e]&&(t[e]=Zk[e]);var n,r,i,o,a,s,l,c,u,f,d,h,p,g,_,m,y,v,b,x,w,M,k={};return r=0,(n=k).animationDuration=function(t){return void 0===t?r:(r=t,n)},o=function(t){return t},(i=k).numberParser=function(t){return void 0===t?o:(o=t,i)},(a=k).appendTo=function(t){return void 0===t?s:(void 0===a.appendPatternsTo()&&a.appendPatternsTo(s),s=t,a)},(l=k).chartLayout=function(t){return void 0===t?c:(c=t,l)},f=!1,(u=k).xDisabled=function(t){return void 0===t?f:(f=t,u)},h=!1,(d=k).yDisabled=function(t){return void 0===t?h:(h=t,d)},g=!1,(p=k).xExtendByStep=function(t){return void 0===t?g:(g=t,p)},m=!1,(_=k).yExtendByStep=function(t){return void 0===t?m:(m=t,_)},(y=k).facetName=function(t){return void 0===t?v:(v=t,y)},(b=k).fontFamily=function(t){return void 0===t?x:(x=t,b)},wj(k),(w=k).offset=function(t){return void 0===t?M:(M=t,w)},Mj(k,t),k}(fb.axes_highlights);function Bj(t,e){var n,r=location.hash.substring(1);if(""!=r){try{n=JSON.parse(decodeURIComponent(r))}catch(t){Flourish.warn({message:"Invalid JSON passed to template URL hash",explanation:t})}n&&!function t(e,n,r){for(var i in n){var o,a,s=n[i];"object"!=Zs(s)||null===s||Array.isArray(s)?-1<r.indexOf(i)?e[i]=s:Flourish.warn("State property `"+i+"` not whitelisted for use in URL"):(o=i.length,a=r.filter(function(t){return t.substring(0,o)==i}).map(function(t){return t.substring(o+1)}),t(e[i],s,a))}}(t,n,e)}}return db(Ps(Rj.getSection("primary")).append("svg").attr("id","graphic").style("position","absolute").append("g").attr("class","facets").node()).chart.remove(),Ck=H2(fb.filter),Ok=H2(fb.slider),kj=fb.controls_style,Pk=new Sk(kj,".fl-control",jj),jj=fb.button_style,Rk=new Lk(jj,".fl-control-buttons",Aj),Aj=fb.dropdown_style,Fk=new Uk(Aj,".fl-control-dropdown",Tj),zj=fb.popup,f5=new b5(zj,Nj,Dj),Sj=Rj.getSection("primary"),Ij=Rj.getSidebar(),dk=new p8(Sj,Ij,fb.annotations,{getDataFromCursor:bk,getPositionFromData:xk}),t.data=q2,t.draw=function(){var t,e,n,r;a=fb.url_state,t=fb,e=Tk,n={enabled:a.enabled||!1,whitelist:a.whitelist||""}.whitelist.split(/\n/),Bj(t,n),window.addEventListener("hashchange",function(){Bj(t,n),e&&e()}),document.fonts&&(r=r||function(){window.template.update()},document.fonts.ready.then(function(t){r(t),document.fonts.addEventListener("loadingdone",function(){r(t)})}).catch(function(t){console.log("Error loading fonts",t)})),s=Rj.getSection("controls"),Ok.appendTo(s).on("change",Hk),Ck.appendTo(s).on("change",Hk),Ps(Rj.getSection("legend")).append("div").attr("id","legend"),Fj.appendTo(Ps("#legend").node()),Yj.appendTo(Ps("#legend").node());var i,o,a=(l=Ps(Rj.getSection("primary"))).select("#graphic").on("click",function(){return f5.clickout()}),s=l.append("div").node(),l=l.append("svg").attr("id","overlay").attr("fill","currentColor").style("position","absolute");function c(){var t=Rj.getInnerWidth(),e=i!=t;Tk(e),gM(e),vk(),i=t}a.append("g").attr("class","fits"),a.append("g").attr("class","violins"),a.append("g").attr("class","data-points"),l.append("g").attr("class","lines"),a.append("g").attr("id","axes-highlights"),l.append("g").attr("class","data-labels"),l.append("g").attr("class","boxes"),Tk(!fb.line_animate_in||"except_lines"),pM(s),vk(),window.addEventListener("resize",function(){var t=0;(fb.beeswarm_plot&&Z2.boxes.category_col&&3e3<Z2.data_points.length||!_M()&&5e3<Z2.data_points.length)&&(t=200),clearTimeout(o),o=setTimeout(c,t)},!0)},t.state=fb,t.update=Mk,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=template.js.map
</script><div id="fl-layout-wrapper-outer" style="display: flex;"><main id="fl-layout-wrapper" style="display: flex; flex-grow: 1; flex-direction: column; box-sizing: border-box; overflow: hidden; height: 100vh; color: rgb(51, 51, 51); padding: 0.75rem;"><section class="fl-layout-container" id="fl-layout-header-container" style="width: 100%; position: relative; order: 0;"><div class="fl-layout-inner" id="fl-layout-header" style="width: 100%; position: relative;"><header class="flourish-header" style="text-align: left; margin: 0px;"><img src="https://preview.flourish.studio/8020357/K2S8EMEtHEbKMu-fP-GtPQ23-rRp9qT61ShXVyKmqVSgvpEfORv2vlhiof56m_II/" style="display: none; height: 3rem; margin: 0.25rem 0.5rem 0rem 0rem; float: left; width: auto;"><hgroup><h1 style="font-family: inherit; font-size: 1.6rem; line-height: 1.2; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; padding-top: 0px;"></h1><h2 style="font-family: inherit; font-size: 1.6rem; line-height: 1.2; font-weight: normal; color: rgb(51, 51, 51); margin: 0px; padding-top: 0px;"></h2></hgroup><p style="font-size: 1.2rem; line-height: 1.2; font-weight: normal; margin: 0px; color: rgb(51, 51, 51); padding-top: 0px;"></p></header></div></section><section class="fl-layout-container" id="fl-layout-controls-container" style="width: 100%; position: relative; order: 10; text-align: left;"><div class="fl-layout-inner" id="fl-layout-controls" aria-hidden="true" style="width: 100%; position: relative;"><div class="fl-controls-container" style="display: none;"><div class="fl-controls-title" style="display: none;"></div><div class="fl-control fl-control-dropdown" style="display: none;"><div class="main"><span class="current"></span><span class="symbol" style="width: 10px;"><div style="border-width: 5px; border-style: solid; border-left-color: transparent; border-right-color: transparent; border-bottom-color: transparent; top: 50%; position: absolute; margin-top: -2.5px;"></div></span></div><div class="list" style="display: none;"></div></div><div class="fl-control fl-control-buttons hidden"></div><div class="fl-control fl-control-slider animatable" style="display: none;"><div class="slider-play"></div><div class="fl-controls-slider"></div></div></div><div class="fl-controls-container" style="display: none;"><div class="fl-controls-title" style="display: none;"></div><div class="fl-control fl-control-dropdown" style="display: none;"><div class="main"><span class="current"></span><span class="symbol" style="width: 10px;"><div style="border-width: 5px; border-style: solid; border-left-color: transparent; border-right-color: transparent; border-bottom-color: transparent; top: 50%; position: absolute; margin-top: -2.5px;"></div></span></div><div class="list" style="display: none;"></div></div><div class="fl-control fl-control-buttons hidden"></div><div class="fl-control fl-control-slider animatable" style="display: none;"><div class="slider-play"></div><div class="fl-controls-slider"></div></div></div></div></section><section class="fl-layout-container" id="fl-layout-legend-container" style="width: 100%; position: relative; order: 19; text-align: left;"><div class="fl-layout-inner" id="fl-layout-legend" aria-hidden="true" style="width: 100%; position: relative;"><div id="legend" style="display: block;"><div class="fl-legend-container interactive" id="fl-legend-discrete-color-0" style="display: none;"><p class="fl-legend-title"></p></div><div class="fl-legend-container" id="fl-legend-continuous-color-0" style="display: none;"><p class="fl-legend-title"></p><div class="min label"></div><div class="color-range-container"><canvas class="color-range"></canvas><canvas class="color-range-labels"></canvas></div><div class="max label"></div></div></div></div></section><section class="fl-layout-container" id="fl-layout-primary-container" style="width: 100%; position: relative; order: 20; display: flex; overflow: hidden; flex: 1 1 auto;"><p id="fl-layout-primary-description" style="border: 0px; height: 1px; width: 1px; margin: -1px; overflow: hidden; padding: 0px; position: absolute; clip: rect(0px, 0px, 0px, 0px);"></p><div class="fl-layout-inner" id="fl-layout-primary" aria-hidden="true" style="width: 100%; position: relative;"><svg id="graphic" style="position: absolute;" font-family="Source Sans Pro" width="1571.2239990234375" height="756.2"><g class="facets"><g class="facet" transform="translate(0,19.2)" opacity="1"><g class="fl-chart"><clippath class="fl-data-clip-path" id="fl-chart-layout-1-clip-path"><rect x="81.28296798706054" y="0" width="1476.1524467801905" height="639.3544655278954"></rect></clippath><clippath class="fl-grid-clip-path" id="fl-chart-layout-1-grid-clip-path"><rect x="79.6163012210528" y="-1.6666667660077472" width="1479.485780312206" height="642.6877990599108"></rect></clippath><g class="fl-chart-background"><rect class="fl-chart-fill" x="81.28296798706054" y="0" width="1476.1524467801905" height="639.3544655278954" fill="none"></rect><image class="fl-chart-image" x="81.28296798706054" y="0" width="1476.1524467801905" height="639.3544655278954" preserveAspectRatio="none"></image><rect class="fl-chart-interaction" x="81.28296798706054" y="0" width="1476.1524467801905" height="639.3544655278954" style="opacity: 0;"></rect></g><g class="fl-data-background" clip-path="url(#fl-chart-layout-1-clip-path)"></g><g class="fl-gridlines" clip-path="url(#fl-chart-layout-1-grid-clip-path)" style="pointer-events: none;"><g class="fl-gridlines-vertical"><line x1="81.28296798706054" x2="81.28296798706054" y1="639.3544655278954" y2="0" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="186.72242847135988" x2="186.72242847135988" y1="639.3544655278954" y2="0" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="292.1618889556592" x2="292.1618889556592" y1="639.3544655278954" y2="0" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="397.60134943995854" x2="397.60134943995854" y1="639.3544655278954" y2="0" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="503.04080992425787" x2="503.04080992425787" y1="639.3544655278954" y2="0" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="608.4802704085572" x2="608.4802704085572" y1="639.3544655278954" y2="0" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="713.9197308928565" x2="713.9197308928565" y1="639.3544655278954" y2="0" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="819.3591913771559" x2="819.3591913771559" y1="639.3544655278954" y2="0" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="924.7986518614551" x2="924.7986518614551" y1="639.3544655278954" y2="0" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="1030.2381123457546" x2="1030.2381123457546" y1="639.3544655278954" y2="0" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="1135.6775728300538" x2="1135.6775728300538" y1="639.3544655278954" y2="0" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="1241.1170333143532" x2="1241.1170333143532" y1="639.3544655278954" y2="0" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="1346.5564937986526" x2="1346.5564937986526" y1="639.3544655278954" y2="0" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="1451.995954282952" x2="1451.995954282952" y1="639.3544655278954" y2="0" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="1557.4354147672511" x2="1557.4354147672511" y1="639.3544655278954" y2="0" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line></g><g class="fl-gridlines-horizontal"><line x1="81.28296798706054" x2="1557.4354147672511" y1="639.3544655278954" y2="639.3544655278954" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="81.28296798706054" x2="1557.4354147672511" y1="596.7308344927023" y2="596.7308344927023" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="81.28296798706054" x2="1557.4354147672511" y1="554.1072034575094" y2="554.1072034575094" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="81.28296798706054" x2="1557.4354147672511" y1="511.48357242231634" y2="511.48357242231634" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="81.28296798706054" x2="1557.4354147672511" y1="468.85994138712334" y2="468.85994138712334" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="81.28296798706054" x2="1557.4354147672511" y1="426.2363103519303" y2="426.2363103519303" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="81.28296798706054" x2="1557.4354147672511" y1="383.6126793167372" y2="383.6126793167372" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="81.28296798706054" x2="1557.4354147672511" y1="340.9890482815442" y2="340.9890482815442" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="81.28296798706054" x2="1557.4354147672511" y1="298.36541724635117" y2="298.36541724635117" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="81.28296798706054" x2="1557.4354147672511" y1="255.74178621115817" y2="255.74178621115817" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="81.28296798706054" x2="1557.4354147672511" y1="213.11815517596514" y2="213.11815517596514" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="81.28296798706054" x2="1557.4354147672511" y1="170.49452414077214" y2="170.49452414077214" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="81.28296798706054" x2="1557.4354147672511" y1="127.87089310557906" y2="127.87089310557906" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="81.28296798706054" x2="1557.4354147672511" y1="85.24726207038603" y2="85.24726207038603" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="81.28296798706054" x2="1557.4354147672511" y1="42.623631035193014" y2="42.623631035193014" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><line x1="81.28296798706054" x2="1557.4354147672511" y1="0" y2="0" style="shape-rendering: crispedges; opacity: 1; stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line></g></g><g class="fl-axes"><g class="fl-x-axes"><g class="fl-axis fl-x-axis fl-bottom-axis"><g class="fl-axis-line"><line x1="81.28296798706054" y1="639.3544655278954" y2="639.3544655278954" x2="1557.4354147672511" style="shape-rendering: crispedges; stroke-linecap: square; stroke-width: 1.66667; opacity: 1; stroke: rgb(238, 238, 238);"></line></g><g class="fl-axis-ticks"><g transform="translate(292.1618957519531, 639.3544921875)" style="opacity: 1;"><line y2="9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(0,14.399999999999999) rotate(-45,0,0) translate(0,11.404800000000002)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">300</tspan></text></g><g transform="translate(1557.4354248046875, 639.3544921875)" style="opacity: 1;"><line y2="9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(0,14.399999999999999) rotate(-45,0,0) translate(0,11.404800000000002)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">360</tspan></text></g><g transform="translate(1346.5565185546875, 639.3544921875)" style="opacity: 1;"><line y2="9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(0,14.399999999999999) rotate(-45,0,0) translate(0,11.404800000000002)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">350</tspan></text></g><g transform="translate(1135.6776123046875, 639.3544921875)" style="opacity: 1;"><line y2="9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(0,14.399999999999999) rotate(-45,0,0) translate(0,11.404800000000002)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">340</tspan></text></g><g transform="translate(924.7986450195312, 639.3544921875)" style="opacity: 1;"><line y2="9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(0,14.399999999999999) rotate(-45,0,0) translate(0,11.404800000000002)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">330</tspan></text></g><g transform="translate(713.9197387695312, 639.3544921875)" style="opacity: 1;"><line y2="9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(0,14.399999999999999) rotate(-45,0,0) translate(0,11.404800000000002)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">320</tspan></text></g><g transform="translate(503.0408020019531, 639.3544921875)" style="opacity: 1;"><line y2="9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(0,14.399999999999999) rotate(-45,0,0) translate(0,11.404800000000002)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">310</tspan></text></g><g transform="translate(81.28296661376953, 639.3544921875)" style="opacity: 1;"><line y2="9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(0,14.399999999999999) rotate(-45,0,0) translate(0,11.404800000000002)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">290</tspan></text></g><g transform="translate(1451.9959716796875, 639.3544921875)" style="opacity: 1;"><line y2="9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(0,14.399999999999999) rotate(-45,0,0) translate(0,11.404800000000002)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">355</tspan></text></g><g transform="translate(1241.1170654296875, 639.3544921875)" style="opacity: 1;"><line y2="9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(0,14.399999999999999) rotate(-45,0,0) translate(0,11.404800000000002)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">345</tspan></text></g><g transform="translate(1030.2381591796875, 639.3544921875)" style="opacity: 1;"><line y2="9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(0,14.399999999999999) rotate(-45,0,0) translate(0,11.404800000000002)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">335</tspan></text></g><g transform="translate(819.3591918945312, 639.3544921875)" style="opacity: 1;"><line y2="9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(0,14.399999999999999) rotate(-45,0,0) translate(0,11.404800000000002)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">325</tspan></text></g><g transform="translate(608.4802856445312, 639.3544921875)" style="opacity: 1;"><line y2="9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(0,14.399999999999999) rotate(-45,0,0) translate(0,11.404800000000002)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">315</tspan></text></g><g transform="translate(397.6013488769531, 639.3544921875)" style="opacity: 1;"><line y2="9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(0,14.399999999999999) rotate(-45,0,0) translate(0,11.404800000000002)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">305</tspan></text></g><g transform="translate(186.72242736816406, 639.3544921875)" style="opacity: 1;"><line y2="9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(0,14.399999999999999) rotate(-45,0,0) translate(0,11.404800000000002)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">295</tspan></text></g></g><g class="fl-axis-title"><text text-anchor="middle" style="font-size: 21.12px; fill: rgb(170, 170, 170); font-weight: normal; user-select: none; cursor: default;" x="819.3591913771559" y="698.8133320617676" dy="21.12">MINUTE_ECONOMIC</text></g></g><g class="fl-axis fl-x-axis fl-top-axis"><g class="fl-axis-line"></g><g class="fl-axis-ticks"></g><g class="fl-axis-title"></g></g></g><g class="fl-y-axes"><g class="fl-axis fl-y-axis fl-left-axis"><g class="fl-axis-line"><line x1="81.28296798706054" x2="81.28296798706054" y1="639.3544655278954" y2="0" style="shape-rendering: crispedges; stroke-linecap: square; stroke-width: 1.66667; opacity: 1; stroke: rgb(238, 238, 238);"></line></g><g class="fl-axis-ticks"><g transform="translate(81.28296661376953, 170.49452209472656)" style="opacity: 1;"><line x2="-9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(-14.399999999999999,5.702400000000001)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">80</tspan></text></g><g transform="translate(81.28296661376953, 383.6126708984375)" style="opacity: 1;"><line x2="-9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(-14.399999999999999,5.702400000000001)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">70</tspan></text></g><g transform="translate(81.28296661376953, 596.7308349609375)" style="opacity: 1;"><line x2="-9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(-14.399999999999999,5.702400000000001)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">60</tspan></text></g><g transform="translate(81.28296661376953, 0)" style="opacity: 1;"><line x2="-9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(-14.399999999999999,5.702400000000001)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">88</tspan></text></g><g transform="translate(81.28296661376953, 42.62363052368164)" style="opacity: 1;"><line x2="-9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(-14.399999999999999,5.702400000000001)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">86</tspan></text></g><g transform="translate(81.28296661376953, 85.24726104736328)" style="opacity: 1;"><line x2="-9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(-14.399999999999999,5.702400000000001)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">84</tspan></text></g><g transform="translate(81.28296661376953, 127.87089538574219)" style="opacity: 1;"><line x2="-9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(-14.399999999999999,5.702400000000001)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">82</tspan></text></g><g transform="translate(81.28296661376953, 213.11814880371094)" style="opacity: 1;"><line x2="-9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(-14.399999999999999,5.702400000000001)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">78</tspan></text></g><g transform="translate(81.28296661376953, 255.74179077148438)" style="opacity: 1;"><line x2="-9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(-14.399999999999999,5.702400000000001)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">76</tspan></text></g><g transform="translate(81.28296661376953, 298.36541748046875)" style="opacity: 1;"><line x2="-9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(-14.399999999999999,5.702400000000001)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">74</tspan></text></g><g transform="translate(81.28296661376953, 340.9890441894531)" style="opacity: 1;"><line x2="-9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(-14.399999999999999,5.702400000000001)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">72</tspan></text></g><g transform="translate(81.28296661376953, 426.2362976074219)" style="opacity: 1;"><line x2="-9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(-14.399999999999999,5.702400000000001)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">68</tspan></text></g><g transform="translate(81.28296661376953, 468.8599548339844)" style="opacity: 1;"><line x2="-9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(-14.399999999999999,5.702400000000001)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">66</tspan></text></g><g transform="translate(81.28296661376953, 511.48358154296875)" style="opacity: 1;"><line x2="-9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(-14.399999999999999,5.702400000000001)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">64</tspan></text></g><g transform="translate(81.28296661376953, 554.107177734375)" style="opacity: 1;"><line x2="-9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(-14.399999999999999,5.702400000000001)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">62</tspan></text></g><g transform="translate(81.28296661376953, 639.3544921875)" style="opacity: 1;"><line x2="-9.6" style="stroke: rgb(238, 238, 238); stroke-width: 1.66667;"></line><text text-anchor="end" transform="translate(-14.399999999999999,5.702400000000001)" style="user-select: none; cursor: default; fill: rgb(170, 170, 170); font-size: 17.28px; font-weight: normal;"><tspan x="0" dy="0">58</tspan></text></g></g><g class="fl-axis-title"><text text-anchor="middle" style="font-size: 21.12px; fill: rgb(170, 170, 170); font-weight: normal; user-select: none; cursor: default;" x="0" y="0" transform="translate(31.21706771850586, 319.67724609375) rotate(-90)">OFFERED_RATE</text></g></g><g class="fl-axis fl-y-axis fl-right-axis"><g class="fl-axis-line"></g><g class="fl-axis-ticks"></g><g class="fl-axis-title"></g></g></g></g><g class="fl-data-foreground" clip-path="url(#fl-chart-layout-1-clip-path)"></g></g><text class="facet-title" y="0" font-size="1.25rem" font-weight="bold" dominant-baseline="middle" x="81.28296798706054" clip-path="url(#facet-clip-0-2)" fill="rgb(136, 136, 136)" opacity="0"></text></g></g><g class="fits"></g><g class="violins"></g><g class="lines"></g><g class="data-points"><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(947.995361328125, 579.7007446289062) scale(2.131181478500366,2.131181478500366)" id="dot-0"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(952.212890625, 541.3394775390625) scale(2.131181478500366,2.131181478500366)" id="dot-1"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(1169.418212890625, 387.8944091796875) scale(2.131181478500366,2.131181478500366)" id="dot-2"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(441.88592529296875, 49.03654098510742) scale(2.131181478500366,2.131181478500366)" id="dot-3"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(1475.192626953125, 398.5503234863281) scale(2.131181478500366,2.131181478500366)" id="dot-4"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(1061.8699951171875, 377.2384948730469) scale(2.131181478500366,2.131181478500366)" id="dot-5"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(800.3800659179688, 234.4493408203125) scale(2.131181478500366,2.131181478500366)" id="dot-6"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(1222.137939453125, 279.20416259765625) scale(2.131181478500366,2.131181478500366)" id="dot-7"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(929.0162353515625, 383.6320495605469) scale(2.131181478500366,2.131181478500366)" id="dot-8"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(834.1207275390625, 434.7803955078125) scale(2.131181478500366,2.131181478500366)" id="dot-9"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(1144.1126708984375, 549.8641967773438) scale(2.131181478500366,2.131181478500366)" id="dot-10"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(783.509765625, 447.5675048828125) scale(2.131181478500366,2.131181478500366)" id="dot-11"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(1447.7783203125, 394.2879638671875) scale(2.131181478500366,2.131181478500366)" id="dot-12"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(916.363525390625, 390.0256042480469) scale(2.131181478500366,2.131181478500366)" id="dot-13"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(756.0955200195312, 586.0942993164062) scale(2.131181478500366,2.131181478500366)" id="dot-14"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(1424.5816650390625, 217.39988708496094) scale(2.131181478500366,2.131181478500366)" id="dot-15"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(509.3671875, 505.1094055175781) scale(2.131181478500366,2.131181478500366)" id="dot-16"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(536.7814331054688, 577.569580078125) scale(2.131181478500366,2.131181478500366)" id="dot-17"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(1236.8994140625, 592.4878540039062) scale(2.131181478500366,2.131181478500366)" id="dot-18"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(1133.5687255859375, 573.3071899414062) scale(2.131181478500366,2.131181478500366)" id="dot-19"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(462.97381591796875, 609.5372924804688) scale(2.131181478500366,2.131181478500366)" id="dot-20"></path><path class="data-point" d="M3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,-3.989422804014327,0A3.989422804014327,3.989422804014327,0,1,1,3.989422804014327,0" vector-effect="non-scaling-stroke" stroke="#1D6996" fill="#1D6996" fill-opacity="0.8" stroke-opacity="0" stroke-width="1" transform="translate(277.4003601074219, 453.9610290527344) scale(2.131181478500366,2.131181478500366)" id="dot-21"></path></g><g id="axes-highlights"><g class="axis-highlights-facet" opacity="1"><g class="axis-highlights" transform="translate(0, 19.200000762939453)" style="opacity: 1;"><g class="line x" pointer-events="none" transform="translate(819.3591918945312, 0)"><line stroke-dasharray="2 2" stroke="#333333" stroke-width="2" y2="639.3544655278954"></line><text transform="translate(8.64, 319.6772327639477)" text-anchor="start" font-size="17.28"><tspan class="bg-label" y="0px" x="0" font-weight="regular" display="block" fill="none" stroke="#FFFFFF" stroke-width="2">低参团率 高经济↓</tspan><tspan class="fg-label" y="0px" x="0" font-weight="regular" fill="#888888">低参团率 高经济↓</tspan></text></g><g class="line y" pointer-events="none" transform="translate(81.28296661376953, 319.67724609375)"><line width="0" stroke-dasharray="2 2" stroke="#333333" stroke-width="2" x2="1476.1524467801905"></line><text transform="translate(8.64, -8.64)" text-anchor="start" font-size="17.28"><tspan class="bg-label" y="0px" x="0" font-weight="regular" display="block" fill="none" stroke="#FFFFFF" stroke-width="2">低经济 高参团率  ↑</tspan><tspan class="fg-label" y="0px" x="0" font-weight="regular" fill="#888888">低经济 高参团率  ↑</tspan></text></g></g><defs><pattern id="fl-pattern-diagonal-x" width="4" height="4" patternUnits="userSpaceOnUse"><path d="M 0,4 l 4,-4 M -1,1 l 2,-2 M 3,5 l 2,-2" stroke-width="1" shape-rendering="auto" stroke-linecap="square" style="stroke: rgb(85, 85, 85);"></path></pattern><pattern id="fl-pattern-dots-x" width="5" height="5" patternUnits="userSpaceOnUse"><circle cx="2.5" cy="2.5" r="1" stroke-width="1" shape-rendering="auto" style="fill: rgb(85, 85, 85);"></circle></pattern><pattern id="fl-pattern-grid-x" width="4" height="4" patternUnits="userSpaceOnUse"><path d="M 2, 0 l 0, 4" stroke-width="1" shape-rendering="auto" stroke-linecap="square" style="stroke: rgb(85, 85, 85);"></path><path d="M 0,2 l 4,0" stroke-width="1" shape-rendering="auto" stroke-linecap="square" style="stroke: rgb(85, 85, 85);"></path></pattern><pattern id="fl-pattern-diagonal-y" width="4" height="4" patternUnits="userSpaceOnUse"><path d="M 0,4 l 4,-4 M -1,1 l 2,-2 M 3,5 l 2,-2" stroke-width="1" shape-rendering="auto" stroke-linecap="square" style="stroke: rgb(85, 85, 85);"></path></pattern><pattern id="fl-pattern-grid-y" width="4" height="4" patternUnits="userSpaceOnUse"><path d="M 2, 0 l 0, 4" stroke-width="1" shape-rendering="auto" stroke-linecap="square" style="stroke: rgb(85, 85, 85);"></path><path d="M 0,2 l 4,0" stroke-width="1" shape-rendering="auto" stroke-linecap="square" style="stroke: rgb(85, 85, 85);"></path></pattern><pattern id="fl-pattern-dots-y" width="5" height="5" patternUnits="userSpaceOnUse"><circle cx="2.5" cy="2.5" r="1" stroke-width="1" shape-rendering="auto" style="fill: rgb(85, 85, 85);"></circle></pattern></defs></g></g></svg><svg class="fl-annotations fl-ignore-svg-download"><defs></defs><g class="fl-annotations-cursor inner-outline"><circle r="16"></circle><line x1="-6" x2="6"></line><line y1="-6" y2="6"></line></g><g class="fl-annotations-cursor"><circle r="16"></circle><line x1="-6" x2="6"></line><line y1="-6" y2="6"></line></g></svg><div class="fl-annotations"></div><div style="position: absolute; top: 0px; left: 0px; width: 1571.22px; height: 756.224px; display: none;"><canvas width="1885" height="907" style="width: 1571.22px; height: 756.224px;"></canvas></div><svg id="overlay" fill="currentColor" style="position: absolute;" width="1571.2239990234375" height="756.2"><g class="data-labels"><g class="data-label" transform="translate(959.4974975585938, 579.7007446289062)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">Tarzan</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">Tarzan</text></g><g class="data-label" transform="translate(963.715087890625, 541.3394775390625)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">Canyon</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">Canyon</text></g><g class="data-label" transform="translate(1180.92041015625, 387.8944091796875)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">Oner</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">Oner</text></g><g class="data-label" transform="translate(453.3880920410156, 49.03654098510742)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">Santorin</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">Santorin</text></g><g class="data-label" transform="translate(1486.69482421875, 398.5503234863281)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">blaber</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">blaber</text></g><g class="data-label" transform="translate(1073.3721923828125, 377.2384948730469)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">Willer</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">Willer</text></g><g class="data-label" transform="translate(811.8822631835938, 234.4493408203125)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">Jiejie</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">Jiejie</text></g><g class="data-label" transform="translate(1233.64013671875, 279.20416259765625)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">WEI</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">WEI</text></g><g class="data-label" transform="translate(940.5184326171875, 383.6320495605469)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">River</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">River</text></g><g class="data-label" transform="translate(845.6229248046875, 434.7803955078125)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">Clid</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">Clid</text></g><g class="data-label" transform="translate(1155.6148681640625, 549.8641967773438)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">Husha</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">Husha</text></g><g class="data-label" transform="translate(795.011962890625, 447.5675048828125)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">Inspired</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">Inspired</text></g><g class="data-label" transform="translate(1459.280517578125, 394.2879638671875)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">Babip</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">Babip</text></g><g class="data-label" transform="translate(927.8656616210938, 390.0256042480469)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">Elyoya</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">Elyoya</text></g><g class="data-label" transform="translate(767.5977172851562, 586.0942993164062)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">Steal</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">Steal</text></g><g class="data-label" transform="translate(1436.0838623046875, 217.39988708496094)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">Bwipo</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">Bwipo</text></g><g class="data-label" transform="translate(520.869384765625, 505.1094055175781)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">Closer</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">Closer</text></g><g class="data-label" transform="translate(548.2836303710938, 577.569580078125)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">AHaHaCiK</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">AHaHaCiK</text></g><g class="data-label" transform="translate(1248.401611328125, 592.4878540039062)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">Aegis</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">Aegis</text></g><g class="data-label" transform="translate(1145.0709228515625, 573.3071899414062)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">Mojito</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">Mojito</text></g><g class="data-label" transform="translate(474.47601318359375, 609.5372924804688)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">Tian</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">Tian</text></g><g class="data-label" transform="translate(288.9025573730469, 453.9610290527344)" pointer-events="none" text-anchor="start"><text dominant-baseline="middle" dy="0.1em" class="label-bg" fill="#1D6996" stroke="#ffffff" stroke-width="2.4" font-size="12">SolidSnake</text><text dominant-baseline="middle" dy="0.1em" class="label-main" fill="#1D6996" font-size="12">SolidSnake</text></g></g><g class="boxes"></g></svg></div><div id="fl-layout-overlay" style="position: absolute; display: none; width: 100%; height: 100%; top: 0px; left: 0px; background-color: rgb(200, 200, 200); z-index: 999999; pointer-events: none;"><p class="fl-layout-overlay-message" style="color: rgb(51, 51, 51); font-size: 1.5rem; padding-left: 15%; padding-right: 15%; width: 100%; box-sizing: border-box; position: absolute; top: 50%; transform: translate(0px, -50%); margin: 0px; text-align: center;"></p></div></section><section class="fl-layout-container" id="fl-layout-footer-container" style="width: 100%; position: relative; order: 30;"><div class="fl-layout-inner" id="fl-layout-footer" style="width: 100%; position: relative;"><footer class="flourish-footer" style="display: flex; height: 0px; width: 100%; font-family: inherit; font-weight: normal; justify-content: space-between; font-size: 1rem; color: rgb(51, 51, 51); align-items: center;"><div class="flourish-footer-text"><p></p></div><a target="_blank" href="https://preview.flourish.studio/8020357/K2S8EMEtHEbKMu-fP-GtPQ23-rRp9qT61ShXVyKmqVSgvpEfORv2vlhiof56m_II/" style="cursor: default;"><img class="flourish-footer-logo" src="https://preview.flourish.studio/8020357/K2S8EMEtHEbKMu-fP-GtPQ23-rRp9qT61ShXVyKmqVSgvpEfORv2vlhiof56m_II/" style="height: 1.5rem; margin-left: 0.25rem; display: none;"></a></footer></div></section></main><aside id="fl-layout-sidebar" style="position: relative;"></aside></div><div id="flourish-popup-constrainer" style="overflow: hidden; pointer-events: none; position: absolute; left: 0px; top: 0px; margin: 0px; padding: 0px; width: 1600px; height: 785px;"><div class="flourish-popup" id="flourish-popup-1" style="display: none; padding: 0px; margin: 0px; position: absolute; width: 70px; height: 70px; box-sizing: border-box; left: -15px; top: -15px;"><svg class="flourish-popup-svg" width="70" height="70" style="position: absolute; inset: 0px;"><filter id="dropshadow-1" height="130%"><fegaussianblur in="SourceAlpha" stdDeviation="5"></fegaussianblur><feoffset dx="0" dy="2" result="offsetblur"></feoffset><fecomponenttransfer><fefunca type="linear" slope="0.2"></fefunca></fecomponenttransfer><femerge><femergenode></femergenode><femergenode in="SourceGraphic"></femergenode></femerge></filter><g filter="url(#dropshadow-1)" fill="white" stroke="none"><rect x="25" y="25" rx="5" width="20" height="20"></rect><path d="M0,0L15,10,10,15Z" transform="translate(15,15)"></path></g></svg><div class="flourish-popup-content" style="position: absolute; left: 25px; top: 25px; padding: 10px; max-width: 1120px;"></div></div><div class="flourish-popup" id="flourish-popup-2" style="display: none; padding: 0px; margin: 0px; position: absolute; width: 70px; height: 70px; box-sizing: border-box; left: -15px; top: -15px;"><svg class="flourish-popup-svg" width="70" height="70" style="position: absolute; inset: 0px;"><filter id="dropshadow-2" height="130%"><fegaussianblur in="SourceAlpha" stdDeviation="5"></fegaussianblur><feoffset dx="0" dy="2" result="offsetblur"></feoffset><fecomponenttransfer><fefunca type="linear" slope="0.2"></fefunca></fecomponenttransfer><femerge><femergenode></femergenode><femergenode in="SourceGraphic"></femergenode></femerge></filter><g filter="url(#dropshadow-2)" fill="white" stroke="none"><rect x="25" y="25" rx="5" width="20" height="20"></rect><path d="M0,0L15,10,10,15Z" transform="translate(15,15)"></path></g></svg><div class="flourish-popup-content" style="position: absolute; left: 25px; top: 25px; padding: 10px; max-width: 1120px;"></div></div></div><script src="./S11打野_files/embedded.js.下载"></script><script>
		function _Flourish_unflattenInto(dest, src) {
			dest = dest || {};
			for (var k in src) {
				var t = dest;
				for (var i = k.indexOf("."), p = 0; i >= 0; i = k.indexOf(".", p = i+1)) {
					var s = k.substring(p, i);
					if (!(s in t)) t[s] = {};
					t = t[s];
				}
				t[k.substring(p)] = src[k];
			}
			return dest;
		}
		var _Flourish_settings = {"anno_x_areas":"Above average ↓ :: 50.6 >> 80","anno_x_enabled":"true","anno_x_fill_opacity":"0.08","anno_x_label_align":"left","anno_x_label_color":"#060606","anno_x_lines":" ::  50.6","anno_y_areas":" :: 79.4 >> 150","anno_y_enabled":"true","anno_y_fill_opacity":"0.08","anno_y_label_align":"right","anno_y_label_color":"#0e0e0e","anno_y_lines":"Above average ↑ :: 79.4","axes_highlights.x_enabled":true,"axes_highlights.x_label_max_width":10,"axes_highlights.x_label_vertical":false,"axes_highlights.x_label_x_position":"right","axes_highlights.x_label_y_position":"middle","axes_highlights.x_lines":"低参团率 高经济↓ :: 325","axes_highlights.y_enabled":true,"axes_highlights.y_label_max_width":10,"axes_highlights.y_label_x_position":"left","axes_highlights.y_label_y_position":"above","axes_highlights.y_lines":"低经济 高参团率  ↑ :: 73","color_type":"auto","label_align":"start","label_color":null,"label_offset":"next","labels_show":true,"layout.header_align":"left","layout.screenreader_hide_primary":true,"legend_position":"above","localization.output_separators":",.","margin_top":1,"popup.is_custom":"false","popup.mode":"popup","x_axis_label":"","x.axis_position":"bottom","x.gridlines_visible":true,"x.linear_max":360,"x.linear_min":290,"x.numeric_scale_type":"linear","x.tick_label_position":"default","x_type":"auto","y_axis_label":"","y.linear_max":88,"y.linear_min":58};
		_Flourish_unflattenInto(window.template.state, _Flourish_settings);

		var _Flourish_data_column_names = {"data":{"metadata":[],"name":["player_name"],"x":"MINUTE_ECONOMIC","y":"OFFERED_RATE"}},
		    _Flourish_data_metadata = {"data":{"metadata":[],"name":[null]}},
		    _Flourish_data = {"data":[{"metadata":[],"name":["Tarzan"],"x":"331.1","y":"61.7"},{"metadata":[],"name":["Canyon"],"x":"331.3","y":"63.5"},{"metadata":[],"name":["Oner"],"x":"341.6","y":"70.7"},{"metadata":[],"name":["Santorin"],"x":"307.1","y":"86.6"},{"metadata":[],"name":["blaber"],"x":"356.1","y":"70.2"},{"metadata":[],"name":["Willer"],"x":"336.5","y":"71.2"},{"metadata":[],"name":["Jiejie"],"x":"324.1","y":"77.9"},{"metadata":[],"name":["WEI"],"x":"344.1","y":"75.8"},{"metadata":[],"name":["River"],"x":"330.2","y":"70.9"},{"metadata":[],"name":["Clid"],"x":"325.7","y":"68.5"},{"metadata":[],"name":["Husha"],"x":"340.4","y":"63.1"},{"metadata":[],"name":["Inspired"],"x":"323.3","y":"67.9"},{"metadata":[],"name":["Babip"],"x":"354.8","y":"70.4"},{"metadata":[],"name":["Elyoya"],"x":"329.6","y":"70.6"},{"metadata":[],"name":["Steal"],"x":"322.0","y":"61.4"},{"metadata":[],"name":["Bwipo"],"x":"353.7","y":"78.7"},{"metadata":[],"name":["Closer"],"x":"310.3","y":"65.2"},{"metadata":[],"name":["AHaHaCiK"],"x":"311.6","y":"61.8"},{"metadata":[],"name":["Aegis"],"x":"344.8","y":"61.1"},{"metadata":[],"name":["Mojito"],"x":"339.9","y":"62.0"},{"metadata":[],"name":["Tian"],"x":"308.1","y":"60.3"},{"metadata":[],"name":["SolidSnake"],"x":"299.3","y":"67.6"}]},
		    _Flourish_visualisation_id = 8020357,
		    _Flourish_template_id = 2129;
		for (var _Flourish_dataset in _Flourish_data) {
				window.template.data[_Flourish_dataset] = _Flourish_data[_Flourish_dataset];
				window.template.data[_Flourish_dataset].column_names = _Flourish_data_column_names[_Flourish_dataset];
				window.template.data[_Flourish_dataset].metadata = _Flourish_data_metadata[_Flourish_dataset];
		}

		
		window.template.draw();
	</script><div class="xl-chrome-ext-bar" id="xl_chrome_ext_{4DB361DE-01F7-4376-B494-639E489D19ED}" style="display: none;">
      <div class="xl-chrome-ext-bar__logo"></div>

      <a id="xl_chrome_ext_download" href="javascript:;" class="xl-chrome-ext-bar__option">下载视频</a>
      <a id="xl_chrome_ext_close" href="javascript:;" class="xl-chrome-ext-bar__close"></a>
    </div></body><div id="sc-translator-shadow" style="all: initial;"></div></html>